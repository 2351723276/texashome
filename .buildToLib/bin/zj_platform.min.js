var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(a,s){function o(t){try{h(n.next(t))}catch(e){s(e)}}function r(t){try{h(n["throw"](t))}catch(e){s(e)}}function h(t){t.done?a(t.value):new i(function(e){e(t.value)}).then(o,r)}h((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(a)throw new TypeError("Generator is already executing.");for(;h;)try{if(a=1,s&&(o=s[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,s=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(o=h.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){h.label=i[1];break}if(6===i[0]&&h.label<o[1]){h.label=o[1],o=i;break}if(o&&h.label<o[2]){h.label=o[2],h.ops.push(i);break}o[2]&&h.ops.pop(),h.trys.pop();continue}i=e.call(t,h)}catch(n){i=[6,n],s=0}finally{a=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,s,o,r,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},lzm;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addToStage,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.removeFromStage,e),e}return __extends(e,t),e.prototype.addToStage=function(t){},e.prototype.removeFromStage=function(t){},e.prototype.gotoPanel=function(t){this.parent.addChildAt(t,0),this.dispose()},e.prototype.dispose=function(){null!=this.parent&&this.parent.removeChild(this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)},e}(egret.DisplayObjectContainer);t.BasePanel=e,__reflect(e.prototype,"lzm.BasePanel")}(lzm||(lzm={}));var lzm;!function(t){var e=function(){function e(t,e){void 0===e&&(e=null),this._enabled=!0,this._target=t,this._callBack=e,this._target.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this._target.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouch,this),this._target.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouch,this),this._target.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouch,this),this._target.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouch,this),this._target.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this)}return e.prototype.onTouch=function(e){var i=new t.Touch;i.type=e.type,i.localPoint=new egret.Point(e.localX,e.localY),i.stagePoint=new egret.Point(e.stageX,e.stageY),this.checkGestures(i)},e.prototype.checkGestures=function(t){},Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.setEnabled=function(t){this._enabled=t,this._enabled?this._target.touchEnabled=!0:this._target.touchEnabled=!1},e.prototype.getenabled=function(){return this._enabled},e.prototype.dispose=function(){this._target.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouch,this),this._target.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouch,this),this._target.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouch,this),this._target.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouch,this),this._target.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouch,this),this._target.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouch,this),this._target=null,this._callBack=null},e}();t.Gestures=e,__reflect(e.prototype,"lzm.Gestures")}(lzm||(lzm={}));var starlingswf;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTextField=function(t){return this.getChildByName(t)},e.prototype.getMovie=function(t){return this.getChildByName(t)},e.prototype.getSprite=function(t){return this.getChildByName(t)},e.prototype.getImage=function(t){return this.getChildByName(t)},e.prototype.getButton=function(t){return this.getChildByName(t)},e}(egret.DisplayObjectContainer);t.SwfSprite=e,__reflect(e.prototype,"starlingswf.SwfSprite")}(starlingswf||(starlingswf={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.init=function(i,n){e._host=i,e._port=n,e._socketClient=new lzm.JSONWebSocketClient(i,n),e._sendQueue=[],e._sendTimerQueue=[],e._callBackQueue=[],e._currentSendObject=null,e._socketClient.onConnectCallBack=e.onConnect,e._socketClient.onCloseCallBack=e.onConnectClose,e._socketClient.onIOErrorCallBack=e.onIOError,e._socketClient.onDataCallBack=e.onData,e._cmdDataQueue=[],e.clearCmd(),t.BaseApiCmdInit.initCmds(),-1!=e.msDelayTimer&&(clearInterval(e.msDelayTimer),setInterval(e.msDelayRefresh,1e3))},e.onConnect=function(){t.Log.log("connect"),e._isError=!1,null==e._currentSendObject&&e._sendQueue.length>0&&(e._currentSendObject=e._sendQueue.shift()),null!=t.AccountData.getSessionToken()&&t.UserApi.resetfd(),null!=e._currentSendObject&&e.sendObject(e._currentSendObject)},e.onConnectClose=function(){t.Log.log("connectClose"),t.NetWorkError.show(),e._isError=!0},e.onIOError=function(){t.Log.log("onIOError"),t.NetWorkError.show(),e._isError=!0},e.onData=function(i){if(i.cmd&&null==e._currentSendObject)t.Log.log("reponseData:"+JSON.stringify(i)),e.dispatchCmd(i.cmd,i);else if(i.cmd)e._cmdDataQueue.push(i);else if(e._callBackQueue.length>0){t.Log.log("reponseData:"+JSON.stringify(i)),e.msEnd(),t.Log.log("ms:"+e.ms),null==i.finishOnClient&&t.NetworkLoading.hide(),0==e._sendQueue.length&&(e._currentSendObject=null);var n=e._sendTimerQueue.shift();egret.clearTimeout(n);var a=e._callBackQueue.shift();a(i);var s=e._cmdDataQueue.length;if(s>0){for(var o=0;s>o;o++)t.Log.log("reponseData:"+JSON.stringify(e._cmdDataQueue[o])),e.dispatchCmd(e._cmdDataQueue[o].cmd,e._cmdDataQueue[o]);e._cmdDataQueue=[]}e._sendQueue.length>0&&(e._currentSendObject=e._sendQueue.shift(),e.sendObject(e._currentSendObject))}},e.requestUser=function(t,i,n){e.request("login",t,i,n)},e.requestLogic=function(i,n,a,s){void 0===s&&(s=!1),i.sessionToken=t.AccountData.getSessionToken(),e.request("logic",i,n,a,s)},e.request=function(i,n,a,s,o){if(void 0===o&&(o=!1),!e._isError){e._callBackQueue.push(function(e){0!=e.state?null!=s?s(e):-5==e.state?t.NetWorkError.show():t.ApiState.show(e.state):null!=a&&a(e)}),o&&(n.__=1);var r={path:i,pars:n};null==e._currentSendObject?(e._currentSendObject=r,e.sendObject(e._currentSendObject)):e._sendQueue.push(r)}},e.sendObject=function(i){if(!e._socketClient.isConnect)return void e._socketClient.connect();t.Log.log("req path:"+i.path),t.Log.log("req data:"+JSON.stringify(i.pars)),e.msStart();var n={path:i.path,reqData:i.pars};if(e._socketClient.sendData(n),1==i.pars.__)e.onData({state:0,finishOnClient:1});else{var a=t.NetworkLoading.show();e._sendTimerQueue.push(a)}},e.clearCmd=function(){e._commands={},e._commandsThisObjects={}},e.registerCmd=function(t,i,n,a){void 0===a&&(a=!1);var s=e._commands[t];null==s&&(s=[]),a?s.unshift([i,n]):s.push([i,n]),e._commands[t]=s},e.removeCmd=function(t,i,n){var a=e._commands[t];null==a&&(a=[]);for(var s=-1,o=a.length,r=0;o>r;r++)a[r][0]==i&&a[r][1]==n&&(s=r);-1!=s&&a.splice(s,1),e._commands[t]=a},e.dispatchCmd=function(t,i){var n=e._commands[t];null==n&&(n=[]);for(var a,s,o=0;o<n.length;o++)a=n[o][1],s=n[o][0],s.apply(a,[i])},e.msStart=function(){e.msStartTime=(new Date).getTime(),e.msDelay=0,e.msRequestCount++},e.msEnd=function(){e.msTotal+=(new Date).getTime()-e.msStartTime,e.ms=Math.ceil(e.msTotal/e.msRequestCount),e.msStartTime=-1},e.msDelayRefresh=function(){-1!=e.msStartTime&&(e.ms=Math.ceil((e.msTotal+e.msDelay)/e.msRequestCount))},e._isError=!1,e.ms=0,e.msTotal=0,e.msDelay=0,e.msDelayTimer=-1,e.msRequestCount=0,e}();t.BaseApi=e,__reflect(e.prototype,"kelvin.texas.BaseApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.registerCmd=function(e,i,n,a){void 0===a&&(a=!1);var s=t.wxRespCallBacks[e];null==s&&(s=[]),a?s.unshift([i,n]):s.push([i,n]),t.wxRespCallBacks[e]=s},t.removeCmd=function(e,i,n){var a=t.wxRespCallBacks[e];null==a&&(a=[]);for(var s=-1,o=a.length,r=0;o>r;r++)a[r][0]==i&&a[r][1]==n&&(s=r);-1!=s&&a.splice(s,1),t.wxRespCallBacks[e]=a},t.dispatchCmd=function(e,i){var n=t.wxRespCallBacks[e];null==n&&(n=[]);for(var a,s,o=0;o<n.length;o++)a=n[o][1],s=n[o][0],s.apply(a,[i])},t.wxRespCallBacks={},t}();t.NativeBase=e,__reflect(e.prototype,"kelvin.texas.NativeBase")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(i,n,a){void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===a&&(a=!1);var s=e.call(this)||this;return s.refreshData=!1,s.refreshType=!0,i&&(s.scrollView=new t.ScrollView,s.scrollView.scrollPolicyV="on",s.scrollView.scrollPolicyH="off",s.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight),s.scrollView.setScrollSize(t.App.stageWidth,t.App.stageHeight),s.addChild(s.scrollView)),s.recursiveBind=n,a||s.createLater(),s}return __extends(i,e),i.prototype.createLater=function(){null!=this.mainAssetName()&&null!=this.assetSwf()&&(this.mainAsset=this.assetSwf().createSprite(this.mainAssetName()),this.addChild(this.mainAsset),t.InterfaceVariablesUtil.initVariables(this,this.mainAsset,this.recursiveBind)),this.addEventListener(egret.Event.ADDED_TO_STAGE,this._addToStage_,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this._removeFromStage_,this),this.init()},i.prototype._addToStage_=function(t){this.layout(),this.stage.addEventListener(egret.Event.RESIZE,this.onResize,this),this.addToStage(t)},i.prototype._removeFromStage_=function(t){this.stage.removeEventListener(egret.Event.RESIZE,this.onResize,this)},i.prototype.onResize=function(t){this.layout()},i.prototype.addToStage=function(t){},i.prototype.initDownRefresh=function(t){void 0===t&&(t=!0),null!=this.scrollView&&(this.refreshType=t,this.addEventListener(egret.TouchEvent.TOUCH_END,this.scrollViewEndMoveHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.scrollViewEndMoveHandler,this),this.scrollView.addEventListener(eui.UIEvent.CHANGE,this.scrollViewMoveHandler,this))},i.prototype.setDownRefresh=function(t){this.callBank=t},i.prototype.onDownRefresh=function(){this.callBank&&this.callBank()},i.prototype.downRefreshOver=function(){this.refreshData=!1,this.scrollView.reStartAnimation(),t.RefreshUI.ins.hide()},i.prototype.disposeDownRefresh=function(){null!=this.scrollView&&(this.removeEventListener(egret.TouchEvent.TOUCH_END,this.scrollViewEndMoveHandler,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.scrollViewEndMoveHandler,this),this.scrollView.removeEventListener(eui.UIEvent.CHANGE,this.scrollViewMoveHandler,this))},i.prototype.scrollViewMoveHandler=function(t){1==this.refreshType?this.refreshData&&this.scrollView.viewport.scrollV>-120&&(this.scrollView.viewport.scrollV=-120,this.scrollView.stopAnimation()):this.refreshData&&this.scrollView.viewport.scrollV<this.scrollView.viewport.contentHeight-this.scrollView.height+120&&(this.scrollView.viewport.scrollV=this.scrollView.viewport.contentHeight-this.scrollView.height+120,this.scrollView.stopAnimation())},i.prototype.scrollViewEndMoveHandler=function(t){1==this.refreshType?!this.refreshData&&this.scrollView.viewport.scrollV<-120&&(this.refreshData=!0,this.onDownRefresh()):!this.refreshData&&this.scrollView.viewport.scrollV>this.scrollView.viewport.contentHeight-this.scrollView.height+120&&(this.refreshData=!0,this.onDownRefresh())},i.prototype.init=function(){},i.prototype.layout=function(){},i.prototype.on_closeBtn=function(t){this.dispose()},i.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this._addToStage_,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this._removeFromStage_,this),this.disposeDownRefresh(),t.InterfaceVariablesUtil.disposeVariables(this),t.ExtGameHelper.popupPanelArr){var i=t.ExtGameHelper.popupPanelArr.indexOf(this);-1!=i&&t.ExtGameHelper.popupPanelArr.splice(i,1)}},i.prototype.mainAssetName=function(){return null},i.prototype.assetSwf=function(){return t.AssetManager.mainSwf},i}(lzm.BasePanel);t.BasePanel=e,__reflect(e.prototype,"kelvin.texas.BasePanel")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i,n,a){var s=e.call(this)||this;return s.roomid=i,s.watchPeople=a,s.cardData=n,s.matchid=t,s.createGameScene(),s}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.$children[0],this.visible=!1,this.bgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),this.addChildAt(this.bgSp,0),this.bgSp.touchEnabled=!0,this.bgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.bg.touchEnabled=!0,this.chooseRankBtn.visible=!1,this.unchooseCard.visible=!1,this.rankUI=new t.GameRankUI(this.matchid,this.roomid,this.watchPeople),this.view.addChild(this.rankUI),this.rankUI.x=40,this.rankUI.y=80,this.cardUI=new t.GameCardUI(this.cardData),this.view.addChild(this.cardUI),this.cardUI.x=40,this.cardUI.y=80,this.cardUI.visible=!1},i.prototype.on_chooseRankBtn=function(t){this.chooseRankBtn.visible=!1,this.chooseCardBtn.visible=!0,this.unchooseRank.visible=!0,this.unchooseCard.visible=!1,this.cardUI.visible=!1,this.rankUI.visible=!0},i.prototype.on_chooseCardBtn=function(t){this.chooseRankBtn.visible=!0,this.chooseCardBtn.visible=!1,this.unchooseRank.visible=!1,this.unchooseCard.visible=!0,this.cardUI.visible=!0,this.rankUI.visible=!1},i.prototype.show=function(){this.view.anchorOffsetX=this.view.width,this.view.anchorOffsetY=this.view.height,this.view.y=t.App.stageHeight,this.view.x=t.App.stageWidth+this.view.width,this.visible=!0,this.view.scaleX=this.view.scaleY=t.ExtGameHelper.getGameScalex(),egret.Tween.get(this.view).to({x:t.App.stageWidth},250,egret.Ease.quartOut).call(function(){})},i.prototype.hide=function(){var e=this;egret.Tween.get(this.view).to({x:t.App.stageWidth+this.view.width},250,egret.Ease.quartOut).call(function(){e.dispose()})},i.prototype.mainAssetName=function(){return"spr_game_rank_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.bgSp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},i}(t.BasePanel);t.GameRankView=e,__reflect(e.prototype,"kelvin.texas.GameRankView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var starlingswf;!function(t){var e=function(){function e(i,n){void 0===n&&(n=24),this._swfData=i,this._createDisplayFuns=new Object,this._createDisplayFuns[e.dataKey_Sprite]=this.createSprite,this._createDisplayFuns[e.dataKey_MovieClip]=this.createMovie,this._createDisplayFuns[e.dataKey_Button]=this.createButton,this._createDisplayFuns[e.dataKey_Image]=this.createImage,this._createDisplayFuns[e.dataKey_Scale9]=this.createS9Image,this._createDisplayFuns[e.dataKey_ShapeImg]=this.createShapeImage,this._createDisplayFuns[e.dataKey_TextField]=this.createTextField,this.swfUpdateManager=t.SwfUpdateManager.createSwfUpdateManager(n)}return e.prototype.createSprite=function(i,n,a){void 0===n&&(n=null),void 0===a&&(a=null),null==a&&(a=this._swfData[e.dataKey_Sprite][i]);for(var s,o,r,h=new t.SwfSprite,l=a.length,c=0;l>c;c++)s=a[c],r=this._createDisplayFuns[s[1]],null!=r&&(o=r.apply(this,[s[0],s]),o.name=s[9],o.x=s[2],o.y=s[3],s[1]==e.dataKey_TextField&&(o.y+=6),s[1]!=e.dataKey_Scale9&&s[1]!=e.dataKey_ShapeImg&&(o.scaleX=s[4],o.scaleY=s[5]),o.skewX=s[6],o.skewY=s[7],o.alpha=s[8],h.addChild(o));return null!=n&&t.SwfBlendMode.setBlendMode(h,n[11]),h},e.prototype.createMovie=function(i,n){void 0===n&&(n=null);var a,s,o,r,h,l=this._swfData[e.dataKey_MovieClip][i],c=l.objCount,p={};for(h in c){s=c[h][0],o=c[h][1],a=null==p[h]?[]:p[h];for(var u=0;o>u;u++)r=this._createDisplayFuns[s],null!=r&&a.push(r.apply(this,[h,null]));p[h]=a}var d=new t.SwfMovieClip(l.frames,l.labels,p,this,l.frameEvents);return d.loop=l.loop,null!=n&&t.SwfBlendMode.setBlendMode(d,n[11]),d},e.prototype.createButton=function(i,n){void 0===n&&(n=null);var a=this._swfData[e.dataKey_Button][i],s=this.createSprite(null,null,a),o=new t.SwfButton(s);return o},e.prototype.createImage=function(i,n){void 0===n&&(n=null);var a=this._swfData[e.dataKey_Image][i],s=new egret.Bitmap;return s.texture=RES.getRes(i),s.anchorOffsetX=a[0],s.anchorOffsetY=a[1],null!=n&&t.SwfBlendMode.setBlendMode(s,n[11]),s},e.prototype.createS9Image=function(i,n){void 0===n&&(n=null);var a=this._swfData[e.dataKey_Scale9][i],s=new egret.Bitmap;return s.texture=RES.getRes(i),s.scale9Grid=new egret.Rectangle(a[0],a[1],a[2],a[3]),null!=n&&(s.width=n[10],s.height=n[11],t.SwfBlendMode.setBlendMode(s,n[13])),s},e.prototype.createShapeImage=function(e,i){void 0===i&&(i=null);var n=new egret.Bitmap;return n.texture=RES.getRes(e),n.fillMode=egret.BitmapFillMode.REPEAT,null!=i&&(n.width=i[10],n.height=i[11],t.SwfBlendMode.setBlendMode(n,i[13])),n},e.prototype.createTextField=function(e,i){void 0===i&&(i=null);var n=new egret.TextField;return null!=i&&(n.width=i[10],n.height=i[11],n.fontFamily=i[12],n.textColor=i[13],n.size=i[14],n.textAlign=i[15],n.text=i[18],this.createTextFieldFilter(n,i[19]),t.SwfBlendMode.setBlendMode(n,i[20])),n},e.prototype.createTextFieldFilter=function(t,e){for(var i in e)"flash.filters::GlowFilter"==i&&(t.stroke=e[i].strength,t.strokeColor=e[i].color)},e.dataKey_Sprite="spr",e.dataKey_Image="img",e.dataKey_MovieClip="mc",e.dataKey_TextField="text",e.dataKey_Button="btn",e.dataKey_Scale9="s9",e.dataKey_ShapeImg="shapeImg",e.dataKey_Component="comp",e.dataKey_Particle="particle",e}();t.Swf=e,__reflect(e.prototype,"starlingswf.Swf")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._dataFormat=egret.HttpResponseType.TEXT,t}return __extends(i,e),i.prototype.analyzeData=function(e,i){var n=e.name;if(!this.fileDic[n]&&i)try{var a=i;this.fileDic[n]=new t.Swf(JSON.parse(a),30)}catch(s){egret.$warn(1017,e.url,i)}},i}(RES.BinAnalyzer);t.SwfAnalyzer=e,__reflect(e.prototype,"starlingswf.SwfAnalyzer")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){}return t.createSwfUpdateManager=function(e){var i=new t;return i._animations=[],i._addQueue=[],i._removeQueue=[],i._currentTime=0,i.setFps(e),egret.Ticker.getInstance().register(i.update,i),i},t.prototype.setFps=function(t){this._fps=t,this._fpsTime=1e3/t},t.prototype.addSwfAnimation=function(t){this._addQueue.push(t)},t.prototype.removeSwfAnimation=function(t){this._removeQueue.push(t)},t.prototype.updateAdd=function(){for(var t,e,i=this._addQueue.length,n=0;i>n;n++)e=this._addQueue.pop(),t=this._animations.indexOf(e),-1==t&&this._animations.push(e)},t.prototype.updateRemove=function(){for(var t,e,i=this._removeQueue.length,n=0;i>n;n++)e=this._removeQueue.pop(),t=this._animations.indexOf(e),-1!=t&&this._animations.splice(t,1)},t.prototype.update=function(t){if(this._currentTime+=t,!(this._currentTime<this._fpsTime)){this._currentTime-=this._fpsTime,this._currentTime>this._fpsTime&&(this._currentTime=0),this.updateRemove(),this.updateAdd();for(var e,i=this._animations.length,n=0;i>n;n++)e=this._animations[n],null!=e.getStage()&&e.update()}},t}();t.SwfUpdateManager=e,__reflect(e.prototype,"starlingswf.SwfUpdateManager")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){}return t.setBlendMode=function(e,i){t.modes[i]&&(e.blendMode=i)},t.modes={normal:!0,add:!0},t}();t.SwfBlendMode=e,__reflect(e.prototype,"starlingswf.SwfBlendMode")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.defScale=-1,i.touchScale=1.1,i.isScale=!0,i.skin=t,i._w=i.skin.width,i._h=i.skin.height,i.addChild(t),i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i.mouseDown,i),i.addEventListener(egret.TouchEvent.TOUCH_END,i.mouseUp,i),i.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,i.mouseUp,i),i.addEventListener(egret.TouchEvent.TOUCH_TAP,i.mouseClick,i),i}return __extends(i,e),i.prototype.mouseDown=function(t){0!=this.isScale&&(this.skin.scaleX=this.touchScale,this.skin.scaleY=this.touchScale,this.skin.x=(1-this.touchScale)/2*this._w,this.skin.y=(1-this.touchScale)/2*this._h)},i.prototype.mouseUp=function(t){0!=this.isScale&&(this.skin.scaleX=1,this.skin.scaleY=1,this.skin.x=this.skin.y=0)},i.prototype.mouseClick=function(e){this.dispatchEventWith(t.SwfButton.onClick),null!=i.defSound&&i.defSound.play(0,1)},i.prototype.setEnable=function(t){if(this.touchEnabled=t,t)this.filters=null;else{var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],i=new egret.ColorMatrixFilter(e);this.filters=[i]}},i.prototype.dispose=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.mouseUp,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.mouseClick,this)},i.onClick="SwfButton.onClick",i}(t.SwfSprite);t.SwfButton=e,__reflect(e.prototype,"starlingswf.SwfButton")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(e){function i(t,i,n,a,s){void 0===s&&(s=null);var o=e.call(this)||this;return o._isPlay=!1,o.loop=!0,o._completeFunction=null,o._hasCompleteListener=!1,o._frames=t,o._labels=i,o._displayObjects=n,o._frameEvents=s,o._startFrame=0,o._endFrame=o._frames.length-1,o._ownerSwf=a,o.setCurrentFrame(0),o.play(),o}return __extends(i,e),i.prototype.getStage=function(){return this.$visible?this.stage:null},i.prototype.update=function(){if(this._isPlay){if(this._currentFrame>=this._endFrame){var t=!1;if(this.loop&&this._startFrame!=this._endFrame||(this._ownerSwf&&this.stop(!1),t=!0),this._completeFunction&&this._completeFunction(this),this._hasCompleteListener&&this.dispatchEventWith(egret.Event.COMPLETE),t)return;this._currentFrame=this._startFrame}else this._currentFrame++;this.setCurrentFrame(this._currentFrame)}},i.prototype.setCurrentFrame=function(e){this.removeAllChilds(),this._currentFrame=e,this.__frameInfos=this._frames[this._currentFrame];for(var i,n,a,s,o=this.__frameInfos.length,r=0;o>r;r++){switch(i=this.__frameInfos[r],s=i[10],n=this._displayObjects[i[0]][s],n.$setSkewX(i[6]),n.$setSkewY(i[7]),n.$setAlpha(i[8]),n.name=i[9],n.$setX(i[2]),n.$setY(i[3]),i[1]){case t.Swf.dataKey_Scale9:n.width=i[11],n.height=i[12],t.SwfBlendMode.setBlendMode(n,i[13]);break;case t.Swf.dataKey_ShapeImg:n.width=i[11],n.height=i[12],t.SwfBlendMode.setBlendMode(n,i[13]);break;case t.Swf.dataKey_TextField:a=n,a.width=i[11],a.height=i[12],a.fontFamily=i[13],a.textColor=i[14],a.size=i[15],a.textAlign=i[16],i[19]&&"\r"!=i[19]&&""!=i[19]&&(a.text=i[19]),t.SwfBlendMode.setBlendMode(a,i[20]);break;default:n.$setScaleX(i[4]),n.$setScaleY(i[5]),t.SwfBlendMode.setBlendMode(n,i[11])}this.$doAddChild(n,o,!1)}null!=this._frameEvents&&null!=this._frameEvents[this._currentFrame]&&this.dispatchEventWith(this._frameEvents[this._currentFrame])},i.prototype.getCurrentFrame=function(){return this._currentFrame},i.prototype.play=function(){this._isPlay=!0,this._ownerSwf.swfUpdateManager.addSwfAnimation(this);var e,i,n;for(e in this._displayObjects)if(0==e.indexOf(t.Swf.dataKey_MovieClip)){i=this._displayObjects[e],n=i.length;for(var a=0;n>a;a++)i[a].play()}},i.prototype.stop=function(e){if(void 0===e&&(e=!0),this._isPlay=!1,this._ownerSwf.swfUpdateManager.removeSwfAnimation(this),e){var i,n,a;for(i in this._displayObjects)if(0==i.indexOf(t.Swf.dataKey_MovieClip)){n=this._displayObjects[i],a=n.length;for(var s=0;a>s;s++)n[s].stop(e)}}},i.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!0),this.goTo(t),this.stop(e)},i.prototype.gotoAndPlay=function(t){this.goTo(t),this.play()},i.prototype.goTo=function(t){if("string"==typeof t){var e=this.getLabelData(t);this._currentLabel=e[0],this._currentFrame=this._startFrame=e[1],this._endFrame=e[2]}else"number"==typeof t&&(this._currentFrame=this._startFrame=t,this._endFrame=this._frames.length-1);this.setCurrentFrame(this._currentFrame)},i.prototype.getLabelData=function(t){for(var e,i=this._labels.length,n=0;i>n;n++)if(e=this._labels[n],e[0]==t)return e;return null},i.prototype.isPlay=function(){return this._isPlay},i.prototype.totalFrames=function(){return this._frames.length},i.prototype.currentLabel=function(){return this._currentLabel},i.prototype.labels=function(){for(var t=this._labels.length,e=[],i=0;t>i;i++)e.push(this._labels[i][0]);return e},i.prototype.hasLabel=function(t){var e=this.labels();return!(-1==e.indexOf(t))},i.prototype.addEventListener1=function(t,e,i,n,a){void 0===n&&(n=!1),void 0===a&&(a=0),this.addEventListener(t,e,i,n,a),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},i.prototype.removeEventListener1=function(t,e,i,n){void 0===n&&(n=!1),this.removeEventListener(t,e,i,n),this._hasCompleteListener=this.hasEventListener(egret.Event.COMPLETE)},i.prototype.addChildNew=function(t){},i.prototype.removeAllChilds=function(){for(var t=this.$children,e=t.length-1;e>=0;e--)this.$doRemoveChild(e,!1)},i.prototype.getDisplay=function(t){for(var e in this._displayObjects)for(var i=this._displayObjects[e],n=i.length,a=0;n>a;a++)if(i[a].name==t)return i[a];return null},i}(t.SwfSprite);t.SwfMovieClip=e,__reflect(e.prototype,"starlingswf.SwfMovieClip",["starlingswf.ISwfAnimation"])}(starlingswf||(starlingswf={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var a=RES.getRes(t);a?n(a):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var lzm;!function(t){var e=function(){function e(){}return e.send=function(e,i,n,a,s){void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s="get");var o=new egret.HttpRequest,r=t.HttpClient.getRequestPars(i),h=function(t){o.removeEventListener(egret.Event.COMPLETE,h,o),o.removeEventListener(egret.IOErrorEvent.IO_ERROR,l,o),null!=n&&n(o.response)},l=function(t){o.removeEventListener(egret.Event.COMPLETE,h,o),o.removeEventListener(egret.IOErrorEvent.IO_ERROR,l,o),null!=a&&a(o.response)};o.addEventListener(egret.Event.COMPLETE,h,o),o.addEventListener(egret.IOErrorEvent.IO_ERROR,l,o),o.responseType=egret.HttpResponseType.TEXT,"get"==s?(""!=r?o.open(e+"?"+r,egret.HttpMethod.GET):o.open(e,egret.HttpMethod.GET),o.send()):"post"==s&&(o.open(e,egret.HttpMethod.POST),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(r))},e.getRequestPars=function(t){var e,i="";for(e in t)i+=e+"="+t[e]+"&";return i.substr(0,i.length-1)},e}();t.HttpClient=e,__reflect(e.prototype,"lzm.HttpClient")}(lzm||(lzm={}));var lzm;!function(t){var e=function(){function t(t,e){this.isConnect=!1,this.host=t,this.port=e,this.socket=new egret.WebSocket,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketIOError,this)}return t.prototype.connect=function(){this.socket.connectByUrl("ws://"+this.host+":"+this.port)},t.prototype.sendData=function(t){this.socket.writeUTF(JSON.stringify(t))},t.prototype.onSocketOpen=function(){this.isConnect=!0,null!=this.onConnectCallBack&&this.onConnectCallBack()},t.prototype.onReceiveMessage=function(t){var e=this.socket.readUTF();null!=this.onDataCallBack&&this.onDataCallBack(JSON.parse(e))},t.prototype.onSocketClose=function(t){this.isConnect=!1,null!=this.onCloseCallBack&&this.onCloseCallBack()},t.prototype.onSocketIOError=function(t){null!=this.onIOErrorCallBack&&this.onIOErrorCallBack()},t.prototype.dispose=function(){this.socket.close(),this.onConnectCallBack=null,this.onIOErrorCallBack=null,this.onCloseCallBack=null,this.onDataCallBack=null},t}();t.JSONWebSocketClient=e,__reflect(e.prototype,"lzm.JSONWebSocketClient")}(lzm||(lzm={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var n=e.call(this)||this;return t.AppWx.init(),i.stageSp=n,n.homeSp=new egret.Sprite,n.addChild(n.homeSp),n.gameSp=new egret.Sprite,n.addChild(n.gameSp),n.popupSp=new egret.Sprite,n.addChild(n.popupSp),n.commonPopSp=new egret.Sprite,n.addChild(n.commonPopSp),n.promptSp=new egret.Sprite,n.addChild(n.promptSp),RES.setMaxRetryTimes(100),egret.MainContext.instance.stage.maxTouches=1,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.onAddToStage,n),n}return __extends(i,e),i.prototype.onAddToStage=function(e){t.BaseApi.init(t.AppConfig.server_ip,t.AppConfig.server_port),t.App.init(this.stage,this),t.AssetManager.initWithStart(this.loadResConfigCallBack,this)},i.prototype.loadResConfigCallBack=function(e){t.Log.log("初始化配置加载完成"),t.AssetManager.loadGroup("preload",this.loadResCallBack,this)},i.prototype.loadResCallBack=function(e){var i=e[0],n=e[1];"onResourceLoadComplete"==i?"preload"==n.groupName&&(this.homeSp.addChild(new t.LoginView),t.ExtGameHelper.init(),this.addChild(t.RefreshUI.ins),t.EventManager.dispatchCmd("StarupLoadResComplete",null)):"onResourceProgress"==i&&"preload"==n.groupName&&t.EventManager.dispatchCmd("StarupLoadResProgress",parseInt((n.itemsLoaded/n.itemsTotal*100).toString()))},i}(egret.DisplayObjectContainer);t.Starup=e,__reflect(e.prototype,"kelvin.texas.Starup")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var lzm;!function(t){var e=function(){function e(){}return e.init=function(e,i,n,a,s){void 0===a&&(a=1),void 0===s&&(s=90),t.Alert.root=e,t.Alert.stageWidth=i,t.Alert.stageHeight=n,t.Alert.alertScale=a,t.Alert.landscapeRotation=s,t.Alert.initBackGround()},e.container=function(){return t.Alert.root},e.width=function(){return t.Alert.stageWidth},e.height=function(){return t.Alert.stageHeight},e.initBackGround=function(){null==t.Alert.background&&(t.Alert.background=new egret.Shape,t.Alert.background.alpha=.7,t.Alert.background.touchEnabled=!0),t.Alert.background.graphics.clear(),t.Alert.background.graphics.beginFill(0),t.Alert.background.graphics.drawRect(0,0,t.Alert.stageWidth,t.Alert.stageHeight),t.Alert.background.graphics.endFill()},e.show=function(e){t.Alert.container().addChild(e)},e.alertLandscape=function(e){t.Alert.alert(e),e.rotation=t.Alert.landscapeRotation},e.alert=function(e,i){void 0===i&&(i=!0),-1==t.Alert.dialogs.indexOf(e)&&(e.addEventListener(egret.Event.ADDED_TO_STAGE,t.Alert.dialogAddToStage,e),t.Alert.container().addChild(t.Alert.background),t.Alert.container().addChild(e),i&&(e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.x=t.Alert.stageWidth/2,e.y=t.Alert.stageHeight/2),e.scaleX=e.scaleY=.1,egret.Tween.get(e).to({scaleX:t.Alert.alertScale,scaleY:t.Alert.alertScale},300,egret.Ease.backOut))},e.dialogAddToStage=function(e){var i=e.currentTarget;i.removeEventListener(egret.Event.ADDED_TO_STAGE,t.Alert.dialogAddToStage,i),i.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.Alert.dialogRemoveFromStage,i),t.Alert.dialogs.push(i)},e.dialogRemoveFromStage=function(e){var i=e.currentTarget;if(i.removeEventListener(egret.Event.REMOVED_FROM_STAGE,t.Alert.dialogRemoveFromStage,i),t.Alert.dialogs.pop(),0==t.Alert.dialogs.length)t.Alert.background.parent==t.Alert.container()&&t.Alert.container().removeChild(t.Alert.background);
else{for(;t.Alert.dialogs.length>0;){if(i=t.Alert.dialogs[t.Alert.dialogs.length-1],i.parent==t.Alert.container()){t.Alert.container().swapChildren(t.Alert.background,i);break}t.Alert.dialogs.pop()}0==t.Alert.dialogs.length&&t.Alert.background.parent==t.Alert.container()&&t.Alert.container().removeChild(t.Alert.background)}},e.closeAllAlert=function(){for(var t,i,n=e.dialogs.length,a=[],s=0;n>s;s++)a.push(e.dialogs[s]);for(var s=0;n>s;s++)t=a[s],i=t.dispose,i instanceof Function&&i.apply(t,[]),null!=t.parent&&t.parent.removeChild(t)},e.dialogs=[],e}();t.Alert=e,__reflect(e.prototype,"lzm.Alert")}(lzm||(lzm={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.initCmds=function(){},t}();t.BaseApiCmdInit=e,__reflect(e.prototype,"kelvin.texas.BaseApiCmdInit")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.getMatchList=function(e,i,n){var a={api:"match",c:"getMatchList",type:i,type1:e};t.BaseApi.requestLogic(a,function(t){null!=n&&n(t)},null)},i.getMatchListWithType1=function(e,i,n){var a={api:"match",c:"getMatchListWithType1",title_id:i,type1:e};t.BaseApi.requestLogic(a,function(t){null!=n&&n(t)},null)},i.getMatchInfo=function(e,i){var n={api:"match",c:"getMatchInfo",mid:e};t.BaseApi.requestLogic(n,function(t){null!=i&&i(t)},null)},i.getMatchRooms=function(e,i){var n={api:"match",c:"getMatchRooms",mid:e};t.BaseApi.requestLogic(n,function(t){null!=i&&i(t)},null)},i.apply=function(e,i,n){var a={api:"match",c:"apply",id:e};t.BaseApi.requestLogic(a,function(t){null!=i&&i(t)},n)},i.cancelApply=function(e,i,n){var a={api:"match",c:"cancelApply",id:e};t.BaseApi.requestLogic(a,function(t){null!=i&&i(t)},n)},i.getMyMatch=function(e){var i={api:"match",c:"getMyMatch"};t.BaseApi.requestLogic(i,function(t){null!=e&&e(t)},null)},i.getMatchRoleInfo=function(e,i,n){var a={api:"match",c:"getMatchRoleInfo",page:e,mid:i};t.BaseApi.requestLogic(a,function(t){null!=n&&n(t)},null)},i.getMatchRoomRoleInfo=function(e,i){var n={api:"match",c:"getMatchRoomRoleInfo",room_id:e};t.BaseApi.requestLogic(n,function(t){null!=i&&i(t)},null)},i.getPlayerInfo=function(e,i,n,a){var s={api:"match",c:"getPlayerInfo",uid:e,mid:i};t.BaseApi.requestLogic(s,function(t){null!=n&&n(t)},a)},i.getShiShiZhanJi=function(e,i,n){var a={api:"match",c:"getShiShiZhanJi",mid:e};t.BaseApi.requestLogic(a,function(t){null!=i&&i(t)},n)},i.getRoleZhanJi=function(e,i){var n={api:"match",c:"getRoleZhanJi"};t.BaseApi.requestLogic(n,function(t){null!=e&&e(t)},i)},i.getMatchZhanji=function(e,i,n){var a={api:"match",c:"getMatchZhanji",id:e};t.BaseApi.requestLogic(a,function(t){null!=i&&i(t)},n)},i.getMasterPoints=function(e,i){var n={api:"match",c:"getMasterPoints"};t.BaseApi.requestLogic(n,function(t){null!=e&&e(t)},i)},i.getTitleConfig=function(e,i,n){var a={api:"match",c:"getTitleConfig",type1:e};t.BaseApi.requestLogic(a,function(t){null!=i&&i(t)},n)},i.getPlayerProps=function(e,i){var n={api:"match",c:"getPlayerProps"};t.BaseApi.requestLogic(n,function(i){var n={configs:i.configs,data:i.data};t.MatchData.putUserPropInfo(n),null!=e&&e(i)},i)},i}(t.BaseApi);t.MatchApi=e,__reflect(e.prototype,"kelvin.texas.MatchApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.getNotices=function(e){var i={api:"notice",c:"getNotices"};t.BaseApi.requestLogic(i,function(t){null!=e&&e(t)},null)},i.getActivityNotices=function(e){var i={api:"notice",c:"getActivityNotices"};t.BaseApi.requestLogic(i,function(t){null!=e&&e(t)},null)},i}(t.BaseApi);t.NoticeApi=e,__reflect(e.prototype,"kelvin.texas.NoticeApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.isVert=function(e){if(null!=t.PhoneData.phoneNumber&&null!=e)return void e(t.PhoneData.phoneNumber);var i={api:"phone",c:"isVert"};t.BaseApi.requestLogic(i,function(i){t.PhoneData.phoneNumber=i.tel,null!=e&&e(t.PhoneData.phoneNumber)},null)},e.genCode=function(e,i,n){var a={tel:e,api:"phone",c:"genCode"};t.BaseApi.requestLogic(a,function(t){null!=i&&i(n,t)},null)},e.vert=function(e,i,n,a,s){var o={tel:e,pwd:i,code:n,api:"phone",c:"vert"};t.BaseApi.requestLogic(o,function(i){t.PhoneData.phoneNumber=e,t.ApiState.showText("绑定手机成功"),null!=a&&a(s,i)},null)},e}();t.PhoneApi=e,__reflect(e.prototype,"kelvin.texas.PhoneApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.syncRole=function(){var e={api:"role",c:"syncRole"};t.BaseApi.requestLogic(e,null,null)},i.getMessage=function(e){var i={api:"role",c:"getMessage"};t.BaseApi.requestLogic(i,function(t){null!=e&&e(t)},null)},i.clearMessage=function(e){var i={api:"role",c:"clearMessage"};t.BaseApi.requestLogic(i,function(t){null!=e&&e(t)},null)},i.getRewardInfo=function(e){var i={api:"role",c:"getRewardInfo"};t.BaseApi.requestLogic(i,function(i){i.info&&t.RoleData.putRolePrizeInfo(i.info),null!=e&&e(i)},null)},i.updateRewardInfo=function(e,i,n,a){var s={api:"role",c:"updateRewardInfo",name:e,pid:i,aliAccount:n};t.BaseApi.requestLogic(s,function(s){var o={name:e,pid:i,aliAccount:n};t.RoleData.putRolePrizeInfo(o),null!=a&&a(s)},null)},i}(t.BaseApi);t.RoleApi=e,__reflect(e.prototype,"kelvin.texas.RoleApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.joinGame=function(e,i,n){var a={api:"room",c:"joinGame",mid:e,room_id:i};t.BaseApi.requestLogic(a,function(t){null!=n&&n(t)},null)},i.leaveGame=function(e){var i={api:"room",c:"leaveGame"};t.BaseApi.requestLogic(i,function(t){null!=e&&e(t)},null)},i.getPlayerMatchRoomId=function(e,i,n,a){var s={api:"room",c:"getPlayerMatchRoomId",mid:e,targetUid:i};t.BaseApi.requestLogic(s,function(t){null!=n&&n(t)},a)},i.gameMessage=function(e,i){void 0===i&&(i=!1),e.api="room",e.c="gameMessage",t.BaseApi.requestLogic(e,function(t){},null,i)},i.on_joinRoom=function(t){},i.on_leaveRoom=function(t){},i.on_leaveGame=function(t){},i.on_returnGame=function(t){},i}(t.BaseApi);t.RoomApi=e,__reflect(e.prototype,"kelvin.texas.RoomApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.register=function(e,i,n,a,s,o){void 0===s&&(s=null),void 0===o&&(o=null);var r={api:"user",c:"register",account:e,pwd:i};"iOS"==egret.Capabilities.os?r.plat_id="0":"Android"==egret.Capabilities.os?r.plat_id="1":r.plat_id="2",null!=n&&""!=n?r.recommend=n:""!=egret.getOption("recommend")&&(r.recommend=egret.getOption("recommend")),null!=s&&(r.wxRole=s),t.BaseApi.requestUser(r,function(t){null!=a&&a(t)},o)},i.login=function(e,n,a,s){var o={api:"user",c:"login",account:e,pwd:n};t.BaseApi.requestUser(o,function(e){t.AccountData.putSessionToken(e.sessionToken),t.AccountData.putUser(e.user),i.initLoginData(e.loginData),t.App.heart(),null!=a&&a(e)},s)},i.resetfd=function(){var e={api:"user",c:"resetfd",sessionToken:t.AccountData.getSessionToken()};t.BaseApi.requestUser(e,function(e){i.initLoginData(e.loginData),t.EventManager.dispatchCmd(t.Events.reloadLoginData,null)},function(t){})},i.initLoginData=function(e){null!=e.role&&(t.RoleData.putRole(e.role),t.AccountData.loginData=e)},i.loginGetCode=function(e,i){var n={api:"user",c:"getCode",account:e};t.BaseApi.requestUser(n,function(t){null!=i&&i(t)},null)},i.loginAgainPassword=function(e,i,n,a,s){var o={api:"user",c:"resetPwd",account:e,newPwd:i,code:n};t.BaseApi.requestUser(o,function(t){null!=a&&a(t)},s)},i}(t.BaseApi);t.UserApi=e,__reflect(e.prototype,"kelvin.texas.UserApi")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.initWithStart=function(i,n){RES.registerAnalyzer("swf",starlingswf.SwfAnalyzer),RES.registerAnalyzer("js",t.JSAnalyzer),xLoader.init(),egret.ImageLoader.crossOrigin="Anonymous",e.is_local?e.loadConfig(t.AppConfig.platform_res_config_url,t.AppConfig.platform_res_url,i,n):e.loadConfig("http://172.17.1.105/texas_ziyuan/default.res.json","http://172.17.1.105/texas_ziyuan/",i,n)},e.loadConfig=function(t,e,i,n){xLoader.loadConfig(t,e,n,i,i)},e.loadGroup=function(t,e,i){xLoader.loadGroup(t,i,e,e,e)},Object.defineProperty(e,"starupSwf",{get:function(){return RES.getRes("starup_swf")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"loadingSwf",{get:function(){return RES.getRes("loading_swf")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"mainSwf",{get:function(){return RES.getRes("main_swf")},enumerable:!0,configurable:!0}),e.is_local=!0,e}();t.AssetManager=e,__reflect(e.prototype,"kelvin.texas.AssetManager")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.prototype.loadGame=function(e,i){this.callBack=e,this.CallBackThisObj=i,console.log("RES.isGroupLoaded(game_res_ + AppConfig.gameId)",RES.isGroupLoaded("game_res_"+t.AppConfig.gameId)),RES.isGroupLoaded("game_res_"+t.AppConfig.gameId)?this.callBack.apply(this.CallBackThisObj,[]):(t.LoadingUI.ins.show(1),t.AssetManager.loadConfig(t.AppConfig.res_url+t.AppConfig.resVer+"/default.res.json",t.AppConfig.res_url+t.AppConfig.resVer+"/",this.onLoadAssetConfComplete,this))},e.prototype.onLoadAssetConfComplete=function(i){e.lastLoadGameRes=i[1],t.AssetManager.loadGroup("game_res_"+t.AppConfig.gameId,this.onLoadAssetComplete,this)},e.prototype.onLoadAssetComplete=function(e){var i=e[0],n=e[1];if("onResourceLoadComplete"==i)t.LoadingUI.ins.hide(),this.callBack.apply(this.CallBackThisObj,[]);else if("onResourceProgress"==i){var a=parseInt((n.itemsLoaded/n.itemsTotal*100).toString());t.LoadingUI.ins.setProgress(a)}},e.prototype.unConfig=function(t){for(var e,i,n,a=RES,s=a.configInstance,o=t.groups,r=t.resources,h=o.length,l=0;h>l;l++)e=o[l],delete s.groupDic[e.name];h=r.length;for(var l=0;h>l;l++)if(e=r[l],i=e.subkeys,delete s.keyMap[e.name],null!=i){n=i.length;for(var c=0;n>c;c++)delete s.keyMap[i[c]]}},e}();t.GameAssetLoader=e,__reflect(e.prototype,"kelvin.texas.GameAssetLoader")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(){var i=t.call(this)||this;return i._dataFormat=egret.HttpResponseType.TEXT,e.jsDic={},i}return __extends(e,t),e.prototype.analyzeData=function(t,i){var n=t.name;if(!this.fileDic[n]&&i&&1!=e.jsDic[n]){var a=i;this.fileDic[n]=a;var s="\n            kelvin = window.kelvin;\n            "+a+";\n            ",o=new Function(s);o(),e.jsDic[n]=1}},e}(RES.BinAnalyzer);t.JSAnalyzer=e,__reflect(e.prototype,"kelvin.texas.JSAnalyzer")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.setGameConfig=function(){null==e.currentGameSounds&&(e.currentGameSounds={},e.currentGameSoundChannels={},e.currentGameSoundUrls={})},e.setCurrentGameSoundVolume=function(t){if(e.currentGameSoundChannels)for(var i in e.currentGameSoundChannels)e.currentGameSoundChannels[i]&&e.currentGameSoundChannels[i].position&&(e.currentGameSoundChannels[i].volume=t)},e.recoveryCurrentGameSoundVolume=function(){if(e.currentGameSoundChannels)for(var i in e.currentGameSoundChannels)e.currentGameSoundChannels[i]&&e.currentGameSoundChannels[i].position&&(e.currentGameSoundChannels[i].volume=t.VoiceData.soundNum)},e.playPreSound=function(e,i){void 0===i&&(i=1);var n=RES.getRes(e);if(null!=n){var a=n.play(0,i);a.volume=t.VoiceData.soundNum}},e.playGameSound=function(i,n,a){if(void 0===n&&(n=1),void 0===a&&(a=1),!this._isMute){if(RES.hasRes(i))return void e.playPreSound(i,n);1==a&&(a=t.VoiceData.soundNum),a>0&&e.playSound(i,n,a)}},e.playBgSound=function(i){if(!this._isMute){e.currentBgName&&e.stopGameSound(e.currentBgName),e.currentBgName=i;var n=t.VoiceData.musicNum;n>0&&e.playSound(i,0,n)}},e.stopGameSound=function(t){var i=e.currentGameSoundChannels[t];null!=i&&(i.stop(),i=null,e.currentGameSoundChannels[t]=null)},e.setSoundMute=function(i){if(this._isMute!=i){this._isMute=i;var n=0;if(this._isMute||(n=t.VoiceData.musicNum),void 0!=e.currentBgName||null!=e.currentBgName){var a=e.currentGameSoundChannels[e.currentBgName];null!=a&&(a.volume=n)}}},e.playSound=function(i,n,a){void 0===n&&(n=1),void 0===a&&(a=1);var s,o=e.currentGameSounds[i];if(null!=o)s=o.play(0,n),s.volume=a,e.currentGameSoundChannels[i]=s;else{var r=t.AppConfig.res_url+t.AppConfig.resVer+"/sound/"+i+"?v="+t.AppConfig.resVer;RES.getResByUrl(r,function(t){e.currentGameSounds[i]=t,s=t.play(0,n),s.volume=a,e.currentGameSoundChannels[i]=s,e.currentGameSoundUrls[i]=r},e,RES.ResourceItem.TYPE_SOUND)}},e.disposeSounds=function(){var t,i;for(var n in e.currentGameSounds)t=e.currentGameSounds[n],i=e.currentGameSoundChannels[n],null!=i&&i.stop(),null!=t&&t.close(),RES.destroyRes(e.currentGameSoundUrls[n]);e.currentGameSounds={},e.currentGameSoundChannels={},e.currentGameSoundUrls={}},e.playChangYongYu=function(i){null==e.changyongSounds&&(e.changyongSounds={},e.changyongSoundChannels={});var n,a=e.changyongSounds[i];if(null!=a)n=a.play(0,1),n.volume=t.VoiceData.soundNum,e.changyongSoundChannels[i]=n;else{var s=t.AppConfig.res_url+"changyongSound/"+i+"?v="+t.AppConfig.resVer;RES.getResByUrl(s,function(a){e.changyongSounds[i]=a,n=a.play(0,1),n.volume=t.VoiceData.soundNum,e.changyongSoundChannels[i]=n},e,RES.ResourceItem.TYPE_SOUND)}},e.setMessageState=function(t){this._messageStete=t},e.playMessage=function(t,i,n){void 0===i&&(i=1),void 0===n&&(n=!1),1!=this._isMute&&(RES.getRes(t)?e.playMsgPreSound(t,i,n):e.playMsNoPreSound(t,i,n))},e.playMsgPreSound=function(t,e,i){var n=RES.getRes(t);if(null!=n){var a=n.play(0,i);a.volume=e}},e.playMsNoPreSound=function(t,e,i){RES.getResAsync(t,function(t){var n=t;if(null!=n){var a=n.play(0,i);a.volume=e}},this)},e._isMute=!1,e._messageStete=!1,e}();t.SoundManager=e,__reflect(e.prototype,"kelvin.texas.SoundManager")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.init=function(t,i){t.scaleMode=egret.StageScaleMode.FIXED_WIDTH,t.addEventListener(egret.Event.RESIZE,e.onResize,e),t.addEventListener(egret.Event.ACTIVATE,e.onActive,e),t.addEventListener(egret.Event.DEACTIVATE,e.onDeActive,e),t.frameRate=60,e.stage=t,e.appRoot=i,e.topContainer=new egret.DisplayObjectContainer,t.addChild(e.topContainer),e.setOrientationMode(egret.OrientationMode.PORTRAIT)},e.setOrientationMode=function(i){i==egret.OrientationMode.LANDSCAPE?(e.designWidth=1280,e.designHeight=720):(e.designWidth=720,e.designHeight=1280),e.stage.orientation=i,e.stageRealWidth=e.stage.stageWidth,e.stageRealHeight=e.stage.stageHeight,e.stageWidth=e.stage.stageWidth,e.stageHeight=e.stage.stageHeight;var n=e.stageWidth/e.designWidth,a=e.stageHeight/e.designHeight;n>a?e.alertScale=a:e.alertScale=n,lzm.Alert.init(t.Starup.stageSp.commonPopSp,e.stageWidth,e.stageHeight,e.alertScale,e.getRotationValue())},e.onActive=function(t){},e.onDeActive=function(t){},e.onResize=function(t){e.stageRealWidth=e.stage.stageWidth,e.stageRealHeight=e.stage.stageHeight,e.stageWidth=e.stage.stageWidth,e.stageHeight=e.stage.stageHeight;var i=e.stageWidth/e.designWidth,n=e.stageHeight/e.designHeight;i>n?e.alertScale=n:e.alertScale=i,lzm.Alert.init(e.appRoot,e.stageWidth,e.stageHeight,e.alertScale,e.getRotationValue())},Object.defineProperty(e,"isLandscape",{get:function(){return e._isLandscape},set:function(t){e._isLandscape=t},enumerable:!0,configurable:!0}),e.heart=function(){egret.setTimeout(function(){e.heartFun()},e,2e4)},e.heartFun=function(){null!=t.RoleData.getRole()&&t.RoleApi.syncRole(),e.heart()},e.setGamelandscapeRotation270=function(t){e.gamelandscapeRotation270=t,lzm.Alert.init(e.appRoot,e.stageWidth,e.stageHeight,e.alertScale,e.getRotationValue())},e.getGamelandscapeRotation270=function(){var t=egret.Capabilities.os;return"Windows PC"==t||"Mac OS"==t?!1:null==window.orientation||90!=window.orientation&&-90!=window.orientation?e.gamelandscapeRotation270:!1},e.getRotationValue=function(){return 270},e.isiOS=function(){return"iOS"==egret.Capabilities.os},e.isAndroid=function(){return"Android"==egret.Capabilities.os},e.isWeiDuan=function(){return egret.RuntimeType.RUNTIME2?egret.Capabilities.runtimeType==egret.RuntimeType.RUNTIME2:!1},e.closeWeiduanLoadingPage=function(){window.closeLoadingView&&window.closeLoadingView()},e.openUrl=function(i){if(e.isWeiDuan())t.NativeTools.openUrl(i);else{var n=navigator.userAgent.toLowerCase();n.match(/MicroMessenger/i)&&"micromessenger"==n.match(/MicroMessenger/i).toString()?location.href=i:window.open(i)}},e.stageRealWidth=720,e.stageRealHeight=1280,e.designWidth=720,e.designHeight=1280,e.stageWidth=720,e.stageHeight=1280,e._isLandscape=!1,e.gameing=!1,e.gamelandscapeRotation270=!1,e}();t.App=e,__reflect(e.prototype,"kelvin.texas.App")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.server_ip="172.17.1.105",t.server_port=7104,t.platform_res_config_url="resource/default.res.json",t.platform_res_url="resource/",t.wxAppId="",t.universalLink="",t.wxApiUrl="",t.downUrl="",t.res_url="http://172.17.1.105/aptana/texas_game/",t.res_config="",t.clientMainClass="kelvin.texas.game.GameRoot",t.resVer="2",t.gameId=6001,t.applyisneedPhone=2,t}();t.AppConfig=e,__reflect(e.prototype,"kelvin.texas.AppConfig")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.reloadLoginData="reloadLoginData",t.refreshShowGold="refreshShowGold",t.goldChange="goldChange",t.createJBSView="DT_createJBSView",t.createBSXQView="DT_createBSXQView",t.createMZJGBView="DT_createMZJGBView",t.createPersonalView="DT_createPersonalView",t.gotoGameView="DT_gotoGameView",t.gotoMatchView="DT_gotoMatchView",t.gotoJLPage="DT_gotoJLPage",t.backGame="DT_backGame",t.goToJBSMatch="DT_goToJBSMatch",t.goToShop="DT_goToShop",t.controlHContanier="DT_controlHContanier",t}();t.Events=e,__reflect(e.prototype,"kelvin.texas.Events")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.getSessionToken=function(){return t.CacheData.getRAMData("sessionToken")},e.putSessionToken=function(e){t.CacheData.saveRAMData("sessionToken",e)},e.getUser=function(){return t.CacheData.getRAMData("user")},e.putUser=function(e){t.CacheData.saveRAMData("user",e)},Object.defineProperty(e,"loginInfo_wx",{get:function(){var t=egret.localStorage.getItem("AccountData_loginInfo_wx");return t&&"null"!=t?JSON.parse(t):null},set:function(t){var e;t?(e={account:"",password:"",time:0,iswx:"yes"},e.account=t.account,e.password=t.password,e.time=(new Date).getTime()):e=null,egret.localStorage.setItem("AccountData_loginInfo_wx",JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"wxInfoTime",{set:function(t){egret.localStorage.setItem("AccountData_wxInfoTime",String(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"loginInfo",{get:function(){var t=egret.localStorage.getItem("AccountData_loginInfo");return t?JSON.parse(t):null},set:function(t){egret.localStorage.setItem("AccountData_loginInfo",JSON.stringify(t))},enumerable:!0,configurable:!0}),e.addLoginInfo=function(t,i){var n=e.loginInfo,a=new Date;n||(n={}),n[t]={},n[t].account=t,n[t].password=i,n[t].time=a.getTime(),e.loginInfo=n},e.deleteLoginInfo=function(t){var i=e.loginInfo;i&&i[t]&&(delete i[t],e.loginInfo=i)},Object.defineProperty(e,"loginInfo_visitor",{get:function(){var t=egret.localStorage.getItem("AccountData_loginInfo_visitor");return t&&"null"!=t?JSON.parse(t):null},set:function(t){var e;t?(e={account:"",password:"",time:0},e.account=t.account,e.password=t.password,e.time=(new Date).getTime()):e=null,egret.localStorage.setItem("AccountData_loginInfo_visitor",JSON.stringify(e))},enumerable:!0,configurable:!0}),e.getLastAccount=function(){var t=e.getLastPhoneAccount(),i=e.loginInfo_wx,n=e.loginInfo_visitor;if(!i&&!t)return null;if(!i&&!n)return t;if(!t&&!n)return i;if(!t&&!i)return n;var a;return t&&i?a=t.time>i.time?t:i:t&&n&&(a=t.time>n.time?t:n),a},e.getLastPhoneAccount=function(){var t=e.loginInfo;if(!t)return null;var i,n=0;for(var a in t)t[a].time>n&&(n=t[a].time,i=t[a]);return i},Object.defineProperty(e,"isNeedAutomaticLogin",{get:function(){var t=egret.localStorage.getItem("AccountData_isNeedAutomaticLogin");return t?t:"1"},set:function(t){egret.localStorage.setItem("AccountData_isNeedAutomaticLogin",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"loginData",{get:function(){return t.CacheData.getRAMData("loginData")},set:function(e){t.CacheData.saveRAMData("loginData",e)},enumerable:!0,configurable:!0}),e}();t.AccountData=e,__reflect(e.prototype,"kelvin.texas.AccountData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.getRAMData=function(e){return t._ramDatas[e]},t.saveRAMData=function(e,i){t._ramDatas[e]=i},t.removeRAMData=function(e){delete t._ramDatas[e]},t.clearRAMData=function(){t._ramDatas={}},t._ramDatas={},t}();t.CacheData=e,__reflect(e.prototype,"kelvin.texas.CacheData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){this.type1=1,this.player_buy_count=5,this.table_people=9,this.poker_score_rate=.3,this.break_interval=-1,this.break_time_long=0,this.stage_rate=1,this.service_gold=0,this.service_score=0,this.think_time=30,this.reward_type=1,this.ticket_cfgId=-1,this.people=0,this.reward=0,this.reward_poker_score=0,this.cur_buy_count=0,this.match_start_time=0,this.mz_level=1,this.state=0,this.break_count=0,this.last_break_end_time=0,this.break_room_count=0,this.break_start_time=-1,this.break_state_time=-1,this.break_total_time=0,this.over_people=0,this.cur_table_num=0,this.inMoneyCircle=0,this.master_points_id=-1,this.title_id=0,this.satellite=0}return t}();t.MatchConfig=e,__reflect(e.prototype,"kelvin.texas.MatchConfig")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.getNowMatchId=function(){return t.CacheData.getRAMData("NowMatchId")},e.putNowMatchId=function(e){t.CacheData.saveRAMData("NowMatchId",e)},e.getUserPropInfo=function(){return t.CacheData.getRAMData("UserPropInfo")},e.putUserPropInfo=function(e){t.CacheData.saveRAMData("UserPropInfo",e)},e}();t.MatchData=e,__reflect(e.prototype,"kelvin.texas.MatchData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.Mzconfig=e,__reflect(e.prototype,"kelvin.texas.Mzconfig")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"phoneNumber",{get:function(){return t.CacheData.getRAMData("PhoneData_phoneNumber")},set:function(e){t.CacheData.saveRAMData("PhoneData_phoneNumber",e)},enumerable:!0,configurable:!0}),e}();t.PhoneData=e,__reflect(e.prototype,"kelvin.texas.PhoneData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){this.sex=0,this.gold=0,this.scores=0}return t}();t.Role=e,__reflect(e.prototype,"kelvin.texas.Role")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.getRole=function(){return t.CacheData.getRAMData("role")},e.putRole=function(e){t.CacheData.saveRAMData("role",e)},e.getRoleName=function(e){return t.CacheData.getRAMData("roleNamesCache:"+e)},e.putRoleName=function(e,i){t.CacheData.saveRAMData("roleNamesCache:"+e,i)},e.putRolePrizeInfo=function(e){t.CacheData.saveRAMData("RolePrizeInfo",e)},e.getRolePrizeInfo=function(){return t.CacheData.getRAMData("RolePrizeInfo")},e.updateRoleGold=function(i){e.getRole().gold=i,t.EventManager.dispatchCmd(t.Events.refreshShowGold,i)},e.updateOnLineTime=function(e){t.CacheData.saveRAMData("onlineTime",parseInt(e.toString()))},e.getOnlineTime=function(){return t.CacheData.getRAMData("onlineTime")},e}();t.RoleData=e,__reflect(e.prototype,"kelvin.texas.RoleData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){this.maxScore=-1,this.minScore=-1,this.ready=!0,this.table_num=0}return t}();t.Room=e,__reflect(e.prototype,"kelvin.texas.Room")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.getCurrentRoom=function(){return t.CacheData.getRAMData("currentRoom")},e.putCurrentRoom=function(e){t.CacheData.saveRAMData("currentRoom",e)},e.saveRoles=function(e){t.CacheData.saveRAMData("currentRoom_roles",e)},e.getRoles=function(){return t.CacheData.getRAMData("currentRoom_roles")},e.saveRole=function(t){var i=e.getRoles();null==i&&(i={}),i[t.uid]=t,e.saveRoles(i)},e.getRole=function(t){var i=e.getRoles();return null==i?null:i[t]},Object.defineProperty(e,"recordChooseZoneAndGame",{get:function(){var e=t.CacheData.getRAMData("recordChooseZoneAndGame");return e||(e=[null,null]),e},set:function(e){t.CacheData.saveRAMData("recordChooseZoneAndGame",e)},enumerable:!0,configurable:!0}),e}();t.RoomData=e,__reflect(e.prototype,"kelvin.texas.RoomData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"noticeTime",{get:function(){var t=egret.localStorage.getItem("TimeData_noticeTime");return null==t&&(t="0"),Number(t)},set:function(t){egret.localStorage.setItem("TimeData_noticeTime",String(t))},enumerable:!0,configurable:!0}),t}();t.TimeData=e,__reflect(e.prototype,"kelvin.texas.TimeData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t}();t.User=e,__reflect(e.prototype,"kelvin.texas.User")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"musicNum",{get:function(){var t=egret.localStorage.getItem("VoiceData_musicNum");return null==t&&(t="1"),Number(t)},set:function(t){egret.localStorage.setItem("VoiceData_musicNum",String(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t,"soundNum",{get:function(){var t=egret.localStorage.getItem("VoiceData_soundNum");return null==t&&(t="1"),Number(t)},set:function(t){egret.localStorage.setItem("VoiceData_soundNum",String(t))},enumerable:!0,configurable:!0}),t}();t.VoiceData=e,__reflect(e.prototype,"kelvin.texas.VoiceData")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.onInit=function(){t.Log.log("ExtGame ---> onInit")},i.prototype.onInitByMovie=function(t){},i.prototype.onJoinRoom=function(e){t.Log.log("ExtGame ---> onJoinRoom")},i.prototype.onReturnGame=function(e){t.Log.log("ExtGame ---> onReturnGame")},i.prototype.onLeaveRoom=function(e){t.Log.log("ExtGame ---> onLeaveRoom")},i.prototype.onLeaveGame=function(e){t.Log.log("ExtGame ---> onLeaveGame")},i.prototype.onDisbandRoom=function(e){t.Log.log("ExtGame ---> onDisbandRoom")},i.prototype.onGameMessage=function(e){t.Log.log("ExtGame ---> onGameMessage")},i.prototype.onLeaveRoomByJoinMoneyError=function(e){t.Log.log("ExtGame ---> onLeaveRoomByJoinMoneyError")},i.prototype.getBackGround=function(){return null},i.prototype.layout=function(){t.Log.log("ExtGame ---> layout")},i.prototype.getGameVersion=function(){return""},i.prototype.dispose=function(){t.Log.log("ExtGame ---> dispose")},i}(egret.DisplayObjectContainer);t.ExtGame=e,__reflect(e.prototype,"kelvin.texas.ExtGame")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.getStageWidth=function(){return t.App.stageWidth},i.prototype.getStageHeight=function(){return t.App.stageHeight},i}(t.BasePanel);t.ExtGameBackground=e,__reflect(e.prototype,"kelvin.texas.ExtGameBackground")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.getRAMData=function(t){return e._ramDatas[t]},e.saveRAMData=function(t,i){e._ramDatas[t]=i},e.removeRAMData=function(t){delete e._ramDatas[t]},e.clearRAMData=function(){e._ramDatas={}},e.init=function(){},e.exitExtGamePanel=function(){lzm.Alert.closeAllAlert(),e.removePopupPanle(),e.extGamePanel?(e.extGamePanel.dispose(),e.homePanel.visible=!0):e.homePanel.visible=!0,e.isneedPop=!0,e.extGamePanel=null,t.EventManager.dispatchCmd(t.Events.backGame,null)},e.joinExtGamePanel=function(){e.extGamePanel||(e.homePanel.visible=!1,e.extGamePanel=new t.GamePanel,t.Starup.stageSp.gameSp.addChild(e.extGamePanel))},e.leaveRoom=function(){e._leaveRoom()},e.disbandRoom=function(){e._leaveRoom()},e._leaveRoom=function(){t.RoomApi.leaveGame(function(t){e.exitExtGamePanel()})},e.sendGameMessage=function(e,i){void 0===i&&(i=!1),t.RoomApi.gameMessage(e,i)},e.popAnyView=function(t){lzm.Alert.alert(t)},e.getGameScalex=function(){var e=t.App.stageWidth/t.App.designWidth,i=t.App.stageHeight/t.App.designHeight;return e>i?i:e},e.showMatchBtn=function(e,i,n,a,s){return this.matchBtn&&t.Tool.removeFromParent(this.matchBtn),this.matchBtn=new t.GameMatchBtn(n,a,s),t.Starup.stageSp.popupSp.addChild(this.matchBtn),this.matchBtn.x=e,this.matchBtn.y=i,this.matchBtn},e.hideMatchBtn=function(){this.matchBtn&&t.Tool.removeFromParent(this.matchBtn)},e.popMyMatchView=function(i,n,a){var s=new t.GameMatchView(i,n,a);t.Starup.stageSp.popupSp.addChild(s),e.popupPanelArr.push(s),s.show()},e.popGameRankView=function(i,n,a,s){var o=new t.GameRankView(i,n,a,s);t.Starup.stageSp.popupSp.addChild(o),e.popupPanelArr.push(o),o.show()},e.popGameSsxqView=function(i,n,a,s,o,r){var h=new t.GameBsqxView(i,n,a,s,o,r);t.Starup.stageSp.popupSp.addChild(h),e.popupPanelArr.push(h),h.show()},e.popAppointPanel=function(i,n,a,s){void 0===s&&(s=.7);var o=new t.PopupContainer(i);t.Starup.stageSp.popupSp.addChild(o),e.popupPanelArr.push(i),o.show(n,a,s)},e.removePopupPanle=function(){for(var t=0;t<e.popupPanelArr.length;t++)e.popupPanelArr[t].dispose();e.popupPanelArr=[]},e.hideRoomWaitUI=function(){t.WaitRoomUI.waitRoomUI&&t.WaitRoomUI.waitRoomUI.hide()},e.popGetPrize=function(e){lzm.Alert.alert(new t.GetPrizeView(e,!0))},e.isSetPrizeInfo=function(){return t.RoleData.getRolePrizeInfo()?!0:!1},e.isCansignup=function(e){var i=(e.id,e.apply_time),n=e.apply_time_end,a=e.apply_delay_time,s=e.apply_gold,o=e.apply_score,r=e.mz_level,h=e.apply_max_mz_level,l=(e.apply_max_people,e.people,e.service_gold),c=e.service_score,p=(new Date).getTime();if(t.RoleData.getRole().gold<s+l)return t.Log.log("金币不够报名"),1;if(t.RoleData.getRole().scores<o+c)return t.Log.log("积分不够报名"),2;if(r>h)return t.Log.log("当前盲注等级过大，不能报名"),3;var u=new Date,d=t.DateUtils.formatDate(u),g=d+" "+i,m=new Date(g).getTime();if(m>p)return t.Log.log("当前尚未到报名时间,不能报名"),4;var f=d+" "+n,v=new Date(f).getTime()+1e3*a;return p>v?(t.Log.log("比赛时间已过，不能报名"),5):1==e.inMoneyCircle?(t.Log.log("奖励圈已经确定无法报名"),7):0},e.popApplyFailMsg=function(e){lzm.Alert.alert(new t.ApplyPrompt(e))},e.rebuy=function(e,i){t.MatchApi.apply(String(e),function(){t.MatchApi.getPlayerProps(null),lzm.Alert.alert(new t.WaitRoomUI(e))},i)},e.isUsePropApply=function(e,i){var n=t.MatchData.getUserPropInfo(),a=[];
for(var s in n.data)for(var o in n.data[s]){var r=n.data[s][o];r.cfgId==e&&a.push(r)}var h;for(var s in n.configs)n.configs[s].cfgId==e&&(h=n.configs[s]);if(!h)return egret.warn("门票道具配置出错"),"";for(var l="",c=(new Date).getTime(),o=0;o<a.length;o++)if(0==a[o].type&&c<=1e3*a[o].get_time+1e3*h.expirationDate){l=h.name;break}return l},e._ramDatas={},e.isneedPop=!0,e.popupPanelArr=[],e}();t.ExtGameHelper=e,__reflect(e.prototype,"kelvin.texas.ExtGameHelper")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.init=function(){egret.ExternalInterface.addCallback("onWxResp",i.onWxResp),t.NativeBase.registerCmd("onWxResp",i.onWxResp,null),window.callJS=function(e,i){i&&(i=JSON.parse(i),i.ios=!0,i=JSON.stringify(i)),t.NativeBase.dispatchCmd(e,i)},i.registerApp(t.AppConfig.wxAppId)},i.onWxResp=function(e){if(t.Log.log("onWxResp:"+e),e=JSON.parse(e),1==e.type){t.NetworkLoading.show(!0);var i={code:e.code};lzm.HttpClient.send(t.AppConfig.wxApiUrl,i,function(e){var i={loginData:JSON.parse(e),time:Math.round((new Date).getTime()/1e3)};egret.localStorage.setItem("login_cat_wx_data",JSON.stringify(i)),t.NativeBase.dispatchCmd("wxLoginCallBack",JSON.parse(e))}),t.NetworkLoading.hide()}},i.registerApp=function(e){var n={};n.clazz=i.clazz,n.method="registerApp",n.appId=e,n.universalLink=t.AppConfig.universalLink,egret.ExternalInterface.call("callNative",JSON.stringify(n)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(n))},i.login=function(){var e=JSON.parse(egret.localStorage.getItem("login_cat_wx_data"));if(null==e||parseInt(e.time)+86400<=Math.round((new Date).getTime()/1e3)){var n={};n.clazz=i.clazz,n.method="login",egret.ExternalInterface.call("callNative",JSON.stringify(n)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(n))}else t.NativeBase.dispatchCmd("wxLoginCallBack",e.loginData)},i.shareWxImage=function(t,e){void 0===e&&(e="session");var n=new egret.RenderTexture;n.drawToTexture(t,new egret.Rectangle(0,0,t.width,t.height));var a=n.toDataURL("image/png",new egret.Rectangle(0,0,t.width,t.height)),s={};s.clazz=i.clazz,s.method="shareWxImage",s.scene=e,s.imageData=a,egret.ExternalInterface.call("callNative",JSON.stringify(s)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(s))},i.clazz="com.kelvin.WXConstant",i}(t.NativeBase);t.AppWx=e,__reflect(e.prototype,"kelvin.texas.AppWx")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var lzm;!function(t){var e=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this,e,i)||this;return n.is_over=!0,n}return __extends(e,t),e.prototype.checkGestures=function(t){if(t.type==egret.TouchEvent.TOUCH_BEGIN)this._downPoint=t.stagePoint,this._downTime=Math.round((new Date).getTime()/1e3),this.is_over=!1;else if(t.type==egret.TouchEvent.TOUCH_MOVE){if(null==this._downPoint&&(this._downPoint=t.stagePoint,this._downTime=Math.round((new Date).getTime()/1e3)),1==this.is_over)return;if(null==this._downPoint)return;var i=Math.round((new Date).getTime()/1e3)-this._downTime,n=t.stagePoint;if(e.DISTIME<i)return;var a=n.x-this._downPoint.x,s=n.y-this._downPoint.y;Math.abs(a)>Math.abs(s)?Math.abs(a)>e.DIS&&null!=this._callBack&&(this._callBack(a>0?e.RIGHT:e.LEFT),this._downPoint=null,this.is_over=!0):Math.abs(s)>e.DIS&&null!=this._callBack&&(this._callBack(s>0?e.DOWN:e.UP),this._downPoint=null,this.is_over=!0)}else(t.type==egret.TouchEvent.TOUCH_END||t.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE)&&(this._downPoint=null,this.is_over=!0)},e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e.DISTIME=100,e.DIS=20,e}(t.Gestures);t.SwipeGestures=e,__reflect(e.prototype,"lzm.SwipeGestures")}(lzm||(lzm={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.init=function(){egret.ExternalInterface.addCallback("onGetCopy",e.onCopy),egret.ExternalInterface.addCallback("onAppUpdate",e.onAppUpdate)},e.openUrl=function(t){var i={};i.clazz=e.clazz,i.method="openUrl",i.url=t,egret.ExternalInterface.call("callNative",JSON.stringify(i)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(i))},e.copy=function(t){var i={};i.clazz=e.clazz,i.method="copy",i.content=t,egret.ExternalInterface.call("callNative",JSON.stringify(i)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(i))},e.chageOriention=function(t){var i={};i.clazz=e.clazz,i.method="chageOriention",i.landScape=t,egret.ExternalInterface.call("callNative",JSON.stringify(i)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(i))},e.hideLoading=function(){var t={};t.clazz=e.clazz,t.method="hideLoading",egret.ExternalInterface.call("callNative",JSON.stringify(t))},e.openWeixin=function(){if(t.App.isAndroid()){var i={};i.clazz=e.clazz,i.method="openWeixin",egret.ExternalInterface.call("callNative",JSON.stringify(i))}else window.open("weixin://")},e.openZhifubao=function(){if(t.App.isAndroid()){var i={};i.clazz=e.clazz,i.method="openZhifubao",egret.ExternalInterface.call("callNative",JSON.stringify(i))}else window.open("alipay://")},e.getCopy=function(){e.copyString="";var t={};t.clazz=e.clazz,t.method="getCopy",egret.ExternalInterface.call("callNative",JSON.stringify(t)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(t))},e.onCopy=function(i){t.Log.log("copyData:"+i),i=JSON.parse(i),e.copyString=i.copyString},e.appUpdate=function(){var t={};t.clazz=e.clazz,t.method="appUpdate",egret.ExternalInterface.call("callNative",JSON.stringify(t)),egret.ExternalInterface.addCallback("onAppUpdate",e.onAppUpdate.bind(e))},e.onAppUpdate=function(e){t.NativeBase.dispatchCmd("onAppUpdate",e)},e.clazz="com.kelvin.NativeTools",e.copyString="",e}();t.NativeTools=e,__reflect(e.prototype,"kelvin.texas.NativeTools")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e={RewardVideoAd:"RewardVideoAd",SplashAd:"SplashAd",FullScreenVideoAd:"FullScreenVideoAd",BannerExpressAd:"BannerExpressAd",InteractionAd:"InteractionAd"},i=function(){function i(){}return i.showSplashAd=function(){i.SplashAd(function(){},i,"")},i.showRewardVideoAd=function(e,n,a,s){if(!t.App.isWeiDuan())return t.Log.log("showRewardVideoAd on H5"),void n.apply(s,[]);var o={is_horizontal:!1,userID:e+"",rewardAmount:1,rewardName:"金币"};i.RewardVideoAd(function(e){t.Log.log("激励广告事件:"+e);var i=JSON.parse(e),o=!1;"onRewardVerify"===i.event?i.verify&&(o=!0,n.apply(s,[])):"onAdShow"===i.event?t.Log.log("广告显示"):"onAdVideoBarClick"===i.event?t.Log.log("点击banner"):"onAdClose"===i.event?(t.Log.log("关闭广告"),o||a.apply(s,[])):"onVideoComplete"===i.event?t.Log.log("视频播放完毕"):"onVideoError"===i.event?(t.Log.log("视频播放错误"),a.apply(s,[])):"onSkippedVideo"===i.event&&(t.Log.log("跳过"),a.apply(s,[]))},i,JSON.stringify(o))},i.RewardVideoAd=function(t,n,a){i.addCallBack(e.RewardVideoAd,t,n,a)},i.SplashAd=function(t,n,a){i.addCallBack(e.SplashAd,t,n,a)},i.FullScreenVideoAd=function(t,n,a){i.addCallBack(e.FullScreenVideoAd,t,n,a)},i.BannerExpressAd=function(t,n,a){i.addCallBack(e.BannerExpressAd,t,n,a)},i.InteractionAd=function(t,n,a){i.addCallBack(e.InteractionAd,t,n,a)},i.addCallBack=function(t,e,i,n){egret.ExternalInterface.addCallback("TT"+t+"-js",function(t){e&&i&&e.apply(i,[t])}),egret.ExternalInterface.call("TT"+t,n)},i}();t.OpenAdSdk=i,__reflect(i.prototype,"kelvin.texas.OpenAdSdk")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.init=function(){egret.ExternalInterface.addCallback("onOpeninstallParams",e.onOpeninstallParams)},e.getRegisterParams=function(){var i={};i.clazz=e.clazz,i.method="getRegisterParams",egret.ExternalInterface.call("callNative",JSON.stringify(i)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.callNative.postMessage(JSON.stringify(i)),t.App.isWeiDuan()&&(e.timeoutId=egret.setTimeout(function(){t.Log.log("再次拉取登陆参数"),e.getRegisterParams()},e,1e4))},e.onOpeninstallParams=function(i){egret.clearInterval(e.timeoutId);var n=JSON.parse(i),a=n.data;if(null!=a&&(t.App.isWeiDuan()&&t.App.isAndroid()&&"string"==typeof a&&(a=JSON.parse(a)),a.recommend&&null==t.RoleData.getRole().recommend)){var s={api:"role",c:"syncRecommend",recommend:a.recommend};t.BaseApi.requestLogic(s,null,null)}},e.clazz="com.k.zj.OpenInstallConstant",e.timeoutId=-1,e}();t.Openinstall=e,__reflect(e.prototype,"kelvin.texas.Openinstall")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var lzm;!function(t){var e=function(){function t(){}return t}();t.Touch=e,__reflect(e.prototype,"lzm.Touch")}(lzm||(lzm={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i){var n=e.call(this)||this;return n.isJuge=!0,n.pageTitleData={},n.scrollViewVs={},n.titleArr=[],n.titleH=t,n.singleH=i,n.init(),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addToStage,n),n}return __extends(i,e),i.prototype.init=function(){this.scrollViewH=new t.ScrollView,this.scrollViewH.scrollPolicyH="off",this.scrollViewH.scrollPolicyV="off",this.scrollViewH.bounces=!1,this.scrollViewH.throwSpeed=0,this.addChild(this.scrollViewH),this.titleContainer=new t.ScrollView,this.titleContainer.scrollPolicyH="off",this.titleContainer.scrollPolicyV="off",this.titleContainer.setShowSize(t.App.stageWidth,this.titleH+5),this.addChild(this.titleContainer),this.containerH=new egret.Sprite,this.scrollViewH.container.addChild(this.containerH),this.scrollViewH.y=this.titleH,this.touSpRect=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight-this.titleH,16777215,0,this.titleH,0),this.containerH.addChild(this.touSpRect),this.chooseLine=t.Tool.createBitmapByName("img_img_pyqdz_xuanz"),this.chooseLine.scale9Grid=new egret.Rectangle(5,0,this.chooseLine.width-5,this.chooseLine.height),this.titleContainer.container.addChild(this.chooseLine),this.chooseLine.y=this.titleH,this.slideJudge=new lzm.SwipeGestures(this.containerH,this.slideCallback.bind(this)),this.containerH.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.beginTouch,this),this.containerH.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.movePanel,this),this.containerH.addEventListener(egret.TouchEvent.TOUCH_END,this.resetSlide,this),this.containerH.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.resetSlide,this),this.containerH.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.resetSlide,this),this.containerH.touchEnabled=!1},i.prototype.addToStage=function(){var e=Object.keys(this.pageTitleData).length;this.scrollViewH.setScrollSize(t.App.stageWidth,t.App.stageHeight-this.y-this.titleH-10),this.touSpRect.width=t.App.stageWidth*e,this.touSpRect.height=t.App.stageHeight-this.y-this.titleH-10},i.prototype.beginTouch=function(t){this.startTime=(new Date).getTime(),this.startTouchX=t.stageX},i.prototype.movePanel=function(e){if("left"==this.direction||"right"==this.direction){this.startPoint||(this.startPoint=new egret.Point,this.startPoint.x=e.stageX,this.startPoint.y=e.stageY);var i=this.startPoint.x-e.stageX;this.startPoint.x=e.stageX,this.startPoint.y=e.stageY;var n=this.containerH.x-i;if(n>0)return;var a=Object.keys(this.pageTitleData).length;if(n<-t.App.stageWidth*(a-1))return;var s=i/this.titleArr.length;this.chooseLine.x=this.chooseLine.x+s,this.containerH.x=n}},i.prototype.resetSlide=function(e){console.log("结束滑动");var i,n=(new Date).getTime(),a=n-this.startTime,s=Math.abs(e.stageX-this.startTouchX);if(300>a||s>200){console.log("触发自动换页");for(var o=0,r=0;r<this.titleArr.length;r++)this.titleArr[r].name==this.nowChoose&&(o=r);if("right"==this.direction){var h=o-1;0>h&&(h=0),o=h}else if("left"==this.direction){var l=o+1;l>this.titleArr.length-1&&(l=this.titleArr.length-1),o=l}this.nowChoose=this.titleArr[o].name,i=this.pageTitleData[this.nowChoose];var c=(this.scrollViewVs[this.nowChoose].scrollView,(i.length-1)*this.singleH);egret.Tween.removeTweens(this.chooseLine),egret.Tween.get(this.chooseLine).to({x:this.titleArr[o].x},300,egret.Ease.quartOut),egret.Tween.removeTweens(this.containerH),egret.Tween.get(this.containerH).to({x:-c},300,egret.Ease.quartOut).call(function(){},this)}else{var o="",p=1e9,u=0,d=0;for(var r in this.scrollViewVs){var g=this.scrollViewVs[r].x+this.containerH.x,m=Math.abs(0-g);p>m&&(o=r,p=m,d=u),u++}this.nowChoose=o,i=this.pageTitleData[this.nowChoose];var c=(this.scrollViewVs[this.nowChoose].scrollView,(i.length-1)*this.singleH);egret.Tween.removeTweens(this.chooseLine),egret.Tween.get(this.chooseLine).to({x:this.titleArr[d].x},300,egret.Ease.quartOut),egret.Tween.removeTweens(this.containerH),egret.Tween.get(this.containerH).to({x:-c},300,egret.Ease.quartOut).call(function(){},this)}for(var r in this.pageTitleData){var f=this.pageTitleData[r];r!=e.target.name&&f.unchooseFt&&f.unchooseFt()}i.chooseFt&&i.chooseFt(),i.callBack&&i.callBack(),this.direction="",this.containerH.touchEnabled=!1,this.touSpRect.touchEnabled=!1,this.isJuge=!0,this.startPoint=null,this.startTouchX=0,this.startTime=0,egret.setTimeout(function(){t.EventManager.dispatchCmd(t.Events.controlHContanier,!0)},this,50),this.containerH.touchEnabled=!1,this.touSpRect.touchEnabled=!1;for(var r in this.scrollViewVs)this.scrollViewVs[r].scrollView&&(this.scrollViewVs[r].scrollView.scrollPolicyV="on")},i.prototype.slideCallback=function(e){if(console.log(e),0!=this.isJuge)if("left"==e||"right"==e){this.direction=e,this.containerH.touchEnabled=!0,this.touSpRect.touchEnabled=!0;for(var i in this.scrollViewVs)this.scrollViewVs[i].scrollView&&(this.scrollViewVs[i].scrollView.scrollPolicyV="off");this.isJuge=!1,t.EventManager.dispatchCmd(t.Events.controlHContanier,!1)}else{this.direction=e,this.containerH.touchEnabled=!1,this.touSpRect.touchEnabled=!1;for(var i in this.scrollViewVs)this.scrollViewVs[i].scrollView&&(this.scrollViewVs[i].scrollView.scrollPolicyV="on");this.isJuge=!1}},i.prototype.addPage=function(e,i,n,a,s,o,r,h,l){void 0===s&&(s=!1),void 0===o&&(o=null),void 0===r&&(r=null),void 0===h&&(h=0),void 0===l&&(l=0),this.pageTitleData[n]||(this.pageTitleData[n]={}),this.pageTitleData[n].core=e,this.pageTitleData[n].key=n,this.pageTitleData[n].isscale=s,this.pageTitleData[n].offsetX=h,this.pageTitleData[n].offsetY=l,this.pageTitleData[n].chooseFt=o,this.pageTitleData[n].unchooseFt=r,this.pageTitleData[n].callBack=a;var c=Object.keys(this.pageTitleData).length;this.pageTitleData[n].length=c,this.scrollViewVs[n]=i,i.x=t.App.stageWidth*(c-1);var p=this.singleH-i.width;i.x=i.x+p/2,this.containerH.addChild(i),this.updateTitle(),1==c&&(this.nowChoose=n)},i.prototype.getContainerByKey=function(t){return this.scrollViewVs[t]},i.prototype.updateTitle=function(){for(var e=0;e<this.titleArr.length;e++)this.titleArr[e].removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.titleArr[e].removeEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this.titleArr[e].removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.mouseUp,this),this.titleArr[e].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.mouseClick,this);this.titleArr=[],this.titleContainer.removeAllChild(),this.titleContainer.container.addChild(this.chooseLine);var i=Object.keys(this.pageTitleData).length,n=i;i>4&&(n=4,console.log(i*t.App.stageWidth/4),this.titleContainer.setScrollSize(i*t.App.stageWidth/4,this.titleH),this.titleContainer.scrollPolicyH="on");var a=t.App.stageWidth/n;this.chooseLine.width=a,this.chooseLine.anchorOffsetX=this.chooseLine.width/2;var s=0;for(var e in this.pageTitleData){s++;var o=t.Tool.createSprite(0,0,a,this.titleH),r=t.Tool.createRectSprite(a,this.titleH,16777215,0,0,0);o.addChild(r),t.Tool.center(o),o.x=s*a-a/2,o.y=this.titleH/2;var h=this.pageTitleData[e].core;o.addChild(h),h.x=o.width/2-h.width/2,h.y=o.height/2-h.height/2,o.touchEnabled=!0,o.name=e,o.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),o.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),o.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.mouseUp,this),o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mouseClick,this),this.titleContainer.container.addChild(o),this.titleArr.push(o)}this.titleArr[0]&&(this.chooseLine.x=this.titleArr[0].x)},i.prototype.mouseClick=function(t){if(this.nowChoose==t.target.name)return void console.log("选择了同一页，不做动画");this.nowChoose=t.target.name;for(var e=this.pageTitleData[t.target.name],i=(this.scrollViewVs[t.target.name].scrollView,(e.length-1)*this.singleH),n=t.target,a=0;a<this.titleArr.length;a++)this.titleArr[a].name==t.target.name&&(n=this.titleArr[a]);egret.Tween.removeTweens(this.chooseLine),egret.Tween.get(this.chooseLine).to({x:n.x},300,egret.Ease.quartOut),egret.Tween.removeTweens(this.containerH),egret.Tween.get(this.containerH).to({x:-i},300,egret.Ease.quartOut).call(function(){},this);for(var a in this.pageTitleData){var s=this.pageTitleData[a];a!=t.target.name&&s.unchooseFt&&s.unchooseFt()}e.chooseFt&&e.chooseFt(),e.callBack&&e.callBack(t.target.name)},i.prototype.mouseDown=function(t){0!=this.pageTitleData[t.target.name].isscale&&(t.target.scaleX=1.1,t.target.scaleY=1.1)},i.prototype.mouseUp=function(t){t.target.scaleX=1,t.target.scaleY=1},i.prototype.dispose=function(){this.containerH.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.beginTouch,this),this.containerH.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.movePanel,this),this.containerH.removeEventListener(egret.TouchEvent.TOUCH_END,this.resetSlide,this),this.containerH.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.resetSlide,this),this.containerH.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.resetSlide,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addToStage,this)},i}(egret.DisplayObjectContainer);t.PagePanel=e,__reflect(e.prototype,"kelvin.texas.PagePanel")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.switchPanel=function(i,n){i.visible=n.visible=!0,n.x=t.App.stageWidth,t.TweenQueue.getWithKey("switchPanel",i,{x:.7*-t.App.stageWidth},300,egret.Ease.quartOut,0),t.TweenQueue.get(n,{x:0},300,egret.Ease.quartOut,0,function(){i.visible=!1,e.callBackTweenOver(n)})},e.pushPanel=function(i){i.visible=!0,i.x=t.App.stageWidth,e.rootPanel.parent.addChild(i),e.pushPanelList.length>0?t.TweenQueue.getWithKey("switchPanel",e.pushPanelList[e.pushPanelList.length-1],{x:.7*-t.App.stageWidth},300,egret.Ease.quartOut,0,function(){e.pushPanelList[e.pushPanelList.length-1].leaveView&&e.pushPanelList[e.pushPanelList.length-1].leaveView()}):t.TweenQueue.getWithKey("switchPanel",e.rootPanel,{x:.7*-t.App.stageWidth},300,egret.Ease.quartOut,0,function(){e.rootPanel.leaveView&&e.rootPanel.leaveView()}),t.TweenQueue.get(i,{x:0},300,egret.Ease.quartOut,0,function(){e.pushPanelList.length>0?e.pushPanelList[e.pushPanelList.length-1].visible=!1:e.rootPanel.visible=!1,e.pushPanelList.push(i),e.callBackTweenOver(i)})},e.popPanel=function(){if(0!=e.pushPanelList.length){var i=e.pushPanelList.pop();if(null!=i&&t.TweenQueue.getWithKey("switchPanel",i,{x:t.App.stageWidth},300,egret.Ease.quartOut,0,function(){i.parent&&i.parent.removeChild(i),i.dispose&&i.dispose()}),e.pushPanelList.length>0){var n=e.pushPanelList[e.pushPanelList.length-1];n.visible=!0,t.TweenQueue.get(n,{x:0},300,egret.Ease.quartOut,0,function(){e.pushPanelList[e.pushPanelList.length-1].backView&&e.pushPanelList[e.pushPanelList.length-1].backView()})}else e.rootPanel.visible=!0,t.TweenQueue.get(e.rootPanel,{x:0},300,egret.Ease.quartOut,0,function(){e.rootPanel.backView&&e.rootPanel.backView()})}},e.clearAllPanel=function(){for(var i=0;i<e.pushPanelList.length;i++)t.Tool.removeFromParent(e.pushPanelList[i]);e.pushPanelList=[]},e.callBackTweenOver=function(t){if(t.onInterfaceTweenOver){var e=t.onInterfaceTweenOver;e.apply(t)}},e.pushPanelList=[],e}();t.PanelTween=e,__reflect(e.prototype,"kelvin.texas.PanelTween")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this,!0)||this}return __extends(e,t),e.prototype.on_closeBtn=function(t){this.dispose()},e}(t.BasePanel);t.PushPanel=e,__reflect(e.prototype,"kelvin.texas.PushPanel")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.contentH=0,this.timeTxt.text=this.data.time,this.nameTxt.text=this.data.name,this.titleTxt.text="【"+this.data.title+"】",t.Tool.removeFromParent(this.contentTxt),this.contentTxt=t.Tool.createTextFiled(53,578,612,null,"",24,16777215,"left","top"),this.addChild(this.contentTxt),this.contentTxt.text=this.data.content,this.contentH=this.contentTxt.textHeight,this.downLine.y=this.downLine.y+this.contentH-24,this.nameTxt.y=this.nameTxt.y+this.contentH-24,this.icon.y=this.icon.y+this.contentH-24,t.Tool.removeFromParent(this.activeimg),this.activeimg=new egret.Bitmap,this.activeimg.width=720,this.activeimg.height=420,this.addChild(this.activeimg),this.activeimg.y=67.5,this.createImg()},i.prototype.createImg=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(i){switch(i.label){case 0:return e=this.activeimg,[4,t.Tool.getTextureByUrlOrName(this.data.imgurl)];case 1:return e.texture=i.sent(),this.activeimg.width=720,this.activeimg.height=420,[2]}})})},i.prototype.mainAssetName=function(){return"spr_active_line_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.ActiveLineUI=e,__reflect(e.prototype,"kelvin.texas.ActiveLineUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.scrollView.y=100,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-100),t.NoticeApi.getActivityNotices(this.getInfo.bind(this))},i.prototype.getInfo=function(t){if(this.infoArr=[],null!=t.notices)for(var e in t.notices){var i={imgurl:t.notices[e].titleUrl,imglengthArr:t.notices[e].urls};this.infoArr.push(i)}this.createUI()},i.prototype.createUI=function(){return __awaiter(this,void 0,void 0,function(){var e,i,n,a;return __generator(this,function(s){switch(s.label){case 0:this.uiArr=[],e=0,i=0,s.label=1;case 1:return i<this.infoArr.length?(n=new egret.Bitmap,n.x=8,n.width=t.App.stageWidth-16,a=n,[4,t.Tool.getTextureByUrlOrName(this.infoArr[i].imgurl)]):[3,4];case 2:a.texture=s.sent(),n.y=e,n.name=this.infoArr[i].imgurl,this.scrollView.container.addChild(n),e=e+n.height+15,this.scrollView.setScrollSize(t.App.stageWidth,e),this.uiArr.push(n),n.touchEnabled=!0,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchImg,this),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},i.prototype.touchImg=function(e){for(var i=0;i<this.uiArr.length;i++)if(e.target.name==this.infoArr[i].imgurl){null!=this.infoArr[i].imglengthArr&&this.infoArr[i].imglengthArr.length>0&&t.PanelTween.pushPanel(new t.NoticeInfo(this.infoArr[i].imglengthArr));break}},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_active_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0;t<this.uiArr.length;t++)this.uiArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchImg,this)},i}(t.BasePanel);t.ActiveView=e,__reflect(e.prototype,"kelvin.texas.ActiveView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){"wcaa"==this.data.matchtype?(this.mzjgbTxt.text="WCAA盲注结构表",this.ssTxt1.visible=!1,this.jcphTxt.visible=!1,this.plTxt.visible=!1,this.icon1.visible=!1,this.icon2.visible=!1):"sng"==this.data.type?this.mzjgbTxt.text="SNG盲注结构表":(this.data.type="mtt")&&(this.mzjgbTxt.text="MTT盲注结构表"),this.gthImg3.x=this.mzjgbTxt.textWidth+5+this.mzjgbTxt.x,this.titleTxt.text=this.data.titie,this.mzjgbTxt.touchEnabled=!0,this.mzjgbTxt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showMZB,this),this.jcphTxt.touchEnabled=!0,this.jcphTxt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showJLPH,this),this.plTxt.touchEnabled=!0,this.plTxt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPL,this)},i.prototype.updateUI=function(){var t=this;if(this.csjfpTxt.text=""+this.data.init_game_score,this.mrcssxTxt.text=""+this.data.buy_count,this.bmfTxt.text=""+this.data.signmoney,0==this.data.signmoney&&0==this.data.apply_score?this.bmfTxt.text="免费":0==this.data.signmoney?(this.baomingTxt.text="报名费（积分）",0==this.data.service_score?this.bmfTxt.text=""+this.data.apply_score:this.bmfTxt.text=""+this.data.apply_score+"+"+this.data.service_score):(this.baomingTxt.text="报名费（金币）",0==this.data.service_gold?this.bmfTxt.text=""+this.data.signmoney:this.bmfTxt.text=""+this.data.signmoney+"+"+this.data.service_gold),1==this.data.serverstate||2==this.data.serverstate){var e=this.data.mzTable[String(this.data.mz_level)];e&&(this.nowLevelTxt.text="当前等级"+this.data.mz_level+" : "+e.xm+"/"+e.dm+" 前注"+e.qz);var i=this.data.mzTable[String(this.data.mz_level+1)];i&&(this.nextLevelTxt.text="下一等级"+(this.data.mz_level+1)+" : "+i.xm+"/"+i.dm+" 前注"+i.qz),this.zmsjTxt.text="涨盲时间 : "+this.data.mz_interval/60+"分钟",this.line5Txt.text="","sng"==this.data.type?this.ybmTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.havepeople:"mtt"==this.data.type&&(this.ybmTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.havepeople),egret.setTimeout(function(){var e=1e10,i=0,n=0;if(t.data.roomInfo)for(var a=0;a<t.data.roomInfo.length;a++)i<t.data.roomInfo[a].max&&(i=t.data.roomInfo[a].max),e>t.data.roomInfo[a].min&&(e=t.data.roomInfo[a].min),n++;var s=t.data.init_game_score*t.data.cur_buy_count,o=s/(t.data.havepeople-t.data.over_people);(0==n||0==t.data.havepeople)&&(o=0,i=0,e=0),t.jfpTxt.text="记分牌 :  最大"+Math.floor(i)+" 平均"+Math.floor(o)+" 最小"+Math.floor(e)},this,100)}else"sng"==this.data.type?this.ybmTxt.text=""+this.data.havepeople+"/"+this.data.apply_max_people:"mtt"==this.data.type&&(this.ybmTxt.text=""+this.data.havepeople+"/"+this.data.apply_max_people,this.data.apply_max_people>9999&&(this.ybmTxt.text=""+this.data.havepeople)),this.nowLevelTxt.text="涨盲时间："+Math.round(this.data.mz_interval/60*100)/100+"分钟",this.nextLevelTxt.text="单桌人数："+this.data.table_people,this.jfpTxt.text="终止报名：第"+this.data.apply_max_mz_level+"盲注等级开始",this.zmsjTxt.text="重购次数："+this.data.buy_count,this.data.break_time_long&&-1!=this.data.break_time_long&&0!=this.data.break_time_long?this.line5Txt.text="中场休息：每隔"+Math.round(this.data.break_interval/60*100)/100+"分钟休息"+Math.round(this.data.break_time_long/60*100)/100+"分钟":this.line5Txt.text="中场休息：无"},i.prototype.showSSJF=function(){this.ssTxt1.visible=!0,this.jcphTxt.visible=!0,this.plTxt.visible=!0,this.icon1.visible=!0,this.icon2.visible=!0},i.prototype.hideSSJF=function(){this.ssTxt1.visible=!1,this.jcphTxt.visible=!1,this.plTxt.visible=!1,this.icon1.visible=!1,this.icon2.visible=!1},i.prototype.showMZB=function(){t.PanelTween.pushPanel(new t.MzjgbView(this.data))},i.prototype.showJLPH=function(){t.EventManager.dispatchCmd(t.Events.gotoJLPage,null)},i.prototype.showPL=function(){},i.prototype.mainAssetName=function(){return"spr_bsxq_dt_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.mzjgbTxt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showMZB,this),this.jcphTxt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showJLPH,this),this.plTxt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPL,this)},i}(t.BasePanel);t.BsxqDtUI=e,__reflect(e.prototype,"kelvin.texas.BsxqDtUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.listbg.scale9Grid=new egret.Rectangle(40,40,this.listbg.width-40,this.listbg.height-40),this.listbg.height=t.App.stageHeight-590,this.listContainer=new t.ScrollView,this.addChild(this.listContainer),this.listContainer.x=this.listbg.x,this.listContainer.y=this.listbg.y,this.listContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.listContainer.width=this.listbg.width,this.listContainer.height=this.listbg.height-20,this.listimg=new eui.Image,this.listimg.width=this.listContainer.width,this.container=new eui.Group,this.container.addChild(this.listimg),this.listContainer.viewport=this.container,this.scrollView=this.listContainer,this.updateUI()},i.prototype.updateUI=function(){var t=this.data.reward;t<this.data.min_reward&&(t=this.data.min_reward),this.alljcTxt.text=""+t,this.data.poker_score_rate>0&&("wcaa"==this.data.matchtype?this.alljcTxt.text=this.alljcTxt.text:(console.log("牌力积分系数为------",this.data.poker_score_rate),console.log("已经消耗的牌力积分------",this.data.reward_poker_score),this.alljcTxt.text=this.alljcTxt.text+"（含牌力积分："+(t*this.data.poker_score_rate-this.data.reward_poker_score)+"）")),this.jlqTxt.text=this.data.moneyCircle[1],this.getInfo(),this.createListUI()},i.prototype.getInfo=function(){this.infoArr=[];var t=this.data.moneyCircle[2],e=this.data.reward;e<this.data.min_reward&&(e=this.data.min_reward);var i;i="wcaa"==this.data.matchtype?e:e-this.data.reward_poker_score;for(var n=0;n<t.length;n++){var a={level:t[n][0],ratio:t[n][1],reward:Number((i*t[n][1]).toFixed(2))};if("wcaa"==this.data.matchtype||(a.reward=Math.floor(i*t[n][1])),n>=9){var s=Number(t[n-1][0])+1;a.level=s+"-"+t[n][0]}this.infoArr.push(a)}},i.prototype.createListUI=function(){if(this.minSpArr)for(var e=0;e<this.minSpArr.length;e++)t.Tool.removeFromParent(this.minSpArr[e]);this.minSpArr=[];for(var e=0;e<this.infoArr.length;e++){var i=new egret.Sprite,n=t.Tool.createTextFiled(25,29,200,40,this.infoArr[e].level,26,16777215,"left");i.addChild(n);var a=Math.round(1e4*this.infoArr[e].ratio)/100+"%",s=t.Tool.createTextFiled(221,29,200,40,""+a,26,16777215,"center");i.addChild(s);var o=t.Tool.createTextFiled(420,29,200,40,""+this.infoArr[e].reward,26,16777215,"right");i.addChild(o),"common"==this.data.matchtype&&(o.text=o.text+"参赛积分");var r=t.Tool.createBitmapByName("img_img_pyqdz_jiangli_fjiex",!1,5,70);i.addChild(r),i.y=70*e,this.container.addChild(i),this.minSpArr.push(i)}this.listimg.height=70*this.infoArr.length},i.prototype.mainAssetName=function(){return"spr_bsxq_jl_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.BsxqJlUI=e,__reflect(e.prototype,"kelvin.texas.BsxqJlUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,!0)||this;return i.iscanTouch=!0,i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.listbg.scale9Grid=new egret.Rectangle(40,40,this.listbg.width-40,this.listbg.height-40),this.listbg.height=t.App.stageHeight-520,this.listContainer=this.scrollView,this.addChild(this.listContainer),this.listContainer.x=this.listbg.x,this.listContainer.y=this.listbg.y+70,this.listContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.setDownRefresh(this.refreshCall.bind(this)),this.listContainer.setShowSize(this.listbg.width,this.listbg.height-90),this.getInfoNum=0,this.updateUI(),this.iscanTouch=!0,t.EventManager.registerCmd(t.Events.controlHContanier,this.controlHContanier,this)
},i.prototype.controlHContanier=function(t){this.iscanTouch=t},i.prototype.updateUI=function(){t.MatchApi.getMatchRooms(this.data.id,this.getInfo.bind(this))},i.prototype.getInfo=function(e){this.infoArr=[];var i=[];for(var n in e.rooms){var a={tableid:e.rooms[n].id,usersnum:Object.keys(e.rooms[n].players).length,players:e.rooms[n].players,max:e.rooms[n].maxScore,min:e.rooms[n].minScore,match_id:e.rooms[n].match_id,showId:e.rooms[n].table_num+1};-1==a.max&&(a.max=this.data.init_game_score),-1==a.min&&(a.min=this.data.init_game_score),this.infoArr.push(a),i.push(a)}t.ArrayUtil.AscendingArray("showId",this.infoArr);for(var n=0;n<i.length;n++);this.data.roomInfo=this.infoArr,this.createListUI(),this.alljcTxt.text=""+this.infoArr.length;for(var s=0,n=0;n<this.infoArr.length;n++)s<this.infoArr[n].usersnum&&(s=this.infoArr[n].usersnum);this.jlqTxt.text=""+this.data.table_people},i.prototype.createListUI=function(){if(this.minSpArr)for(var e=0;e<this.minSpArr.length;e++)this.minSpArr[e].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gotoGame,this),t.Tool.removeFromParent(this.minSpArr[e]);this.minSpArr=[];for(var e=0;e<this.infoArr.length;e++){var i=new egret.Sprite,n=t.Tool.createTextFiled(45,29,200,40,""+this.infoArr[e].showId,26,16777215,"left");i.addChild(n);var a=t.Tool.createTextFiled(210,29,200,40,""+this.infoArr[e].usersnum,26,16777215,"center");i.addChild(a);var s=t.Tool.createTextFiled(420,29,200,40,""+this.infoArr[e].max+"/"+this.infoArr[e].min,26,16777215,"right");i.addChild(s);var o=t.Tool.createBitmapByName("img_img_pyqdz_paizuo_fjx",!1,5,70);i.addChild(o),i.y=70*e,this.scrollView.container.addChild(i),this.minSpArr.push(i),i.name=this.infoArr[e].tableid,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gotoGame,this)}this.scrollView.setScrollSize(this.listbg.width,70*this.infoArr.length),this.getInfoNum>0&&this.downRefreshOver()},i.prototype.refreshCall=function(){t.RefreshUI.ins.show(t.App.stageWidth/2,370),this.getInfoNum++,t.MatchApi.getMatchRooms(this.data.id,this.getInfo.bind(this))},i.prototype.gotoGame=function(e){if(0!=this.iscanTouch){for(var i,n=0;n<this.infoArr.length;n++)if(String(this.infoArr[n].tableid)==e.target.name){i=this.infoArr[n];break}lzm.Alert.alert(new t.WaitRoomUI(i.match_id,Number(i.tableid)))}},i.prototype.mainAssetName=function(){return"spr_bsxq_pz_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.EventManager.removeCmd(t.Events.controlHContanier,this.controlHContanier,this);for(var i=0;i<this.minSpArr.length;i++)this.minSpArr[i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gotoGame,this)},i}(t.BasePanel);t.BsxqPzUI=e,__reflect(e.prototype,"kelvin.texas.BsxqPzUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.dateUtils=new t.DateUtils,this.view=this.$children[0],this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.bottomSp.y=t.App.stageHeight-this.bottomSp.height,this.dtTxt=t.Tool.createTextFiled(0,0,100,40,"大厅",28,16777215,"center"),this.jlTxt=t.Tool.createTextFiled(0,0,100,40,"奖励",28,16777215,"center"),this.wjTxt=t.Tool.createTextFiled(0,0,100,40,"玩家",28,16777215,"center"),this.pzTxt=t.Tool.createTextFiled(0,0,100,40,"牌桌",28,16777215,"center"),this.pageView=new t.PagePanel(80,720),this.pageView.y=100,this.pageView.scrollViewH.setShowSize(t.App.stageWidth,t.App.stageHeight),this.pageView.scrollViewH.setScrollSize(t.App.stageWidth,t.App.stageHeight),this.view.addChildAt(this.pageView,1),this.jlHide(),this.wjHide(),this.pzHide(),this.initState(),this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.delayTimeRun,this),this.timer.start(),this.spData={};for(var e in this.data)this.spData[e]=this.data[e];t.MatchApi.getMatchInfo(this.data.id,this.getSpData.bind(this)),this.ispop=!1,t.EventManager.registerCmd(t.Events.gotoJLPage,this.gotoJLPage,this),this.startintervalUpdate(),t.BaseApi.registerCmd("matchStart",this.acceptMatch,this)},i.prototype.acceptMatch=function(t){this.spData.serverstate=t.match.state,this.data.serverstate=t.match.state,this.data.match_start_time=t.match.match_start_time,this.timerun()},i.prototype.delayTimeRun=function(){if(2==this.data.state){var t=1e3*this.data.match_start_time+1e3*this.data.apply_delay_time-(new Date).getTime(),e=this.dateUtils.getFormatBySecond(t/1e3);this.delayTimeTxt.text="报名剩余时间："+e,this.showSignTime()}else this.delayTimeTxt.text="",this.showSignTime()},i.prototype.startintervalUpdate=function(){var e=this;this.timeId1=egret.setInterval(function(){t.MatchApi.getMatchInfo(e.data.id,e.intervalGetInfo.bind(e))},this,1e4)},i.prototype.intervalGetInfo=function(t){console.log("拉取一次最新的消息"),this.data.serverstate=t.match.state,this.data.match_start_time=t.match.match_start_time,this.spData.serverstate=t.match.state,this.spData.mz_level=t.match.mz_level,this.spData.reward=t.match.reward,this.spData.cur_buy_count=t.match.cur_buy_count,this.spData.havepeople=t.match.people,this.spData.inMoneyCircle=t.match.inMoneyCircle,this.spData.over_people=t.match.over_people,this.spData.serverstate=t.match.state,this.spData.mzTable=t.mzTable,this.spData.roles=t.roles,this.spData.pokerScores=t.pokerScores,this.spData.gameScores=t.gameScores,this.spData.rooms=t.rooms,this.spData.moneyCircle=t.moneyCircle,this.spData.reBuyCount=t.reBuyCount,this.spData.hasTicket=t.hasTicket,this.timerun()},i.prototype.updateUI=function(){this.dtView&&this.dtView.updateUI(),this.jlView&&this.jlView.updateUI(),this.wjView&&this.wjView.updateUI(),this.pzView&&this.pzView.updateUI()},i.prototype.gotoJLPage=function(){var t={target:{name:"jl"}};this.pageView.mouseClick(t)},i.prototype.onInterfaceTweenOver=function(){(4==this.data.serverstate||5==this.data.serverstate)&&this.openFailBack(),6==this.data.serverstate&&this.gameend()},i.prototype.openFailBack=function(){lzm.Alert.alert(new t.CommonPopup("该比赛开始失败，请点击确定返回",this.on_backBtn.bind(this)))},i.prototype.gameend=function(){lzm.Alert.alert(new t.CommonPopup("该比赛已经结束，请点击确定返回",this.on_backBtn.bind(this)))},i.prototype.getSpData=function(e){this.data.serverstate=e.match.state,this.data.match_start_time=e.match.match_start_time,this.spData.serverstate=e.match.state,this.spData.mz_level=e.match.mz_level,this.spData.reward=e.match.reward,this.spData.cur_buy_count=e.match.cur_buy_count,this.spData.havepeople=e.match.people,this.spData.poker_score_rate=e.match.poker_score_rate,this.spData.reward_poker_score=e.match.reward_poker_score,this.spData.inMoneyCircle=e.match.inMoneyCircle,this.spData.over_people=e.match.over_people,this.spData.mzTable=e.mzTable,this.spData.roles=e.roles,this.spData.pokerScores=e.pokerScores,this.spData.gameScores=e.gameScores,this.spData.rooms=e.rooms,this.spData.moneyCircle=e.moneyCircle,this.spData.isOver=e.isOver,this.spData.reBuyCount=e.reBuyCount,this.spData.hasTicket=e.hasTicket,this.dtView=new t.BsxqDtUI(this.spData),this.jlView=new t.BsxqJlUI(this.spData),this.wjView=new t.BsxqWjUI(this.spData),this.pzView=new t.BsxqPzUI(this.spData),this.pageView.addPage(this.dtTxt,this.dtView,"dt",null,!1,this.dtShow.bind(this),this.dtHide.bind(this)),this.pageView.addPage(this.jlTxt,this.jlView,"jl",null,!1,this.jlShow.bind(this),this.jlHide.bind(this)),this.pageView.addPage(this.wjTxt,this.wjView,"wj",null,!1,this.wjShow.bind(this),this.wjHide.bind(this)),this.pageView.addPage(this.pzTxt,this.pzView,"pz",null,!1,this.pzShow.bind(this),this.pzHide.bind(this)),this.pzView.y=this.pzView.y+20,this.timerun()},i.prototype.dtShow=function(){this.dtTxt.textColor=16777215},i.prototype.dtHide=function(){this.dtTxt.textColor=4609406},i.prototype.jlShow=function(){this.jlTxt.textColor=16777215},i.prototype.jlHide=function(){this.jlTxt.textColor=4609406},i.prototype.wjShow=function(){this.wjTxt.textColor=16777215},i.prototype.wjHide=function(){this.wjTxt.textColor=4609406},i.prototype.pzShow=function(){this.pzTxt.textColor=16777215},i.prototype.pzHide=function(){this.pzTxt.textColor=4609406},i.prototype.initState=function(){this.signBtn.visible=!1,this.stopSignBtn.visible=!1,this.stopSignBtn.touchEnabled=!1,this.outBtn.visible=!1,this.outBtn.touchEnabled=!1,this.goBackGameBtn.visible=!1,this.ybmBtn.visible=!1,this.wdbmsjBtn.visible=!1,this.wdbmsjBtn.touchEnabled=!1,this.delaySignBtn.visible=!1,this.timeTxt.text=""},i.prototype.updateState=function(){var t=(new Date).getTime();0==this.data.serverstate?"mtt"==this.data.type?(t>=this.data.apply_date&&t<=this.data.apply_date_end&&t>=this.data.apply_time&&t<=this.data.apply_time_end?this.data.state=1:t>=this.data.apply_date&&t<=this.data.apply_date_end&&t<=this.data.start_time&&t>=this.data.apply_time_end?this.data.state=3:t>=this.data.apply_time_end+1e3*this.data.apply_delay_time||t>this.data.apply_date_end+1e3*this.data.apply_delay_time?this.data.state=3:this.data.state=5,5!=this.data.state&&(this.spData.mz_level>this.spData.apply_max_mz_level&&(this.data.state=3),this.spData.havepeople>=this.spData.apply_max_people&&(this.data.state=3),1==this.spData.inMoneyCircle&&(this.data.state=3))):"sng"==this.data.type&&(this.data.state=1):1==this.data.signed?this.data.state=4:t>=this.data.apply_date&&t<=this.data.apply_date_end&&t>=1e3*this.data.match_start_time&&t<=1e3*this.data.match_start_time+1e3*this.data.apply_delay_time?(this.data.state=2,this.spData.mz_level>this.spData.apply_max_mz_level&&(this.data.state=3),this.spData.havepeople>=this.spData.apply_max_people&&this.spData.reBuyCount<=0?this.data.state=3:(this.spData.cur_buy_count>=this.spData.buy_count||this.spData.reBuyCount>=this.spData.player_buy_count)&&(this.data.state=3),1==this.spData.inMoneyCircle&&(this.data.state=3)):this.data.state=3,3==this.data.state&&1==this.spData.isOver&&(this.data.signed=3)},i.prototype.timerun=function(){var e=this;this.updateState(),this.initState(),1==this.data.signed?4==this.data.state?(this.goBackGameBtn.visible=!0,0==this.ispop&&(console.log("弹出回到游戏弹窗"),this.ispop=!0,lzm.Alert.alert(new t.CommonPopup("点击确定回到游戏",function(){e.startJoinGame(),e.ispop=!1})))):this.ybmBtn.visible=!0:2==this.data.signed?2==this.data.state?this.delaySignBtn.visible=!0:3==this.data.state||4==this.data.state?this.stopSignBtn.visible=!0:1==this.data.state?this.signBtn.visible=!0:5==this.data.state&&(this.wdbmsjBtn.visible=!0):3==this.data.signed&&(this.outBtn.visible=!0),this.showSignTime(),this.updateUI()},i.prototype.showSignTime=function(){if(1==this.data.serverstate||2==this.data.serverstate){if(this.timeTxt.text="比赛进行中",this.data.match_start_time&&this.data.match_start_time>0){var e=(new Date).getTime()-1e3*this.data.match_start_time,i=this.dateUtils.getFormatBySecond(e/1e3);this.timeTxt.text="比赛进行中："+i}}else if("sng"==this.data.type||1==this.data.satellite){if(this.timeTxt.text="人满即开",5==this.data.state){var n=0,a=(new Date).getTime();n=a<this.data.apply_date?this.data.apply_date:a,this.delayTimeTxt.text="报名开始时间："+t.DateUtils.formatDate(n)+" "+this.data.apply_time_str}}else"mtt"==this.data.type&&(this.timeTxt.text="开赛时间:"+this.data.start_date_str+" "+this.data.start_time_str)},i.prototype.showGameTime=function(){var t=(new Date).getTime()-1e3*this.data.match_start_time,e=this.dateUtils.getFormatBySecond(t/1e3);this.timeTxt.text="游戏进行中："+e},i.prototype.on_signBtn=function(e){var i=this;if(1==t.AppConfig.applyisneedPhone&&(null==t.PhoneData.phoneNumber||""==t.PhoneData.phoneNumber))return t.ApiState.showText("绑定手机才可以进行报名"),void lzm.Alert.alert(new t.RegisterPanel("register"));var n="";if(n=0==this.data.signmoney?""+(this.data.apply_score+this.data.service_score)+"积分":""+(this.data.signmoney+this.data.service_gold)+"金币",0==this.spData.hasTicket){if(t.RoleData.getRole().gold<this.data.signmoney+this.data.service_gold)return void lzm.Alert.alert(new t.ApplyPrompt(1));if(t.RoleData.getRole().scores<this.data.apply_score+this.data.service_score)return void lzm.Alert.alert(new t.ApplyPrompt(2))}if(0==this.data.signmoney&&0==this.data.apply_score)t.MatchApi.apply(this.data.id,this.signSuccess.bind(this));else{var a="";if(0==this.spData.hasTicket)a="报名费用为"+n+"，请点击确定进行报名";else{var s=t.MatchData.getUserPropInfo().configs[this.data.ticket_cfgId].name;a="确定消耗"+s+"门票报名?"}lzm.Alert.alert(new t.CommonPopup(a,function(){t.MatchApi.apply(i.data.id,i.signSuccess.bind(i))},function(){}))}},i.prototype.signSuccess=function(e){this.data.signed=1,t.ApiState.showText("报名成功"),0==this.spData.hasTicket&&(t.RoleData.getRole().gold=t.RoleData.getRole().gold-this.data.signmoney-this.data.service_gold,t.RoleData.getRole().scores=t.RoleData.getRole().scores-this.data.apply_score-this.data.service_score,t.EventManager.dispatchCmd(t.Events.goldChange,null)),this.data.havepeople=e.people,this.spData.havepeople=this.data.havepeople,1==this.spData.hasTicket&&t.MatchApi.getPlayerProps(null),1==this.data.serverstate||2==this.data.serverstate?this.startJoinGame():(t.MatchApi.getMatchInfo(this.data.id,this.intervalGetInfo.bind(this)),this.timerun())},i.prototype.on_delaySignBtn=function(e){var i=this;if(1==t.AppConfig.applyisneedPhone&&(null==t.PhoneData.phoneNumber||""==t.PhoneData.phoneNumber))return t.ApiState.showText("绑定手机才可以进行报名"),void lzm.Alert.alert(new t.RegisterPanel("register"));var n="";if(n=0==this.data.signmoney?""+(this.data.apply_score+this.data.service_score)+"积分":""+(this.data.signmoney+this.data.service_gold)+"金币",0==this.spData.hasTicket){if(t.RoleData.getRole().gold<this.data.signmoney+this.data.service_gold)return void lzm.Alert.alert(new t.ApplyPrompt(1));if(t.RoleData.getRole().scores<this.data.apply_score+this.data.service_score)return void lzm.Alert.alert(new t.ApplyPrompt(2))}if(0==this.data.signmoney&&0==this.data.apply_score)t.MatchApi.apply(this.data.id,this.signSuccess.bind(this));else{var a="";if(0==this.spData.hasTicket)a="报名费用为"+n+"，请点击确定进行报名?";else{var s=t.MatchData.getUserPropInfo().configs[this.data.ticket_cfgId].name;a="确定消耗"+s+"门票报名"}lzm.Alert.alert(new t.CommonPopup(a,function(){t.MatchApi.apply(i.data.id,i.signSuccess.bind(i))},function(){}))}},i.prototype.on_ybmBtn=function(e){t.MatchApi.cancelApply(this.data.id,this.cancelApplySuccess.bind(this))},i.prototype.cancelApplySuccess=function(e){this.data.signed=2,t.ApiState.showText("取消报名成功"),this.data.havepeople=e.people,this.spData.havepeople=this.data.havepeople,0==this.spData.hasTicket&&(t.RoleData.getRole().gold=t.RoleData.getRole().gold+this.data.signmoney+this.data.service_gold,t.RoleData.getRole().scores=t.RoleData.getRole().scores+this.data.apply_score+this.data.service_score),t.EventManager.dispatchCmd(t.Events.goldChange,null),t.MatchApi.getPlayerProps(null),this.timerun(),t.MatchApi.getMatchInfo(this.data.id,this.intervalGetInfo.bind(this))},i.prototype.startJoinGame=function(){egret.clearInterval(this.timeId1),lzm.Alert.alert(new t.WaitRoomUI(this.data.id),!0)},i.prototype.on_goBackGameBtn=function(t){this.startJoinGame()},i.prototype.on_backBtn=function(e){t.BaseApi.removeCmd("matchStart",this.acceptMatch,this),t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_bsxq_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.delayTimeRun,this),t.EventManager.removeCmd(t.Events.gotoJLPage,this.gotoJLPage,this),t.BaseApi.removeCmd("matchStart",this.acceptMatch,this),egret.Tween.removeTweens(this),egret.clearInterval(this.timeId1)},i}(t.BasePanel);t.BsxqView=e,__reflect(e.prototype,"kelvin.texas.BsxqView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.numdisy=2,t.iscanTouch=!0,t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.ratioTxt=t.Tool.createTextFiled(270,25-this.numdisy,200,40,"",26,16777215,"center"),this.addChild(this.ratioTxt),this.rewardTxt=t.Tool.createTextFiled(420,25-this.numdisy,200,40,"",26,16777215,"right"),this.addChild(this.rewardTxt),this.line=t.Tool.createBitmapByName("img_img_pyqdz_jiangli_fjiexian",!1,5,70),this.addChild(this.line),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.floatUid,this),this.height=70,this.iscanTouch=!1,t.EventManager.registerCmd(t.Events.controlHContanier,this.controlHContanier,this)},i.prototype.floatUid=function(){0!=this.iscanTouch&&t.RoomApi.getPlayerMatchRoomId(this.data.matchId,this.data.uid,this.getroomid.bind(this),this.getError.bind(this))},i.prototype.getroomid=function(e){var i=e.room_id;if(!i){var n="当前时间该玩家暂无房间信息";return 0==this.data.serverstate?n="比赛未开始":this.data.money<=0&&(n="该玩家已淘汰"),void t.ApiState.showText(n)}lzm.Alert.alert(new t.WaitRoomUI(this.data.matchId,Number(i)))},i.prototype.getError=function(e){-4==e.state?t.ApiState.showText("该玩家已淘汰"):t.ApiState.show(e.state)},i.prototype.controlHContanier=function(t){this.iscanTouch=t},i.prototype.dataChanged=function(){this.data&&this.showUI()},i.prototype.setData=function(t){this.data=t,this.showUI()},i.prototype.showUI=function(){this.rewardTxt.text=""+this.data.money,"wcaa"==this.data.matchtype?this.ratioTxt.text="":this.ratioTxt.text=""+this.data.score,this.img&&t.Tool.removeFromParent(this.img),this.levelTxt&&t.Tool.removeFromParent(this.levelTxt),this.heartimg&&t.Tool.removeFromParent(this.heartimg),this.nameTxt&&t.Tool.removeFromParent(this.nameTxt),this.heartTxt&&t.Tool.removeFromParent(this.heartTxt);var e=t.StrUtil.cutOutName(this.data.name,6);this.nameTxt=t.Tool.createTextFiled(75,25-this.numdisy,200,40,e,26,16777215,"left"),this.addChild(this.nameTxt),0==this.data.rank?(this.img=t.Tool.createBitmapByName("img_img_pyqdz_jiangli_jinbei",!1,10,15-this.numdisy),this.addChild(this.img)):1==this.data.rank?(this.img=t.Tool.createBitmapByName("img_img_pyqdz_jiangli_yinbei",!1,10,15-this.numdisy),this.addChild(this.img)):2==this.data.rank?(this.img=t.Tool.createBitmapByName("img_img_pyqdz_jiangli_tongbei",!1,10,15-this.numdisy),this.addChild(this.img)):-1==this.data.rank||(this.levelTxt=t.Tool.createTextFiled(30,25-this.numdisy,200,40,String(this.data.rank+1),26,16777215,"left"),this.addChild(this.levelTxt)),this.data.heart>0&&(this.heartimg=t.Tool.createBitmapByName("img_img_pyqdz_jiangli_xin"),this.heartimg.y=35-this.numdisy,this.heartimg.x=74+this.nameTxt.textWidth+5,this.addChild(this.heartimg),this.heartTxt=t.Tool.createTextFiled(this.heartimg.x+this.heartimg.width+5,25-this.numdisy,50,40,String(this.data.heart),22,9549055,"left"),this.addChild(this.heartTxt))},i.prototype.dispose=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.floatUid,this),t.EventManager.removeCmd(t.Events.controlHContanier,this.controlHContanier,this)},i}(eui.ItemRenderer);t.BsxqWjLine=e,__reflect(e.prototype,"kelvin.texas.BsxqWjLine")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,!0)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.listbg.scale9Grid=new egret.Rectangle(40,40,this.listbg.width-40,this.listbg.height-40),this.listbg.height=t.App.stageHeight-590,this.listContainer=this.scrollView,this.addChild(this.listContainer),this.listContainer.x=this.listbg.x,this.listContainer.y=this.listbg.y+70,this.listContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.listContainer.width=this.listbg.width,this.listContainer.height=this.listbg.height-20-70,this.list=new eui.List,this.list.width=this.listContainer.width,this.list.itemRenderer=t.BsxqWjLine,this.list.layout=new eui.VerticalLayout,t.Tool.replaceSwfTxt("inputTxt",this),this.input1=new t.InputText(this.inputTxt),this.input1.setDefaultText("搜索玩家id"),this.inputTxt.text="搜索玩家id",this.scrollView.viewport=this.list,this.initDownRefresh(!1),this.setDownRefresh(this.refreshCall.bind(this)),this.infoArr=[],this.getInfoNum=0,this.collection=new eui.ArrayCollection,this.list.dataProvider=this.collection,this.pljfTxt.touchEnabled=!0,this.pljfTxt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toupl,this),this.crateSingeInfo(),this.updateUI(),t.MatchApi.getMatchRoleInfo(this.getInfoNum+1,this.data.id,this.getInfo.bind(this))},i.prototype.toupl=function(t){},i.prototype.crateSingeInfo=function(){this.singleUI=new t.BsxqWjLine,this.singleUI.x=this.scrollView.x,this.singleUI.y=this.scrollView.y,this.addChild(this.singleUI),this.singleUI.visible=!1},i.prototype.singleGetSuccess=function(t){var e={name:t.data[1],uid:t.data[0],heart:t.data[4]-1,score:t.data[3],rank:1,money:t.data[2],matchtype:this.data.matchtype,matchId:this.data.id};this.singleUI.setData(e),this.scrollView.visible=!1,this.singleUI.visible=!0},i.prototype.updateUI=function(){this.csrsTxt.text=""+this.data.havepeople,this.csrcTxt.text=String(this.data.cur_buy_count),"wcaa"==this.data.matchtype&&(this.pljfTxt.visible=!1,this.gthImg.visible=!1)},i.prototype.refreshCall=function(){this.infoArr.length>=this.data.havepeople?this.downRefreshOver():(t.RefreshUI.ins.show(t.App.stageWidth/2,t.App.stageHeight-300),this.getInfoNum++,t.MatchApi.getMatchRoleInfo(this.getInfoNum+1,this.data.id,this.getInfo.bind(this)))},i.prototype.getInfo=function(t){for(var e=[],i=0;i<t.data.length;i++){var n={name:t.data[i][1],uid:t.data[i][0],heart:t.data[i][4]-1,score:t.data[i][3],rank:i,money:t.data[i][2],matchtype:this.data.matchtype,matchId:this.data.id,serverstate:this.data.serverstate};e.push(n)}for(var i=0;i<e.length;i++)this.infoArr.push(e[i]);this.createListUI(e)},i.prototype.createListUI=function(t){this.minSpArr=[];for(var e=0;e<t.length;e++)this.collection.addItem(t[e]);this.getInfoNum>0&&this.downRefreshOver()},i.prototype.on_clearBtn=function(t){this.scrollView.visible=!0,this.singleUI.visible=!1,this.inputTxt.text="搜索玩家id"},i.prototype.on_searchBtn=function(e){"搜索玩家id"==this.inputTxt.text?(this.scrollView.visible=!0,this.singleUI.visible=!1):t.MatchApi.getPlayerInfo(this.inputTxt.text,this.data.id,this.singleGetSuccess.bind(this),this.singleGetError.bind(this))},i.prototype.singleGetError=function(e){-4==e.state&&t.ApiState.showText("该玩家不存在，请输入正确的玩家id")},i.prototype.mainAssetName=function(){return"spr_bsxq_wj_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.pljfTxt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toupl,this)},i}(t.BasePanel);t.BsxqWjUI=e,__reflect(e.prototype,"kelvin.texas.BsxqWjUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){var e=this;this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.title.text="牌力积分",this.scrollView.y=100,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-100),this.scrollView.bounces=!1,this.addChild(this.scrollView),egret.setTimeout(function(){e.createImgs()},this,100)},i.prototype.createImgs=function(){return __awaiter(this,void 0,void 0,function(){var e,i,n,a;return __generator(this,function(s){switch(s.label){case 0:e=0,i=1,s.label=1;case 1:return 6>i?(n=new egret.Bitmap,a=n,[4,t.Tool.getTextureByUrlOrName("img_dt_ct"+i+"_png")]):[3,4];case 2:a.texture=s.sent(),n.y=e,e+=n.height,this.scrollView.container.addChild(n),s.label=3;case 3:return i++,[3,1];case 4:return this.scrollView.setScrollSize(t.App.stageWidth,e),[2]}})})},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_mzjgb_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.CardScoreView=e,__reflect(e.prototype,"kelvin.texas.CardScoreView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.listbg.scale9Grid=new egret.Rectangle(40,40,this.listbg.width-40,this.listbg.height-40),this.listbg.height=t.App.stageHeight-200,this.listContainer=new eui.Scroller,this.addChild(this.listContainer),this.listContainer.x=this.listbg.x,this.listContainer.y=this.listbg.y,this.listContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.listContainer.width=this.listbg.width,this.listContainer.height=this.listbg.height-20,this.listimg=new eui.Image,this.listimg.width=this.listContainer.width,this.container=new eui.Group,this.container.addChild(this.listimg),this.listContainer.viewport=this.container,this.getInfo(),this.createListUI()},i.prototype.getInfo=function(){this.infoArr=[];for(var t in this.data.mzTable){var e={level:this.data.mzTable[t].level,blind:this.data.mzTable[t].xm+"/"+this.data.mzTable[t].dm,bet:this.data.mzTable[t].qz};this.infoArr.push(e)}},i.prototype.createListUI=function(){this.minSpArr=[];for(var e=0;e<this.infoArr.length;e++){var i=new egret.Sprite,n=t.Tool.createTextFiled(30,15,200,40,""+this.infoArr[e].level,26,16777215,"left");i.addChild(n);var a=t.Tool.createTextFiled(221,15,200,40,""+this.infoArr[e].blind,26,16777215,"center");i.addChild(a);var s=t.Tool.createTextFiled(415,15,200,40,""+this.infoArr[e].bet,26,16777215,"right");i.addChild(s);var o=t.Tool.createBitmapByName("img_img_pyqdz_mangzhu_fjiexian",!1,5,70);if(i.addChild(o),this.infoArr[e].level==this.data.apply_max_mz_level){var r=t.Tool.createBitmapByName("img_img_youer_jz",!1,n.x+n.textWidth+14,26);t.Tool.createTextFiled(n.x+n.textWidth+14,15,200,40,"x",22,16777215,"left");i.addChild(r)}else if(this.infoArr[e].level<this.data.apply_max_mz_level){var h=t.Tool.createBitmapByName("img_img_youer_xin",!1,n.x+n.textWidth+10,27);i.addChild(h)}i.y=70*e,this.container.addChild(i),this.minSpArr.push(i)}this.listimg.height=70*this.infoArr.length},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_mzjgb_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.MzjgbView=e,__reflect(e.prototype,"kelvin.texas.MzjgbView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var i=e.call(this,!0)||this;t.ExtGameHelper.extGamePanel=i,t.SoundManager.setGameConfig();var n=egret.getDefinitionByName(t.AppConfig.clientMainClass);return i.game=new n,t.BaseApi.registerCmd("gameMessage",i.game.onGameMessage,i.game),t.BaseApi.registerCmd("gameMessage",i.onGameMessage,i),null!=i.game.getBackGround()&&i.addChild(i.game.getBackGround()),i.addChild(i.game),null!=t.RoomData.getCurrentRoom()?i.game.onInit():i.game.onInitByMovie(null),t.App.gameing=!0,i}return __extends(i,e),i.prototype.onGameMessage=function(t){console.log("大厅的打印"),console.log(t)},i.prototype.layout=function(){null!=this.game&&(this.game.rotation=0,this.scaleGame(),this.game.layout())},i.prototype.scaleGame=function(){this.game.anchorOffsetX=t.App.designWidth/2,this.game.anchorOffsetY=t.App.designHeight/2;var e=t.App.stageWidth/t.App.designWidth,i=t.App.stageHeight/t.App.designHeight;e>i?this.game.scaleX=this.game.scaleY=i:this.game.scaleX=this.game.scaleY=e,this.game.x=t.App.stageWidth/2,this.game.y=t.App.stageHeight/2},i.prototype.dispose=function(){null!=this.game&&(t.BaseApi.removeCmd("gameMessage",this.game.onGameMessage,this.game),t.BaseApi.removeCmd("gameMessage",this.onGameMessage,this),null!=this.game.getBackGround()&&this.game.getBackGround().dispose(),this.game.dispose()),e.prototype.dispose.call(this),t.App.gameing=!1},i}(t.BasePanel);t.GamePanel=e,__reflect(e.prototype,"kelvin.texas.GamePanel")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i,n,a,s,o){var r=e.call(this)||this;return r.iswatch=s,r.matchid=t,r.reward=i,r.min_reward=n,r.mz_level=a,r.apply_max_mz_level=o,r.createGameScene(),r}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.$children[0],this.visible=!1,this.bgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),this.addChildAt(this.bgSp,0),this.bgSp.touchEnabled=!0,this.bgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.bg.touchEnabled=!0,this.chooseSsxqBtn.visible=!1,this.unchoosePzs.visible=!1,t.MatchApi.getMatchInfo(String(this.matchid),this.getSpData.bind(this))},i.prototype.getSpData=function(e){this.spData={},this.spData.mzTable=e.mzTable,this.spData.roles=e.roles,this.spData.pokerScores=e.pokerScores,this.spData.gameScores=e.gameScores,this.spData.rooms=e.rooms,this.spData.moneyCircle=e.moneyCircle,this.spData.id=String(this.matchid),this.spData.reward=this.reward,this.spData.min_reward=this.min_reward,this.spData.mz_level=this.mz_level,this.spData.apply_max_mz_level=this.apply_max_mz_level,this.spData.init_game_score=e.match.init_game_score,this.bsxqUI=new t.GameBsxqUI(this.spData),this.view.addChild(this.bsxqUI),this.bsxqUI.y=130,this.pzsUI=new t.GamePzsUI(this.spData,this.iswatch),this.view.addChild(this.pzsUI),this.pzsUI.y=110,this.pzsUI.visible=!1},i.prototype.show=function(){this.view.anchorOffsetY=this.view.height,this.view.y=t.App.stageHeight,this.view.x=-this.view.width,this.visible=!0,this.view.scaleX=this.view.scaleY=t.ExtGameHelper.getGameScalex(),egret.Tween.get(this.view).to({x:0},250,egret.Ease.quartOut).call(function(){})},i.prototype.hide=function(){var t=this;egret.Tween.get(this.view).to({x:-this.view.width},250,egret.Ease.quartOut).call(function(){t.dispose()})},i.prototype.on_chooseSsxqBtn=function(t){this.chooseSsxqBtn.visible=!1,this.choosePzsBtn.visible=!0,this.unchooseSsxq.visible=!0,this.unchoosePzs.visible=!1,this.bsxqUI.visible=!0,this.lineImg.visible=!0,this.pzsUI.visible=!1},i.prototype.on_choosePzsBtn=function(t){this.chooseSsxqBtn.visible=!0,this.choosePzsBtn.visible=!1,this.unchooseSsxq.visible=!1,this.unchoosePzs.visible=!0,this.bsxqUI.visible=!1,this.lineImg.visible=!1,this.pzsUI.visible=!0},i.prototype.mainAssetName=function(){return"spr_game_ssxq_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.GameBsqxView=e,__reflect(e.prototype,"kelvin.texas.GameBsqxView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.getJlInfo(),this.getMzInfo(),this.updateUI(),this.createJlUI(),this.createMzUI()},i.prototype.getMzInfo=function(){this.mzinfoArr=[];for(var t in this.data.mzTable){var e={level:this.data.mzTable[t].level,blind:this.data.mzTable[t].xm+"/"+this.data.mzTable[t].dm,bet:this.data.mzTable[t].qz};this.mzinfoArr.push(e)}},i.prototype.createMzUI=function(){this.mzlistContainer=new t.ScrollView,this.addChild(this.mzlistContainer),this.mzlistContainer.x=0,this.mzlistContainer.y=400,this.mzlistContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.mzlistContainer.scrollPolicyH="off",this.mzlistContainer.setShowSize(this.width,640),this.mzminSpArr=[];for(var e=0;e<this.mzinfoArr.length;e++){var i=new egret.Sprite,n=t.Tool.createTextFiled(70,0,200,40,""+this.mzinfoArr[e].level,22,16777215,"left");i.addChild(n);var a=t.Tool.createTextFiled(195,0,200,40,""+this.mzinfoArr[e].blind,22,16777215,"center");i.addChild(a);var s=t.Tool.createTextFiled(330,0,200,40,""+this.mzinfoArr[e].bet,22,16777215,"right");if(i.addChild(s),this.mzinfoArr[e].level==this.data.mz_level){var o=t.Tool.createBitmapByName("img_img_zuoer_xuanzong",!1,30,10);i.addChildAt(o,0);var r=t.Tool.createBitmapByName("img_img_zuoer_xuanzkuang",!1,10,2);i.addChildAt(r,0)}if(this.mzinfoArr[e].level==this.data.apply_max_mz_level){var h=t.Tool.createBitmapByName("img_img_youer_jz",!1,n.x+n.textWidth+10,10);
t.Tool.createTextFiled(n.x+n.textWidth+10,-2,200,40,"x",22,16777215,"left");i.addChild(h)}else if(this.mzinfoArr[e].level<this.data.apply_max_mz_level){var l=t.Tool.createBitmapByName("img_img_youer_xin",!1,n.x+n.textWidth+10,12);i.addChild(l)}i.y=60*e,this.mzlistContainer.container.addChild(i),this.mzminSpArr.push(i)}this.mzlistContainer.setScrollSize(this.width,60*this.mzinfoArr.length)},i.prototype.getJlInfo=function(){this.jlinfoArr=[];var t=this.data.moneyCircle[2],e=this.data.reward;e<this.data.min_reward&&(e=this.data.min_reward);for(var i=0;i<t.length;i++){var n={level:t[i][0],ratio:t[i][1],reward:Number((e*t[i][1]).toFixed(2))};if(i>=9){var a=Number(t[i-1][0])+1;n.level=a+"-"+t[i][0]}this.jlinfoArr.push(n)}},i.prototype.createJlUI=function(){this.jllistContainer=new t.ScrollView,this.addChild(this.jllistContainer),this.jllistContainer.x=0,this.jllistContainer.y=125,this.jllistContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.jllistContainer.scrollPolicyH="off",this.jllistContainer.width=this.width,this.jllistContainer.height=200,this.jsminSpArr=[];for(var e=0;e<this.jlinfoArr.length;e++){var i=new egret.Sprite,n=t.Tool.createTextFiled(70,0,200,40,this.jlinfoArr[e].level,22,16777215,"left");i.addChild(n);var a=Math.round(1e4*this.jlinfoArr[e].ratio)/100+"%",s=t.Tool.createTextFiled(195,0,200,40,a,22,16777215,"center");i.addChild(s);var o=t.Tool.createTextFiled(330,0,200,40,""+this.jlinfoArr[e].reward,22,16777215,"right");i.addChild(o),i.y=60*e,this.jllistContainer.container.addChild(i),this.jsminSpArr.push(i)}this.jllistContainer.setScrollSize(this.width,60*this.jlinfoArr.length)},i.prototype.updateUI=function(){console.log(this.data);var t=this.data.reward;t<this.data.min_reward&&(t=this.data.min_reward),this.jcTxt.text=""+t,this.jlqTxt.text=this.data.moneyCircle[1]},i.prototype.mainAssetName=function(){return"spr_game_ssxq_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.GameBsxqUI=e,__reflect(e.prototype,"kelvin.texas.GameBsxqUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i){var n=e.call(this)||this;return n.data=t,n.iswatch=i,n.createGameScene(),n}return __extends(i,e),i.prototype.createGameScene=function(){t.MatchApi.getMatchRooms(this.data.id,this.getInfo.bind(this))},i.prototype.getInfo=function(e){this.infoArr=[];var i=[];for(var n in e.rooms){var a={tableid:e.rooms[n].id,usersnum:Object.keys(e.rooms[n].players).length,players:e.rooms[n].players,max:e.rooms[n].maxScore,min:e.rooms[n].minScore,match_id:e.rooms[n].match_id,showId:e.rooms[n].table_num+1};-1==a.max&&(a.max=this.data.init_game_score),-1==a.min&&(a.min=this.data.init_game_score),this.infoArr.push(a),i.push(a)}t.ArrayUtil.AscendingArray("showId",this.infoArr),this.createUI()},i.prototype.createUI=function(){this.listContainer=new t.ScrollView,this.addChild(this.listContainer),this.listContainer.x=0,this.listContainer.y=80,this.listContainer.scrollPolicyV=eui.ScrollPolicy.AUTO,this.listContainer.scrollPolicyH="off",this.listContainer.setShowSize(this.width,990),this.minSpArr=[];for(var e=0;e<this.infoArr.length;e++){var i=new egret.Sprite,n=t.Tool.createTextFiled(30,0,200,40,""+this.infoArr[e].showId,24,16777215,"left");i.addChild(n);var a=t.Tool.createTextFiled(190,0,200,40,""+this.infoArr[e].usersnum,24,16777215,"center");i.addChild(a);var s=t.Tool.createTextFiled(170,0,400,40,""+this.infoArr[e].max+"/"+this.infoArr[e].min,24,16777215,"right");i.addChild(s),i.y=60*e,this.listContainer.container.addChild(i),this.minSpArr.push(i),i.name=this.infoArr[e].tableid,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gotoGame,this)}this.listContainer.setScrollSize(this.width,60*this.infoArr.length)},i.prototype.gotoGame=function(e){if(0!=this.iswatch){for(var i,n=0;n<this.infoArr.length;n++)if(String(this.infoArr[n].tableid)==e.target.name){i=this.infoArr[n];break}lzm.Alert.alert(new t.WaitRoomUI(i.match_id,Number(i.tableid)))}},i.prototype.mainAssetName=function(){return"spr_game_pzs_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0;t<this.minSpArr.length;t++)this.minSpArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.gotoGame,this)},i}(t.BasePanel);t.GamePzsUI=e,__reflect(e.prototype,"kelvin.texas.GamePzsUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i,n){var a=e.call(this)||this;return a.matchid=t,a.callback=i,a.error=n,a.createGameScene(),a}return __extends(i,e),i.prototype.createGameScene=function(){this.btn=this.assetSwf().createButton("btn_img_youxdat_wodesais"),this.addChild(this.btn),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchBtn,this),this.touchEnabled=!0},i.prototype.touchBtn=function(e){t.GameMatchView.gamematchView&&t.GameMatchView.gamematchView.hide()},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchBtn,this)},i}(t.BasePanel);t.GameMatchBtn=e,__reflect(e.prototype,"kelvin.texas.GameMatchBtn")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i,n,a,s,o,r){void 0===r&&(r="game");var h=e.call(this)||this;return h.data=t,h.index=i,h.stageview=n,h.callback=s,h.error=o,h.matchid=a,h.type=r,h.createGameScene(),h}return __extends(i,e),i.prototype.initUI=function(){this.mtticon.visible=!1,this.sngicon.visible=!1,this.lightBg.visible=!1,this.darkBg.visible=!1,this.stopImg.visible=!1,this.sginImg.visible=!1,this.stopImg.touchEnabled=!1,this.sginImg.touchEnabled=!1,this.delayImg.visible=!1,this.gameImg.visible=!1,this.goToBtn.visible=!1},i.prototype.createGameScene=function(){this.updateState(),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touch,this),this.initUI(),this.updateUI()},i.prototype.touch=function(){this.goToBtnTouch(null)},i.prototype.goToBtnTouch=function(e){(1==this.data.serverstate||2==this.data.serverstate)&&String(this.matchid)!=this.data.id&&(t.Log.log("进去比赛----"+this.data.id),this.callback&&this.callback(this.data.id),this.stageview.dispose(),lzm.Alert.alert(new t.WaitRoomUI(this.data.id)))},i.prototype.updateState=function(){var t=(new Date).getTime();0==this.data.serverstate?"mtt"==this.data.type?(t>=this.data.apply_date&&t<=this.data.apply_date_end&&t>=this.data.apply_time&&t<=this.data.apply_time_end?this.data.state=1:t>=this.data.apply_date&&t<=this.data.apply_date_end&&t<=this.data.start_time&&t>=this.data.apply_time_end?this.data.state=3:t>=this.data.apply_time_end+1e3*this.data.apply_delay_time||t>this.data.apply_date_end+1e3*this.data.apply_delay_time?this.data.state=3:this.data.state=5,5!=this.data.state&&(this.data.mz_level>this.data.apply_max_mz_level&&(this.data.state=3),this.data.havepeople>=this.data.apply_max_people&&(this.data.state=3),1==this.data.inMoneyCircle&&(this.data.state=3))):"sng"==this.data.type&&(this.data.state=1):1==this.data.signed?this.data.state=4:t>=this.data.apply_date&&t<=this.data.apply_date_end&&t>=this.data.start_time&&t<=this.data.start_time+1e3*this.data.apply_delay_time?(this.data.state=2,this.data.mz_level>this.data.apply_max_mz_level&&(this.data.state=3),this.data.havepeople>=this.data.apply_max_people&&(this.data.state=3),1==this.data.inMoneyCircle&&(this.data.state=3)):this.data.state=3},i.prototype.updateUI=function(){if("sng"==this.data.type||1==this.data.satellite)this.sngicon.visible=!0,this.promptTxt.text="人满即开";else if("mtt"==this.data.type)if(this.mtticon.visible=!0,1==this.data.serverstate)this.promptTxt.text="比赛进行中";else{var e=new Date,i=t.DateUtils.formatDate(e);this.promptTxt.text="开赛时间 "+i+" "+this.data.start_time_str}if(this.index%2==0?this.lightBg.visible=!0:this.darkBg.visible=!0,1==this.data.state?this.sginImg.visible=!0:2==this.data.state?this.delayImg.visible=!0:3==this.data.state?this.stopImg.visible=!0:4==this.data.state?(this.gameImg.visible=!0,this.promptTxt.text="牌局进行中"):0==this.data.state,(1==this.data.serverstate||2==this.data.serverstate)&&String(this.matchid)!=this.data.id&&(this.goToBtn.visible=!0),this.titleTxt.text=this.data.titie,0==this.data.signmoney&&0==this.data.apply_score)this.sginmoneyTxt.text="免费";else if(0==this.data.signmoney){var n=this.data.apply_score+this.data.service_score;this.sginmoneyTxt.text=""+n}else{var n=this.data.signmoney+this.data.service_gold;this.sginmoneyTxt.text=""+n}this.explainTxt.text=this.data.explain,1==this.data.serverstate||2==this.data.serverstate?"sng"==this.data.type||1==this.data.satellite?this.peopleNumTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.havepeople:"mtt"==this.data.type&&(this.peopleNumTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.havepeople):"sng"==this.data.type||1==this.data.satellite?this.peopleNumTxt.text=""+this.data.havepeople+"/"+this.data.apply_max_people:"mtt"==this.data.type&&(this.peopleNumTxt.text=""+this.data.havepeople+"/"+this.data.apply_max_people,this.data.apply_max_people>9999&&(this.peopleNumTxt.text=""+this.data.havepeople)),2==this.data.state},i.prototype.mainAssetName=function(){return"spr_game_match_line_ui"},i.prototype.dispose=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touch,this)},i}(t.BasePanel);t.GameMatchLine=e,__reflect(e.prototype,"kelvin.texas.GameMatchLine")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,n,a,s){void 0===s&&(s="game");var o=e.call(this,!0)||this;return i.gamematchView=o,o.callBack=n,o.error=a,o.matchid=t,o.type=s,o.createGameScene(),o}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.$children[1],"home"==this.type?(this.scrollView.x=34,this.scrollView.y=100,this.scrollView.setShowSize(this.width-34,this.height-100)):(this.bgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),this.addChildAt(this.bgSp,0),this.bgSp.touchEnabled=!0,this.bgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.closeBtn.visible=!1,this.visible=!1),this.bg.touchEnabled=!0,this.addChild(this.scrollView),t.MatchApi.getMyMatch(this.getInfo.bind(this)),this.dateUtils=new t.DateUtils,this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.delayTimeRun,this),this.timer.start()},i.prototype.delayTimeRun=function(){if(this.uiArr)for(var t=0;t<this.uiArr.length;t++)if(2==this.uiArr[t].data.state){var e=this.uiArr[t].data.start_time+1e3*this.uiArr[t].data.apply_delay_time-(new Date).getTime(),i=this.dateUtils.getFormatBySecond(e/1e3);this.uiArr[t].delayTxt.text=""+i}else this.uiArr[t].delayTxt.text=""},i.prototype.getInfo=function(e){this.infoArr=[];for(var i in e.matchs)if(""!=i&&(0==e.matchs[i].state||1==e.matchs[i].state||2==e.matchs[i].state)){var n={id:e.matchs[i].id,type:"",signed:2,titie:e.matchs[i].name,signmoney:e.matchs[i].apply_gold,havepeople:e.matchs[i].people,allpeople:e.matchs[i].apply_max_people,explain:"",state:null,apply_date:null,apply_time:null,apply_date_end:null,apply_time_end:null,start_date:null,start_time:null,apply_delay_time:e.matchs[i].apply_delay_time,serverstate:e.matchs[i].state,mz_level:e.matchs[i].mz_level,mz_interval:e.matchs[i].mz_interval,reward:e.matchs[i].reward,min_reward:e.matchs[i].min_reward,cur_buy_count:e.matchs[i].cur_buy_count,apply_score:e.matchs[i].apply_score,apply_max_people:e.matchs[i].apply_max_people,apply_max_mz_level:e.matchs[i].apply_max_mz_level,service_gold:e.matchs[i].service_gold,service_score:e.matchs[i].service_score,over_people:e.matchs[i].over_people,start_time_str:e.matchs[i].start_time,start_date_str:e.matchs[i].start_date,master_points_id:e.matchs[i].master_points_id,masterRule:e.masterRule,satellite:e.matchs[i].satellite};1==e.matchs[i].type?n.type="sng":2==e.matchs[i].type&&(n.type="mtt");var a=e.matchs[i].apply_date,s=new Date(a).getTime();s-=288e5,n.apply_date=s;var o=e.matchs[i].apply_date_end,r=new Date(o).getTime();r=r-288e5+864e5,n.apply_date_end=r;var h=new Date,l=t.DateUtils.formatDate(h),c=l+" "+e.matchs[i].apply_time,p=new Date(c).getTime();n.apply_time=p;var u=l+" "+e.matchs[i].apply_time_end,d=new Date(u).getTime();n.apply_time_end=d;var g=e.matchs[i].start_date,m=new Date(g).getTime();m-=288e5,n.start_date=m;var f=l+" "+e.matchs[i].start_time,v=new Date(f).getTime();n.start_time=v,this.infoArr.push(n)}this.updataUI()},i.prototype.updataUI=function(){if(this.uiArr){for(var e=0;e<this.uiArr.length;e++)this.uiArr[e].dispose();this.uiArr=[]}else this.uiArr=[];for(var e=0;e<this.infoArr.length;e++){var i=new t.GameMatchLine(this.infoArr[e],e,this,this.matchid,this.callBack,this.error,this.type);this.scrollView.container.addChild(i),i.y=183*e,this.uiArr.push(i)}this.scrollView.container.width=this.view.width,this.scrollView.container.height=183*this.infoArr.length,this.scrollView.setScrollSize(this.view.width,183*this.infoArr.length)},i.prototype.show=function(){this.view.anchorOffsetX=this.view.width,this.view.anchorOffsetY=this.view.height,this.view.y=t.App.stageHeight,this.view.x=t.App.stageWidth+this.view.width,this.view.scaleX=this.view.scaleY=t.ExtGameHelper.getGameScalex(),this.visible=!0,this.scrollView.y=100,this.scrollView.setShowSize(this.view.width,this.view.height-140),this.view.addChild(this.scrollView),this.scrollView.x=35,egret.Tween.get(this.view).to({x:t.App.stageWidth},250,egret.Ease.quartOut).call(function(){})},i.prototype.hide=function(){var e=this;egret.Tween.removeTweens(this.view),egret.Tween.get(this.view).to({x:t.App.stageWidth+this.view.width},250,egret.Ease.quartOut).call(function(){e.dispose()})},i.prototype.mainAssetName=function(){return"spr_game_match_list_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.bgSp&&this.bgSp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),i.gamematchView=null,this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.delayTimeRun,this)},i}(t.BasePanel);t.GameMatchView=e,__reflect(e.prototype,"kelvin.texas.GameMatchView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i,n){var a=e.call(this)||this;return a.data=t,a.selfDis=i,a.havenum=n,a.createGameScene(),a}return __extends(i,e),i.prototype.createGameScene=function(){this.cardType=["高牌","一对","两对","三条","顺子","同花","葫芦","金刚","同花顺","皇家同花顺"],this.nameTxt.text=t.StrUtil.cutOutName(this.data.name,5),this.scoreTxt.text=""+this.data.score,this.data.score||(this.scoreTxt.text="0"),this.data.score>=0?this.scoreTxt.textColor=16711680:this.scoreTxt.textColor=6749952,this.discardTxt.visible=!0,-1==this.data.isdis?this.discardTxt.text="弃牌":0==this.data.isdis?this.discardTxt.text="":this.discardTxt.text=this.cardType[this.data.isdis-1],this.createMycard(),this.createCommonCard(),this.createHead()},i.prototype.createMycard=function(){for(var e=0;e<this.data.mycard.length;e++){var i=this.data.mycard[e];this.data.uid==t.RoleData.getRole().uid||(this.data.isdis<1?i="-1":this.selfDis<1&&this.havenum<2&&(i="-1",this.discardTxt.text=""));var n=t.Tool.createBitmapByName("img_pk_"+i);n.width=52,n.height=72,n.x=55*e+140,n.y=30,this.addChild(n)}},i.prototype.createCommonCard=function(){for(var e=0;e<this.data.commoncard.length;e++){var i=this.data.commoncard[e],n=t.Tool.createBitmapByName("img_pk_"+i);n.width=52,n.height=72,n.x=55*e+260,n.y=30,this.addChild(n)}},i.prototype.createHead=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(n){switch(n.label){case 0:return null==this.data.headurl&&(this.data.headurl="head_1_png"),e=new egret.Bitmap,e.width=80,e.height=80,i=e,[4,t.Tool.getTextureByUrlOrName(this.data.headurl)];case 1:return i.texture=n.sent(),this.headsp=t.Tool.createCircularMask(e),this.addChild(this.headsp),this.headsp.x=22,this.headsp.y=10,[2]}})})},i.prototype.mainAssetName=function(){return"spr_game_card_line_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.GameCardLineUI=e,__reflect(e.prototype,"kelvin.texas.GameCardLineUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,!0)||this;return i.cardData=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){var t=this;this.scrollView.setShowSize(this.width,this.height-200),this.scrollView.y=80,egret.setTimeout(function(){t.getInfo(),t.updateUI()},this,100)},i.prototype.getInfo=function(){this.linenum=6,this.dataArr=[],this.cutDateArr=[],this.selfDis=[],this.haveNum=[];var e=-1;for(var i in this.cardData){e++;var n=[];this.cutDateArr.push(n);var a=-1,s=0;for(var o in this.cardData[i].player_info){var r=this.cardData[i].player_info[o],h={name:r.name,uid:r.uid,headurl:r.head,isdis:r.card_type,mycard:r.cards,score:r.score,commoncard:this.cardData[i].comCards};if(r.uid==t.RoleData.getRole().uid&&(a=r.card_type),r.card_type>0&&s++,h.commoncard.length<5)for(var l=0;5>l&&(h.commoncard.push("-1"),!(h.commoncard.length>=5));l++);this.cutDateArr[e].push(h)}this.selfDis.push(a),this.haveNum.push(s)}0==this.cutDateArr.length&&this.cutDateArr.push([]),this.pageindex=this.cutDateArr.length-1},i.prototype.updateUI=function(){if(this.pageTxt.text=""+(this.pageindex+1)+"/"+this.cutDateArr.length,this.uiArr)for(var e=0;e<this.uiArr.length;e++)this.uiArr[e].dispose();this.uiArr=[];for(var i=this.cutDateArr[this.pageindex],e=0;e<i.length;e++){var n=new t.GameCardLineUI(i[e],this.selfDis[this.pageindex],this.haveNum[this.pageindex]);this.scrollView.container.addChild(n),n.y=140*e+20,n.x=15,this.uiArr.push(n)}this.scrollView.setScrollSize(this.width,140*i.length)},i.prototype.on_leftBtn=function(e){var i=this.pageindex-1;return 0>i?void t.ApiState.showText("已经是第一页了"):(this.pageindex=i,void this.updateUI())},i.prototype.on_rightBtn=function(e){var i=this.pageindex+1;return i>this.cutDateArr.length-1?void t.ApiState.showText("已经是最后一页了"):(this.pageindex=i,void this.updateUI())},i.prototype.on_maxLeftBtn=function(t){this.pageindex=0,this.updateUI()},i.prototype.on_maxRightBtn=function(t){this.pageindex=this.cutDateArr.length-1,this.updateUI()},i.prototype.mainAssetName=function(){return"spr_game_card_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.GameCardUI=e,__reflect(e.prototype,"kelvin.texas.GameCardUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.assetSwf().createSprite("spr_game_rank_line_ui"),this.addChild(this.view),this.width=this.view.width,this.height=this.view.height,this.nameTxt=this.view.getChildByName("nameTxt"),this.rebuyTxt=this.view.getChildByName("rebuyTxt"),this.rankingTxt=this.view.getChildByName("rankingTxt"),this.rankimg3Img=this.view.getChildByName("rankimg3Img"),this.rankimg2Img=this.view.getChildByName("rankimg2Img"),this.rankimg1Img=this.view.getChildByName("rankimg1Img"),this.rebuyImg=this.view.getChildByName("rebuyImg"),this.tableTxt=this.view.getChildByName("tableTxt"),this.scoreTxt=this.view.getChildByName("scoreTxt"),this.rebuyTxt=this.view.getChildByName("rebuyTxt")},i.prototype.dataChanged=function(){this.data&&(this.initState(),this.showUI())},i.prototype.showUI=function(){this.nameTxt.text=t.StrUtil.cutOutName(this.data.name,5),this.data.rebuy>0?(this.rebuyImg.visible=!0,this.rebuyImg.x=this.nameTxt.x+this.nameTxt.textWidth+5,this.rebuyTxt.x=this.rebuyImg.x+this.rebuyImg.width+5,this.rebuyTxt.text=""+this.data.rebuy):(this.rebuyImg.visible=!1,this.rebuyTxt.text=""),this.tableTxt.text=""+this.data.showId,0==this.data.showId&&(this.tableTxt.text="-"),this.scoreTxt.text=""+this.data.score,1==this.data.rank?this.rankimg1Img.visible=!0:2==this.data.rank?this.rankimg2Img.visible=!0:3==this.data.rank?this.rankimg3Img.visible=!0:this.rankingTxt.text=""+this.data.rank},i.prototype.initState=function(){this.rebuyImg.visible=!1,this.rankimg1Img.visible=!1,this.rankimg2Img.visible=!1,this.rankimg3Img.visible=!1,this.rankingTxt.text=""},i.prototype.assetSwf=function(){return t.AssetManager.mainSwf},i}(eui.ItemRenderer);t.GameRankListLine=e,__reflect(e.prototype,"kelvin.texas.GameRankListLine")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i,n){var a=e.call(this,!0)||this;return a.listnum=0,a.roomid=i,a.watchPeople=n,a.matchid=t,a.createGameScene(),a}return __extends(i,e),i.prototype.createGameScene=function(){this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timeRun,this),this.timer.start(),this.dateUtil=new t.DateUtils,this.lookupstate=!0,this.lookup2Btn.visible=!1,t.MatchApi.getShiShiZhanJi(this.matchid,this.getInfo.bind(this))},i.prototype.createList=function(){this.list=new eui.List,this.list.width=t.App.stageWidth,this.list.itemRenderer=t.GameRankListLine,this.list.layout=new eui.VerticalLayout,this.scrollView.x=20,this.scrollView.y=310,this.height=1184,this.scrollView.setShowSize(this.width-20,this.height-520),this.scrollView.viewport=this.list,this.listnum=0,this.data100=new eui.ArrayCollection,this.dataRoom=new eui.ArrayCollection},i.prototype.getRoomsInfo=function(e){this.infoArr=[];var i=[];for(var n in e.rooms){var a={tableid:e.rooms[n].id,usersnum:Object.keys(e.rooms[n].players).length,players:e.rooms[n].players,max:0,min:1e10,match_id:e.rooms[n].match_id,showId:0};this.infoArr.push(a),i.push(a)}t.ArrayUtil.AscendingArray("tableid",i);for(var n=0;n<i.length;n++)i[n].showId=n+1;t.MatchApi.getMatchRoleInfo(1,String(this.matchid),this.getList100.bind(this)),t.MatchApi.getMatchRoomRoleInfo(this.roomid,this.getListRoom.bind(this))},i.prototype.getList100=function(e){this.listnum++;for(var i=0;i<e.data.length;i++){for(var n={name:e.data[i][1],uid:e.data[i][0],score:e.data[i][2],rank:i,rebuy:e.data[i][4]-1,tableid:"1111",showId:0},a=0;a<this.infoArr.length;a++)for(var s in this.infoArr[a].players)this.infoArr[a].players[s]==n.uid&&(n.tableid=this.infoArr[a].tableid,n.showId=this.infoArr[a].showId);this.data.list.push(n),n.rank=this.data.list.length}for(var i=0;i<this.data.list.length;i++)this.data100.addItem(this.data.list[i]);this.data.list.length<50&&this.data.nowpeople>50?this.listnum<10&&t.MatchApi.getMatchRoleInfo(2,String(this.matchid),this.getList100.bind(this)):this.showList100()},i.prototype.showList100=function(){this.scrollView.viewport.scrollV=0,this.list.dataProvider=this.data100},i.prototype.getListRoom=function(e){this.roomlistArr=[];for(var i=0;i<e.data.length;i++){for(var n={name:e.data[i][1],uid:e.data[i][0],score:e.data[i][2],rank:i,rebuy:e.data[i][4]-1,tableid:String(this.roomid),showId:0},a=0;a<this.infoArr.length;a++)this.infoArr[a].tableid==n.tableid&&(n.showId=this.infoArr[a].showId);this.roomlistArr.push(n),n.rank=this.roomlistArr.length}t.ArrayUtil.AscendingArray("score",this.roomlistArr),this.roomlistArr.reverse();for(var i=0;i<this.roomlistArr.length;i++)this.roomlistArr[i].rank=i+1;for(var i=0;i<this.roomlistArr.length;i++)this.dataRoom.addItem(this.roomlistArr[i])},i.prototype.showListRoom=function(){this.scrollView.viewport.scrollV=0,this.list.dataProvider=this.dataRoom},i.prototype.createWatchUI=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return null==this.watchPeople&&(this.watchPeople=0),this.watchContainer=new t.ScrollView,this.watchContainer.setShowSize(this.watchBg.width,this.watchBg.height),this.watchContainer.x=this.watchBg.x,this.watchContainer.y=this.watchBg.y,this.addChild(this.watchContainer),this.watchContainer.scrollPolicyV="off",this.watchContainer.scrollPolicyH="on",this.watchContainer.visible=!1,this.headSpArr=[],this.watchPeopleTxt.text="旁观人数（"+this.watchPeople+"）",[2]})})},i.prototype.timeRun=function(){if(this.data){var t=(new Date).getTime(),e=t-this.data.starttime,i=this.dateUtil.getFormatBySecond(Math.floor(e/1e3),1);this.timeTxt.text="比赛时长："+i}},i.prototype.getInfo=function(e){this.data={title:e.match.name,starttime:1e3*e.match.match_start_time,frontscore:e.score100,allscore:e.match.init_game_score*e.match.cur_buy_count,avescore:e.match.init_game_score*e.match.cur_buy_count/(e.match.cur_buy_count-e.match.over_people),myrank:e.rank+1,rebuy:e.reBuyCount-1,nowpeople:e.match.people,joinpeople:e.match.apply_max_people,realpeople:e.match.cur_buy_count,over_people:e.match.over_people,cur_buy_count:e.match.cur_buy_count,list:[]},this.showUI(),this.createWatchUI(),this.createList(),t.MatchApi.getMatchRooms(String(this.matchid),this.getRoomsInfo.bind(this))},i.prototype.on_lookupBtn=function(){this.lookupstate=!this.lookupstate,this.lookupBtn.visible=this.lookupstate,this.lookup2Btn.visible=!this.lookupstate,1==this.lookupstate?this.showList100():this.showListRoom()},i.prototype.on_lookup2Btn=function(){this.on_lookupBtn()},i.prototype.showUI=function(){this.titleTxt.text=this.data.title,this.frontScoreTxt.text="前100记分牌："+Math.floor(this.data.frontscore),this.allScoreTxt.text="总记分牌："+Math.floor(this.data.allscore),this.averageScoreTxt.text="平均记分牌："+Math.floor(this.data.avescore),-1!=this.data.myrank&&0!=this.data.myrank?(this.myrankTxt.text=""+this.data.myrank,this.rebuyTxt.text=""+this.data.rebuy):(this.myrankTxt.text="-",this.rebuyTxt.text="-"),this.joinMatchTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.nowpeople,this.joinMatchNumTxt.text=""+this.data.realpeople},i.prototype.mainAssetName=function(){return"spr_game_rank_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timeRun,this)},i}(t.BasePanel);t.GameRankUI=e,__reflect(e.prototype,"kelvin.texas.GameRankUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function a(t){e.call(n,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(n))}var o=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(n,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var r=t.split("/");r.pop();var h=r.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(n,generateJSON.paths[t])},this):RES.getResByUrl(h,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(n,generateJSON.paths[t])},o)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,a,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.imgArr=[this.img1,this.img2,this.img3,this.img4]},i.prototype.show=function(e){void 0===e&&(e=0),this.x=t.App.stageWidth/2,this.y=t.App.stageHeight/2,t.Starup.stageSp.addChild(this),this.txt.text=""+e+"%...",egret.clearInterval(this.timeid1),this.index=0;for(var i=0;i<this.imgArr.length;i++)this.imgArr[i].visible=!1;this.timeid1=egret.setInterval(this.runAnima,this,500)},i.prototype.runAnima=function(){for(var t=0;t<this.imgArr.length;t++)t<this.index?this.imgArr[t].visible=!0:this.imgArr[t].visible=!1;this.index++,this.index>4&&(this.index=0)},i.prototype.setProgress=function(t){this.txt.text=""+t+"%..."},i.prototype.hide=function(){egret.clearInterval(this.timeid1),t.Tool.removeFromParent(this)},i.prototype.mainAssetName=function(){return"spr_load_game_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.LoadGameUI=e,__reflect(e.prototype,"kelvin.texas.LoadGameUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,t.Tool.center(this.loadimg)},i.prototype.show=function(){this.x=t.App.stageWidth/2,this.y=t.App.stageHeight/2,t.Starup.stageSp.addChild(this),egret.Tween.removeTweens(this.loadimg),egret.Tween.get(this.loadimg,{loop:!0}).to({rotation:360},1e3)},i.prototype.hide=function(){t.Tool.removeFromParent(this),egret.Tween.removeTweens(this.loadimg)},i.prototype.mainAssetName=function(){return"spr_net_load"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.NetLoadUI=e,__reflect(e.prototype,"kelvin.texas.NetLoadUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,n){void 0===n&&(n=-1);var a=e.call(this)||this;return i.waitRoomUI&&i.waitRoomUI.hide(),i.waitRoomUI=a,a.roomid=n,a.match_id=t,a.createGameScene(),a}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,0),this.addChildAt(this.bg,0),this.width=this.bg.width,this.height=this.bg.height,this.sendnum=0,this.loadGame(),this.mateAnima.visible=!1,this.changeAnima.visible=!1,this.visible=!1},i.prototype.showPointerAnima=function(){},i.prototype.hidePointerAnima=function(){},i.prototype.loadGame=function(){console.log("开始加载游戏"),(new t.GameAssetLoader).loadGame(this.loadSuccess.bind(this),this)},i.prototype.loadSuccess=function(e){console.log("游戏资源加载成功"),t.EventManager.dispatchCmd(t.Events.gotoGameView,null),t.ExtGameHelper.joinExtGamePanel(),this.joinGame()},i.prototype.delayJoin=function(){this.sendnum++,this.time1=egret.setInterval(this.joinGame,this,3e3)},i.prototype.joinGame=function(){t.RoomApi.joinGame(this.match_id,this.roomid,this.joinback.bind(this))},i.prototype.joinback=function(e){null==e.room&&0==this.sendnum&&(this.delayJoin(),this.visible=!0,t.ExtGameHelper.extGamePanel&&-1!=this.roomid?this.changeAnima.visible=!0:this.mateAnima.visible=!0),e.room&&this.joinSuccess()},i.prototype.joinSuccess=function(){var t=this;this.hidePointerAnima(),egret.setTimeout(function(){t.dispose()},this,100)},i.prototype.hide=function(){this.dispose()},i.prototype.dispose=function(){e.prototype.dispose.call(this),egret.clearInterval(this.time1),i.waitRoomUI=null,this.mateAnima.stop(),this.changeAnima.stop(),1==t.ExtGameHelper.isneedPop&&(lzm.Alert.closeAllAlert(),t.PanelTween.popPanel(),t.ExtGameHelper.isneedPop=!1)},i.prototype.mainAssetName=function(){return"spr_wait_room_anima_view"},i}(t.BasePanel);t.WaitRoomUI=e,__reflect(e.prototype,"kelvin.texas.WaitRoomUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i){var n=e.call(this)||this;return n.mainView=t,n.loginScene=i,n.createGameScene(),n}return __extends(i,e),i.prototype.createGameScene=function(){t.Tool.replaceSwfTxt("accountTxt",this),t.Tool.replaceSwfTxt("passwordTxt",this),this.txt1=new t.InputText(this.accountTxt),this.txt2=new t.InputText(this.passwordTxt),this.passwordTxt.addEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.passwordTxt.addEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this)},i.prototype.focusIn=function(t){t.target.text="",t.target.displayAsPassword=!0},i.prototype.focusOut=function(t){var e;e=t?t.target:this.passwordTxt,""==e.text||"请重复输入6-20位密码"==e.text?(e.text="请重复输入6-20位密码",e.displayAsPassword=!1):e.displayAsPassword=!0},i.prototype.on_againPasswordBtn=function(e){lzm.Alert.alert(new t.RegisterPanel("againPassword"))
},i.prototype.on_loginBtn=function(){var e=this;if(egret.getOption("type"))this.testLogin();else{t.LoginUtil.login(this.accountTxt.text,this.passwordTxt.text,this.loginScene,function(){t.AccountData.addLoginInfo(e.accountTxt.text,e.passwordTxt.text)})}},i.prototype.testLogin=function(){var e=this;console.log("测试注册");var i=this.accountTxt.text;t.UserApi.register(i,"","",function(){console.log("测试账号未注册"),t.LoginUtil.login(i,"",e.loginScene),egret.setTimeout(function(){t.PhoneApi.genCode(e.accountTxt.text,function(i,n){t.PhoneApi.vert(i.accountTxt.text,i.passwordTxt.text,"123456",function(t,i){e.dispose()},e)},e)},e,500)},null,function(){console.log("测试账号已经注册"),t.LoginUtil.login(i,"",e.loginScene)})},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.passwordTxt.removeEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.passwordTxt.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this)},i.prototype.mainAssetName=function(){return"spr_denglu_input"},i}(t.BasePanel);t.LoginInputPop=e,__reflect(e.prototype,"kelvin.texas.LoginInputPop")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij"),this.addChildAt(this.bg,0),egret.getOption("type")||this.automaticLogin()},i.prototype.automaticLogin=function(){if("1"==t.AccountData.isNeedAutomaticLogin)return void t.Log.log("不需要自动登录");var e=t.AccountData.getLastAccount();e&&(e.iswx?this.on_wxBtn(null):t.LoginUtil.login(e.account,e.password,this))},i.prototype.on_wxBtn=function(e){var i=this;egret.getOption("type")?this.testLogin():t.App.isWeiDuan()?(t.Log.log("要去微信得到账号"),t.NativeBase.registerCmd("wxLoginCallBack",function(e){t.Log.log(JSON.stringify(e)),i.wxAccount=e.unionid,i.wxInfo=e,t.AccountData.loginInfo_wx={account:e.unionid,password:""},t.AccountData.wxInfoTime=(new Date).getTime(),i.wxLogin()},this),t.AppWx.login()):this.commonlogin()},i.prototype.testLogin=function(){console.log("测试登陆"),lzm.Alert.alert(new t.LoginInputPop(this.parent,this))},i.prototype.wxLogin=function(){var e;e=null!=egret.getOption("recommend")&&""!=egret.getOption("recommend")?egret.getOption("recommend"):"";var i=this;this.wxInfo?t.UserApi.register(this.wxAccount,"",e,function(t){i.registersuccess_wx(t)},this.wxInfo,this.wxresgistered.bind(this)):t.UserApi.register(this.wxAccount,"",e,function(t){i.registersuccess_wx(t)},null,this.wxresgistered.bind(this))},i.prototype.registersuccess_wx=function(e){t.LoginUtil.login(this.wxAccount,"",this)},i.prototype.wxresgistered=function(e){-8==e.state?this.registersuccess_wx(null):t.ApiState.show(e.state)},i.prototype.commonlogin=function(){var e=egret.localStorage.getItem("localAccount");(""==e||null==e)&&(e=t.RandomUtils.guid(),egret.localStorage.setItem("localAccount",e)),egret.getOption("account")&&(e=egret.getOption("account"));var i=this;t.UserApi.register(e,"","",function(n){t.LoginUtil.login(e,"",i,function(){t.AccountData.loginInfo_visitor={account:e,password:""}})},null,function(n){t.LoginUtil.login(e,"",i,function(){t.AccountData.loginInfo_visitor={account:e,password:""}})})},i.prototype.on_loginBtn=function(e){var i=t.AccountData.loginInfo;i?lzm.Alert.alert(new t.LoginViewPop(this.parent,this)):lzm.Alert.alert(new t.LoginInputPop(this.parent,this))},i.prototype.layout=function(){this.bg.width=t.App.stageWidth,this.bg.height=t.App.stageHeight},i.prototype.mainAssetName=function(){return"spr_login_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.LoginView=e,__reflect(e.prototype,"kelvin.texas.LoginView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i){var n=e.call(this)||this;return n.mainView=t,n.loginScene=i,n.createGameScene(),n}return __extends(i,e),i.prototype.createGameScene=function(){var e=this;this.view=this.$children[0],t.Tool.replaceSwfTxt("accountText",this),this.accountText.text="",this.bg.touchEnabled=!0,this.bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.toucBg,this),this.bgimg.touchEnabled=!0,this.accountBg.touchEnabled=!0,this.accountBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeArea,this),this.accountBg.name="up",egret.setTimeout(function(){e.createDropDownArea()},this,100)},i.prototype.createDropDownArea=function(){var e=t.AccountData.loginInfo;if(!e)return this.bgimg.visible=!1,this.upBtn.visible=!1,this.dropBtn.visible=!1,void(this.dropAreaSc&&(this.dropAreaSp.removeChildren(),this.clearBtn()));if(this.dropAreaSc){this.dropAreaSp.removeChildren(),this.clearBtn();var i=!1;for(var n in e)e[n]&&(e[n].account==this.accountText.text,i=!0);0==i&&(this.accountText.text="",this.info=null)}else{this.dropAreaSc=new egret.ScrollView,this.dropAreaSc.verticalScrollPolicy="auto",this.dropAreaSc.horizontalScrollPolicy="off",this.dropAreaSc.x=this.bgimg.x,this.dropAreaSc.y=this.bgimg.y,this.bgimg.height=200,this.dropAreaSc.width=this.bgimg.width,this.dropAreaSc.height=this.bgimg.height-10,this.view.addChild(this.dropAreaSc),this.dropAreaSc.visible=!1,this.dropAreaSp=new egret.Sprite,this.dropAreaSc.setContent(this.dropAreaSp),this.upBtn.visible=!1,this.bgimg.visible=!1;var a=t.Tool.createRectSprite(this.bgimg.width,this.bgimg.height,0,this.bgimg.x,this.bgimg.y,0);this.bgimg.parent.addChild(a),this.bgimg.mask=a,this.bgimg.touchEnabled=!0,this.bgimgY=this.bgimg.y}this.accountBtnArr=[],this.deleteBtnArr=[];var s=0,o=[];for(var n in e)e[n]&&o.push(e[n]);t.ArrayUtil.AscendingArray("time",o),o.reverse(),this.txtSpArr=[],this.deleteSpArr=[];for(var n=0;n<o.length;n++){var r=t.Tool.createTextFiled(this.accountText.x-180,this.accountText.y,null,this.accountText.height,o[n].account,24,16777215,"left");r.name=o[n].account,this.dropAreaSp.addChild(r),this.accountBtnArr.push(r),r.x=20,r.y=60*s+25,s++;var h=t.Tool.createRectSprite(r.width+100,r.height+10,16777215,r.x-40,r.y-10,0);h.name=r.name,h.touchEnabled=!0,this.dropAreaSp.addChild(h),h.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTxt,this),this.txtSpArr.push(h);var l=t.Tool.createBitmapByName("img_img_dly_xld_sc",!1,r.x+250,r.y+4);this.dropAreaSp.addChild(l),this.deleteBtnArr.push(l),l.name=o[n].account;var c=t.Tool.createRectSprite(l.width+30,l.height+10,16777215,l.x-20,l.y-10,0);c.name=l.name,c.touchEnabled=!0,this.dropAreaSp.addChild(c),c.addEventListener(egret.TouchEvent.TOUCH_TAP,this.deleteAccount,this),this.deleteSpArr.push(c)}var p=t.Tool.createRectSprite(this.dropAreaSc.width-10,60*this.accountBtnArr.length+10,0,0,0,0);this.dropAreaSp.addChild(p),o[0]&&(this.info=o[0],this.accountText.text=this.info.account)},i.prototype.deleteAccount=function(e){t.AccountData.deleteLoginInfo(e.target.name),this.createDropDownArea()},i.prototype.changeArea=function(t){"up"==t.target.name?(this.ondropBtn(),t.target.name="drop"):(this.onupBtn(),t.target.name="up")},i.prototype.ondropBtn=function(){var e=this,i=t.AccountData.loginInfo;i&&(egret.Tween.removeTweens(this.bgimg),this.bgimg.visible=!0,this.bgimg.y=this.bgimgY-this.bgimg.height,egret.Tween.get(this.bgimg).to({y:this.bgimgY},250).call(function(){e.dropAreaSc.visible=!0},this),this.dropBtn.visible=!1,this.upBtn.visible=!0)},i.prototype.onupBtn=function(){var e=this,i=t.AccountData.loginInfo;i&&(egret.Tween.removeTweens(this.bgimg),this.dropAreaSc.visible=!1,this.bgimg.y=this.bgimgY,egret.Tween.get(this.bgimg).to({y:this.bgimgY-this.bgimg.height},250).call(function(){e.bgimg.visible=!1},this),this.dropBtn.visible=!0,this.upBtn.visible=!1)},i.prototype.touchTxt=function(e){var i=t.AccountData.loginInfo[e.target.name];t.AccountData.addLoginInfo(i.account,i.password),this.accountText.text=i.account,this.info=i,this.onupBtn()},i.prototype.toucBg=function(){this.onupBtn()},i.prototype.on_sureBtn=function(e){if(!this.info)return void t.ApiState.showText("请选择要登录的账号");t.AccountData.addLoginInfo(this.info.account,this.info.password),t.LoginUtil.login(this.info.account,this.info.password,this.loginScene)},i.prototype.on_againPasswordBtn=function(e){lzm.Alert.alert(new t.RegisterPanel("againPassword"))},i.prototype.on_loginOtherBtn=function(e){lzm.Alert.alert(new t.LoginInputPop(this.mainView,this.loginScene))},i.prototype.layout=function(){},i.prototype.clearBtn=function(){if(this.accountBtnArr)for(var t=0;t<this.accountBtnArr.length;t++)this.accountBtnArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTxt,this);if(this.deleteBtnArr)for(var t=0;t<this.deleteBtnArr.length;t++)this.deleteBtnArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.deleteAccount,this)},i.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.clearBtn(),egret.Tween.removeTweens(this.bgimg),this.bg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.toucBg,this),this.txtSpArr)for(var t=0;t<this.txtSpArr.length;t++)this.txtSpArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTxt,this);if(this.deleteSpArr)for(var t=0;t<this.deleteSpArr.length;t++)this.deleteSpArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.deleteAccount,this)},i.prototype.mainAssetName=function(){return"spr_denglu_view"},i}(t.BasePanel);t.LoginViewPop=e,__reflect(e.prototype,"kelvin.texas.LoginViewPop")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.recordNum=60,i.type=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){"register"==this.type?(this.sureBtn.visible=!0,this.sureAgainBtn.visible=!1,this.registerTitle.visible=!0,this.againTitle.visible=!1):(this.sureBtn.visible=!1,this.sureAgainBtn.visible=!0,this.registerTitle.visible=!1,this.againTitle.visible=!0),this.createIphoneUI(),this.createAPUI()},i.prototype.createIphoneUI=function(){t.Tool.replaceSwfTxt("iphoneInputText",this),t.Tool.replaceSwfTxt("codeInputText",this),this.iphoneInputText.verticalAlign="top",this.codeInputText.verticalAlign="top";var e=new t.InputText(this.iphoneInputText);e.setDefaultText("请输入手机号"),e.setInPutColor(16777215);var i=new t.InputText(this.codeInputText);i.setDefaultText("请输入验证码"),i.setInPutColor(16777215),this.timeText=t.Tool.createTextFiled(this.againSendBtn.x+100,this.againSendBtn.y+14,this.againSendBtn.width,20,"(50s)",17,16777215,"center"),this.addChild(this.timeText),this.timeText.visible=!1,this.againSendBtn.visible=!1,this.redPrompt=t.Tool.createTextFiled(0,415,this.width,40,"提示：绑定手机才能参与报名",18,16711680,"center"),this.addChild(this.redPrompt),this.createTimeDown()},i.prototype.createTimeDown=function(){this.timeTimer=new egret.Timer(1e3),this.timeTimer.addEventListener(egret.TimerEvent.TIMER,this.runTime,this)},i.prototype.startTimeDown=function(){this.recordNum=60,this.sendBtn.visible=!1,this.againSendBtn.visible=!0,this.againSendBtn.setEnable(!1),this.timeText.visible=!0,this.timeTimer.start()},i.prototype.stopTimeDown=function(){this.timeTimer.stop(),this.sendBtn.visible=!0,this.againSendBtn.visible=!1,this.againSendBtn.setEnable(!0),this.timeText.visible=!1},i.prototype.runTime=function(){this.recordNum--,this.timeText.text="("+this.recordNum+"s)",this.recordNum<=0&&this.stopTimeDown()},i.prototype.on_sendBtn=function(){this.startTimeDown(),"register"==this.type?t.PhoneApi.genCode(this.iphoneInputText.text,function(t,e){t.startTimeDown()},this):t.UserApi.loginGetCode(this.iphoneInputText.text,null)},i.prototype.createAPUI=function(){t.Tool.replaceSwfTxt("newPasswordTxt",this),t.Tool.replaceSwfTxt("againPasswordTxt",this),this.newPasswordTxt.verticalAlign="top",this.againPasswordTxt.verticalAlign="top",this.newPasswordTxt.multiline=!0,this.againPasswordTxt.multiline=!0,this.txt2=new t.InputText(this.newPasswordTxt),this.newPasswordTxt.addEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.newPasswordTxt.addEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this),this.txt3=new t.InputText(this.againPasswordTxt),this.againPasswordTxt.addEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.againPasswordTxt.addEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this)},i.prototype.focusIn=function(t){t.target.text="",t.target.displayAsPassword=!0},i.prototype.focusOut=function(t){""==this.newPasswordTxt.text&&(this.newPasswordTxt.text="请输入密码",this.newPasswordTxt.displayAsPassword=!1),""==this.againPasswordTxt.text&&(this.againPasswordTxt.text="请再次输入密码",this.againPasswordTxt.displayAsPassword=!1)},i.prototype.on_sureBtn=function(t){this.sendMsg()},i.prototype.on_sureAgainBtn=function(t){this.sendMsg()},i.prototype.sendMsg=function(){if(this.newPasswordTxt.text!=this.againPasswordTxt.text)return void t.ApiState.showText("两次输入的密码不相同，请重新输入密码");t.Log.log("可以注册");var e=this;"register"==this.type?t.PhoneApi.vert(this.iphoneInputText.text,this.againPasswordTxt.text,this.codeInputText.text,function(t,e){t.registersuccess(e)},this):t.UserApi.loginAgainPassword(this.iphoneInputText.text,this.againPasswordTxt.text,this.codeInputText.text,function(t){e.againpassword(t)},this.againFailError.bind(this))},i.prototype.againFailError=function(e){-4==e.state?t.ApiState.showText("用户不存在"):t.ApiState.show(e.state)},i.prototype.againpassword=function(e){t.AccountData.addLoginInfo(this.iphoneInputText.text,this.againPasswordTxt.text),t.ApiState.showText("密码重置成功"),t.EventManager.dispatchCmd("DT_registersuccess",null),this.dispose()},i.prototype.registersuccess=function(e){t.AccountData.addLoginInfo(this.iphoneInputText.text,this.againPasswordTxt.text),t.EventManager.dispatchCmd("DT_registersuccess",null),t.ApiState.showText("账号绑定成功"),this.dispose()},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.newPasswordTxt.removeEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.newPasswordTxt.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this),this.againPasswordTxt.removeEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.againPasswordTxt.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this)},i.prototype.mainAssetName=function(){return"spr_zhuce_scene"},i}(t.BasePanel);t.RegisterPanel=e,__reflect(e.prototype,"kelvin.texas.RegisterPanel")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return t.PanelTween.rootPanel=i,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){t.ExtGameHelper.homePanel=this,this.bg=t.Tool.createBitmapByName("img_pyqdz_beij"),this.addChild(this.bg),this.matchView=new t.MatchView,this.addChild(this.matchView),this.topview=new t.ViewTop,this.addChild(this.topview),this.bottomView=new t.ViewBottom,this.addChild(this.bottomView),this.popup=new t.PopupView,this.addChild(this.popup),t.EventManager.registerCmd(t.Events.createPersonalView,this.createPersonalView,this),egret.setTimeout(function(){},this,2e3),this.isBandingPhone(),null!=t.AccountData.loginData.alertNotice&&this.popNoticePop(),t.MatchApi.getMyMatch(this.isHaveGameStart.bind(this)),t.MatchApi.getPlayerProps(null)},i.prototype.getRewardInfo=function(e){!e.info&&t.AccountData.loginData.lastWcaaReward&&t.AccountData.loginData.lastWcaaReward[2]>0&&lzm.Alert.alert(new t.GetPrizePopup)},i.prototype.isHaveGameStart=function(e){var i=!1;for(var n in e.matchs)if(1==e.matchs[n].state||2==e.matchs[n].state){i=!0;break}1==i?lzm.Alert.alert(new t.GameMatchView("0",null,null,"home")):t.RoleApi.getRewardInfo(this.getRewardInfo.bind(this))},i.prototype.startGetPeopleNum=function(){this.timeid1=egret.setInterval(this.getPeopleNum,this,3e4),this.isCanGetPeople=!0},i.prototype.getPeopleNum=function(){},i.prototype.peopleInfo=function(t){},i.prototype.leaveView=function(){this.isCanGetPeople=!1},i.prototype.backView=function(){this.isCanGetPeople=!0},i.prototype.isBandingPhone=function(){t.PhoneApi.isVert(function(e){console.log(e),(null==e||""==e)&&lzm.Alert.alert(new t.RegisterPanel("register"))})},i.prototype.popNoticePop=function(){egret.setTimeout(function(){var e=(new Date).getTime();return e-t.TimeData.noticeTime<864e5?void t.Log.log("今天不用再弹公告了"):void lzm.Alert.alert(new t.NoticePopup)},this,100)},i.prototype.createPersonalView=function(){this.personal&&this.contains(this.personal)&&t.Tool.removeFromParent(this.personal),this.personal=new t.PersonalView,this.addChild(this.personal),this.personal.show()},i.prototype.layout=function(){this.bg.width=t.App.stageWidth,this.bg.height=t.App.stageHeight,this.bottomView.y=t.App.stageHeight-this.bottomView.height},i.prototype.mainAssetName=function(){return"spr_main"},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.ExtGameHelper.homePanel=null,t.EventManager.removeCmd(t.Events.createPersonalView,this.createPersonalView,this),t.PanelTween.clearAllPanel(),lzm.Alert.closeAllAlert(),t.ExtGameHelper.removePopupPanle()},i}(t.BasePanel);t.MainPanel=e,__reflect(e.prototype,"kelvin.texas.MainPanel")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){},i.prototype.createMZJGBView=function(e){return this.contains(this.mzjgbView)?void t.Log.log("已经生成锦标赛界面"):(this.mzjgbView=new t.MzjgbView(e),this.addChild(this.mzjgbView),this.mzjgbView.x=t.App.stageWidth,void egret.Tween.get(this.mzjgbView).to({x:0},300,egret.Ease.quartOut))},i.prototype.createJBSView=function(){return this.contains(this.jsbView)?void t.Log.log("已经生成锦标赛界面"):(this.jsbView=new t.JbsView("common"),this.addChild(this.jsbView),this.jsbView.x=t.App.stageWidth,void egret.Tween.get(this.jsbView).to({x:0},300,egret.Ease.quartOut))},i.prototype.createBSXQView=function(e){return this.contains(this.bsxqView)?void t.Log.log("已经生成比赛详情界面"):(this.bsxqView=new t.BsxqView(e),this.addChild(this.bsxqView),this.bsxqView.x=t.App.stageWidth,void egret.Tween.get(this.bsxqView).to({x:0},300,egret.Ease.quartOut))},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.EventManager.removeCmd(t.Events.createJBSView,this.createJBSView,this),t.EventManager.removeCmd(t.Events.createMZJGBView,this.createMZJGBView,this),t.EventManager.removeCmd(t.Events.createBSXQView,this.createBSXQView,this)},i}(t.BasePanel);t.PopupView=e,__reflect(e.prototype,"kelvin.texas.PopupView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bszqcover.touchEnabled=!0,this.othercover.touchEnabled=!0,this.othercover.visible=!1,t.EventManager.registerCmd(t.Events.gotoMatchView,this.gotoMatchView,this)},i.prototype.gotoMatchView=function(){this.on_bszqBtn(null)},i.prototype.layout=function(){},i.prototype.on_jlbBtn=function(e){t.ApiState.showText("敬请期待")},i.prototype.on_scBtn=function(e){this.bszqcover.visible=!1,this.othercover.visible=!0,this.othercover.touchEnabled=!0,this.othercover.x=148,t.PanelTween.pushPanel(new t.ShopView)},i.prototype.on_bszqBtn=function(t){this.bszqcover.visible=!0,this.othercover.visible=!1},i.prototype.on_phBtn=function(e){this.bszqcover.visible=!1,this.othercover.visible=!0,this.othercover.touchEnabled=!0,this.othercover.x=430,lzm.Alert.alert(new t.MasterRankView)},i.prototype.on_grxxBtn=function(e){this.bszqcover.visible=!1,this.othercover.visible=!0,this.othercover.touchEnabled=!1,this.othercover.x=575,t.EventManager.dispatchCmd(t.Events.createPersonalView,null)},i.prototype.mainAssetName=function(){return"spr_main_bottom"},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.EventManager.removeCmd(t.Events.gotoMatchView,this.gotoMatchView,this)},i}(t.BasePanel);t.ViewBottom=e,__reflect(e.prototype,"kelvin.texas.ViewBottom")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){var e=this;this.setBg.touchEnabled=!0,this.nameTxt.text=t.RoleData.getRole().name,this.goldTxt.text=""+t.RoleData.getRole().gold,this.scoreTxt.text=""+t.RoleData.getRole().scores,this.uidTxt.text=""+t.RoleData.getRole().uid,this.setView.visible=!1,t.EventManager.registerCmd(t.Events.goldChange,this.goldChange,this),this.initHead(),egret.setTimeout(function(){1==t.App.isiOS()&&(t.Log.log("需要适配挖孔屏"),e.topSclexImg.height=e.topSclexImg.height+50,e.topSclexImg.y=-50,e.y=50)},this,100)},i.prototype.goldChange=function(){this.goldTxt.text=""+t.RoleData.getRole().gold,this.scoreTxt.text=""+t.RoleData.getRole().scores},i.prototype.initHead=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(n){switch(n.label){case 0:return e=t.RoleData.getRole().head,e||(e="head_1_png"),this.headImg=new egret.Bitmap,[4,t.Tool.getTextureByUrlOrName(e)];case 1:return i=n.sent(),this.headImg.texture=i,this.headImg.width=90,this.headImg.height=90,this.headSp=t.Tool.createCircularMask(this.headImg,10,10),this.addChild(this.headSp),[2]}})})},i.prototype.layout=function(){},i.prototype.on_setBtn=function(t){this.setView.visible=!this.setView.visible},i.prototype.on_huodongBtn=function(e){t.PanelTween.pushPanel(new t.ActiveView)},i.prototype.on_gonggaoBtn=function(e){t.PanelTween.pushPanel(new t.NoticeView)},i.prototype.on_xiaoxiBtn=function(e){t.PanelTween.pushPanel(new t.NewsView)},i.prototype.mainAssetName=function(){return"spr_main_top"},i.prototype.dispose=function(){e.prototype.dispose.call(this),t.EventManager.removeCmd(t.Events.goldChange,this.goldChange,this)},i}(t.BasePanel);t.ViewTop=e,__reflect(e.prototype,"kelvin.texas.ViewTop")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.ruleImg=t.Tool.createBitmapByName("img_dzpyq_dsphb_zi_png"),this.addChild(this.ruleImg),this.ruleImg.x=27.5,this.ruleImg.y=63.5},i.prototype.mainAssetName=function(){return"spr_master_rank_rule"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.MasterRankRule=e,__reflect(e.prototype,"kelvin.texas.MasterRankRule")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.scrollView.setShowSize(this.width,this.height-52-63-20),this.scrollView.y=62,this.addChild(this.scrollView)},i.prototype.createUi=function(e){this.data=e,this.spArr=[];for(var i=0;i<this.data.length;i++){var n=new egret.Sprite;if(1==this.data[i].rank){var a=t.Tool.createBitmapByName("img_img_zjixiangq_jinbei",!1,10,7);n.addChild(a)}else if(2==this.data[i].rank){var a=t.Tool.createBitmapByName("img_img_zjixiangq_yingbei",!1,10,7);n.addChild(a)}else if(3==this.data[i].rank){var a=t.Tool.createBitmapByName("img_img_zjixiangq_tongbei",!1,10,7);n.addChild(a)}else{var s=t.Tool.createTextFiled(30,15,100,40,""+this.data[i].rank,20,16777215,"left");n.addChild(s)}var o=t.Tool.createTextFiled(70,15,200,40,this.data[i].name,20,16777215,"center");n.addChild(o);var r=t.Tool.createTextFiled(215,15,200,40,""+this.data[i].score,20,16777215,"center");n.addChild(r);var h=t.Tool.createTextFiled(350,15,200,40,this.data[i].time,20,16777215,"right");n.addChild(h);var l=t.Tool.createBitmapByName("img_img_dzpyq_dsphb_line",!1,10,70);n.addChild(l),n.y=70*i,this.scrollView.container.addChild(n),this.spArr.push(n)}this.scrollView.setScrollSize(this.width,70*this.data.length)},i.prototype.createSelfUI=function(e){if(this.selfSp=new egret.Sprite,1==e.rank){var i=t.Tool.createBitmapByName("img_img_zjixiangq_jinbei",!1,10,7);this.selfSp.addChild(i)}else if(2==e.rank){var i=t.Tool.createBitmapByName("img_img_zjixiangq_yingbei",!1,10,7);this.selfSp.addChild(i)}else if(3==e.rank){var i=t.Tool.createBitmapByName("img_img_zjixiangq_tongbei",!1,10,7);this.selfSp.addChild(i)}else{var n=t.Tool.createTextFiled(30,15,100,40,""+e.rank,20,16777215,"left");this.selfSp.addChild(n),-1==e.rank&&(n.text="未上榜")}var a=t.Tool.createTextFiled(70,15,200,40,e.name,20,16777215,"center");this.selfSp.addChild(a);var s=t.Tool.createTextFiled(215,15,200,40,""+e.score,20,16777215,"center");this.selfSp.addChild(s);var o=t.Tool.createTextFiled(350,15,200,40,e.time,20,16777215,"right");this.selfSp.addChild(o),this.selfSp.y=640,this.addChild(this.selfSp)},i.prototype.mainAssetName=function(){return"spr_master_rank_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.MasterRankUI=e,__reflect(e.prototype,"kelvin.texas.MasterRankUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.rankUI=new t.MasterRankUI,this.addChild(this.rankUI),this.rankUI.x=58,this.rankUI.y=175,this.ruleUI=new t.MasterRankRule,this.addChild(this.ruleUI),this.ruleUI.visible=!1,this.ruleUI.x=58,this.ruleUI.y=175,this.on_backBtn(null),t.MatchApi.getMasterPoints(this.getInfo.bind(this))},i.prototype.getInfo=function(e){this.infoarr=[];var i;if(e.myData&&(i={name:e.myData.name,uid:e.myData.uid,score:e.myData.val,time:t.DateUtils.timestampToTime(e.myData.time).slice(5),rank:-1},(0==e.myData.time.time||"false"==e.myData.time.time)&&(i.time="无")),e.masterPoints)for(var n=0;n<e.masterPoints.length;n++){var a={name:e.masterPoints[n].name,uid:e.masterPoints[n].uid,score:e.masterPoints[n].val,time:t.DateUtils.timestampToTime(e.masterPoints[n].time).slice(5),rank:n+1};(0==e.masterPoints[n].time||"false"==e.masterPoints[n].time)&&(a.time="无"),this.infoarr.push(a),i&&i.uid==a.uid&&(i.rank=a.rank)}if(this.rankUI.createUi(this.infoarr),i&&this.rankUI.createSelfUI(i),e.masterRule){var s=e.masterRule.start_date,o=e.masterRule.end_date;s=s.replace("/","-").replace("/","-"),o=o.replace("/","-").replace("/","-"),this.timeTxt.text="活动时间："+s+"至"+o}else this.timeTxt.text=""},i.prototype.on_ruleBtn=function(t){this.ruleBtn.visible=!1,this.backBtn.visible=!0,this.rankUI.visible=!1,this.ruleUI.visible=!0},i.prototype.on_backBtn=function(t){this.ruleBtn.visible=!0,this.backBtn.visible=!1,this.rankUI.visible=!0,this.ruleUI.visible=!1},i.prototype.mainAssetName=function(){return"spr_master_rank_view_scene"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.MasterRankView=e,__reflect(e.prototype,"kelvin.texas.MasterRankView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i){var n=e.call(this)||this;return n.iscanTouch=!0,n.data=t,n.index=i,n.createGameScene(),n}return __extends(i,e),i.prototype.initUI=function(){this.alreadysignimg.visible=!1,this.mtticon.visible=!1,this.sngicon.visible=!1,this.lightBg.visible=!1,this.darkBg.visible=!1,this.delayImg.visible=!1,this.gameImg.visible=!1,this.stopImg.visible=!1,this.sginImg.visible=!1,this.delayImg.touchEnabled=!1,this.gameImg.touchEnabled=!1,this.stopImg.touchEnabled=!1,this.sginImg.touchEnabled=!1,this.masterBtn.visible=!1,this.masterBtn.isScale=!1},i.prototype.createGameScene=function(){this.updateState(),this.touchEnabled=!0,this.initUI(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touch,this,!1,1e6),this.updateUI(),t.EventManager.registerCmd(t.Events.controlHContanier,this.controlHContanier,this)},i.prototype.controlHContanier=function(t){this.iscanTouch=t},i.prototype.touch=function(){0!=this.iscanTouch&&t.PanelTween.pushPanel(new t.BsxqView(this.data))},i.prototype.updateState=function(){var t=(new Date).getTime();0==this.data.serverstate?"mtt"==this.data.type?(t>=this.data.apply_date&&t<=this.data.apply_date_end&&t>=this.data.apply_time&&t<=this.data.apply_time_end?this.data.state=1:t>=this.data.apply_date&&t<=this.data.apply_date_end&&t<=this.data.start_time&&t>=this.data.apply_time_end?this.data.state=3:t>=this.data.apply_time_end+1e3*this.data.apply_delay_time||t>this.data.apply_date_end+1e3*this.data.apply_delay_time?this.data.state=3:this.data.state=5,5!=this.data.state&&(this.data.mz_level>this.data.apply_max_mz_level&&(this.data.state=3),this.data.havepeople>=this.data.apply_max_people&&(this.data.state=3),1==this.data.inMoneyCircle&&(this.data.state=3))):"sng"==this.data.type&&(this.data.state=1):1==this.data.signed?this.data.state=4:t>=this.data.apply_date&&t<=this.data.apply_date_end&&t>=1e3*this.data.match_start_time&&t<=1e3*this.data.match_start_time+1e3*this.data.apply_delay_time?(this.data.state=2,this.data.mz_level>this.data.apply_max_mz_level&&(this.data.state=3),this.data.havepeople>=this.data.apply_max_people&&this.data.reBuyCount<=0?this.data.state=3:(this.data.cur_buy_count>=this.data.buy_count||this.data.reBuyCount>=this.data.player_buy_count)&&(this.data.state=3),1==this.data.inMoneyCircle&&(this.data.state=3)):this.data.state=3},i.prototype.updateUI=function(){if("sng"==this.data.type||1==this.data.satellite)this.sngicon.visible=!0,this.promptTxt.text="人满即开";else if("mtt"==this.data.type)if(this.mtticon.visible=!0,1==this.data.serverstate)this.promptTxt.text="比赛进行中";else{var e=new Date,i=t.DateUtils.formatDate(e);this.promptTxt.text="开赛时间 "+i+" "+this.data.start_time_str}if(this.index%2==0?this.lightBg.visible=!0:this.darkBg.visible=!0,(1==this.data.signed||3==this.data.signed)&&(this.alreadysignimg.visible=!0),1==this.data.state?this.sginImg.visible=!0:2==this.data.state?this.delayImg.visible=!0:3==this.data.state?this.stopImg.visible=!0:4==this.data.state&&(this.gameImg.visible=!0,this.promptTxt.text="牌局进行中"),this.titleTxt.text=this.data.titie,-1!=this.data.master_points_id&&this.data.masterRule){var e=new Date,i=t.DateUtils.formatDate(e),n=new Date((new Date).setHours(0,0,0,0)).getTime(),a=this.data.masterRule.start_date;a=a.replace("/","-").replace("/","-");var s=new Date(a).getTime();s-=288e5;var o=i+" "+this.data.masterRule.start_time,r=new Date(o).getTime(),h=s+(r-n),l=this.data.masterRule.end_date;l=l.replace("/","-").replace("/","-");var c=new Date(l).getTime();c-=288e5;var p=i+" "+this.data.masterRule.end_time,u=new Date(p).getTime(),d=c+(u-n),g=(new Date).getTime();g>h&&d>g&&(this.masterBtn.visible=!0,this.masterBtn.x=this.titleTxt.x+this.titleTxt.textWidth+20)}if(0==this.data.signmoney&&0==this.data.apply_score)this.sginmoneyTxt.text="免费";else if(0==this.data.signmoney){var m=this.data.apply_score+this.data.service_score;this.sginmoneyTxt.text=""+m}else{var m=this.data.signmoney+this.data.service_gold;this.sginmoneyTxt.text=""+m}this.explainTxt.text=this.data.explain,1==this.data.serverstate||2==this.data.serverstate?"sng"==this.data.type||1==this.data.satellite?this.peopleNumTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.havepeople:"mtt"==this.data.type&&(this.peopleNumTxt.text=""+(this.data.cur_buy_count-this.data.over_people)+"/"+this.data.havepeople):"sng"==this.data.type||1==this.data.satellite?this.peopleNumTxt.text=""+this.data.havepeople+"/"+this.data.apply_max_people:"mtt"==this.data.type&&(this.peopleNumTxt.text=""+this.data.havepeople+"/"+this.data.apply_max_people,this.data.apply_max_people>9999&&(this.peopleNumTxt.text=""+this.data.havepeople)),2==this.data.state},i.prototype.mainAssetName=function(){return"spr_jbs_line_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touch,this),t.EventManager.removeCmd(t.Events.controlHContanier,this.controlHContanier,this)},i}(t.BasePanel);t.JbsLineUI=e,__reflect(e.prototype,"kelvin.texas.JbsLineUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;
return i.type=t,"common"==i.type?i.servertype=1:"wcaa"==i.type&&(i.servertype=2),i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),t.Tool.removeFromParent(this.chooseLine),this.titleSng=this.sngBtn.skin.$children[1],this.titleMtt=this.mttBtn.skin.$children[1],this.titleSng.verticalAlign="middle",this.titleMtt.verticalAlign="middle",t.Tool.removeFromParent(this.sngBtn),t.Tool.removeFromParent(this.mttBtn),this.pageView=new t.PagePanel(80,720),this.pageView.y=100,this.pageView.scrollViewH.setShowSize(t.App.stageWidth,t.App.stageHeight),this.pageView.scrollViewH.setScrollSize(t.App.stageWidth,t.App.stageHeight),this.addChild(this.pageView),"wcaa"==this.type&&(this.titleImg.texture=RES.getRes("img_img_pyqdz_wcaazq"),this.titleImg.x=250),t.MatchApi.getTitleConfig(this.servertype,this.getTitleInfo.bind(this)),this.dateUtils=new t.DateUtils,this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.delayTimeRun,this),this.timer.start(),t.EventManager.registerCmd(t.Events.backGame,this.backView,this),t.EventManager.registerCmd(t.Events.goToJBSMatch,this.switchJBSUI,this)},i.prototype.getTitleInfo=function(e){this.titleArr=[],this.uiArr=[];for(var i in e.title_list){var n=t.Tool.createTextFiled(0,0,null,70,e.title_list[i].name,28,16777215,"center");n.name=e.title_list[i].id,this.titleArr.push(n)}for(var i=0;i<this.titleArr.length;i++){var a=new t.BasePanel(!0);a.width=720,a.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-186),a.initDownRefresh(),a.setDownRefresh(this.refreshCall.bind(this)),this.uiArr.push(a),a.name=this.titleArr[i].name,this.pageView.addPage(this.titleArr[i],a,this.titleArr[i].name,this.getMatchInfo.bind(this))}this.infoArr={},this.lineUIArr={},this.titleArr[0]&&this.getMatchInfo(this.titleArr[0].name),this.updateAllUI()},i.prototype.updateAllUI=function(){this.chooseTitleId&&this.getMatchInfo(this.chooseTitleId)},i.prototype.getMatchInfo=function(e){null!=e&&void 0!=e&&(this.chooseTitleId=e,t.MatchApi.getMatchListWithType1(this.servertype,e,this.getInfoSuccess.bind(this)))},i.prototype.getInfoSuccess=function(e){var i=e.matchConfigs;this.infoArr[this.chooseTitleId]?this.infoArr[this.chooseTitleId]=[]:this.infoArr[this.chooseTitleId]=[];for(var n in i)if(""!=n&&(0==e.matchConfigs[n].state||1==e.matchConfigs[n].state||2==e.matchConfigs[n].state)){var a={id:e.matchConfigs[n].id,type:"",matchtype:this.type,signed:2,titie:e.matchConfigs[n].name,signmoney:e.matchConfigs[n].apply_gold,havepeople:e.matchConfigs[n].people,allpeople:e.matchConfigs[n].apply_max_people,explain:"",state:null,apply_date:null,apply_time:null,apply_date_end:null,apply_time_end:null,start_date:null,start_time:null,apply_delay_time:e.matchConfigs[n].apply_delay_time,serverstate:e.matchConfigs[n].state,init_game_score:e.matchConfigs[n].init_game_score,buy_count:e.matchConfigs[n].buy_count,mz_level:e.matchConfigs[n].mz_level,mz_interval:e.matchConfigs[n].mz_interval,reward:e.matchConfigs[n].reward,min_reward:e.matchConfigs[n].min_reward,cur_buy_count:e.matchConfigs[n].cur_buy_count,apply_score:e.matchConfigs[n].apply_score,apply_max_people:e.matchConfigs[n].apply_max_people,apply_max_mz_level:e.matchConfigs[n].apply_max_mz_level,table_people:e.matchConfigs[n].table_people,service_gold:e.matchConfigs[n].service_gold,service_score:e.matchConfigs[n].service_score,break_time_long:e.matchConfigs[n].break_time_long,break_interval:e.matchConfigs[n].break_interval,poker_score_rate:e.matchConfigs[n].poker_score_rate,reward_poker_score:e.matchConfigs[n].reward_poker_score,over_people:e.matchConfigs[n].over_people,match_start_time:e.matchConfigs[n].match_start_time,inMoneyCircle:e.matchConfigs[n].inMoneyCircle,start_time_str:e.matchConfigs[n].start_time,start_date_str:e.matchConfigs[n].start_date,master_points_id:e.matchConfigs[n].master_points_id,masterRule:e.masterRule,satellite:e.matchConfigs[n].satellite,player_buy_count:e.matchConfigs[n].player_buy_count,apply_time_str:e.matchConfigs[n].apply_time,ticket_cfgId:e.matchConfigs[n].ticket_cfgId,reBuyCount:0};e.reBuyCounts[a.id]&&(a.reBuyCount=e.reBuyCounts[a.id]),1==e.matchConfigs[n].type?a.type="sng":2==e.matchConfigs[n].type&&(a.type="mtt");var s=e.matchConfigs[n].apply_date,o=new Date(s).getTime();o-=288e5,a.apply_date=o;var r=e.matchConfigs[n].apply_date_end,h=new Date(r).getTime();h=h-288e5+864e5,a.apply_date_end=h;var l=new Date,c=t.DateUtils.formatDate(l),p=c+" "+e.matchConfigs[n].apply_time,u=new Date(p).getTime();a.apply_time=u;var d=c+" "+e.matchConfigs[n].apply_time_end,g=new Date(d).getTime();a.apply_time_end=g;var m=e.matchConfigs[n].start_date,f=new Date(m).getTime();f-=288e5,a.start_date=f;var v=c+" "+e.matchConfigs[n].start_time,_=new Date(v).getTime();a.start_time=_,this.infoArr[this.chooseTitleId].push(a)}for(var n=0;n<e.myMatchIds.length;n++)for(var y=0;y<this.infoArr[this.chooseTitleId].length;y++)e.myMatchIds[n]==this.infoArr[this.chooseTitleId][y].id&&(this.infoArr[this.chooseTitleId][y].signed=1);this.infoArr[this.chooseTitleId]=t.ArrayUtil.sortGameData(this.infoArr[this.chooseTitleId]),this.updataUI();for(var n=0;n<this.uiArr.length;n++)if(this.uiArr[n].name==this.chooseTitleId){this.uiArr[n].downRefreshOver();break}},i.prototype.updataUI=function(){if(this.lineUIArr[this.chooseTitleId]){for(var e=0;e<this.lineUIArr[this.chooseTitleId].length;e++)this.lineUIArr[this.chooseTitleId][e].dispose();this.lineUIArr[this.chooseTitleId]=[]}else this.lineUIArr[this.chooseTitleId]=[];for(var i,e=0;e<this.uiArr.length;e++)if(this.uiArr[e].name==this.chooseTitleId){i=this.uiArr[e];break}if(i){for(var e=0;e<this.infoArr[this.chooseTitleId].length;e++){var n=new t.JbsLineUI(this.infoArr[this.chooseTitleId][e],e);i.scrollView.container.addChild(n),n.y=183*e,this.lineUIArr[this.chooseTitleId].push(n)}i.scrollView.container.width=t.App.stageWidth,i.scrollView.container.height=183*this.infoArr[this.chooseTitleId].length,i.scrollView.setScrollSize(t.App.stageWidth,183*this.infoArr[this.chooseTitleId].length)}},i.prototype.refreshCall=function(){t.RefreshUI.ins.show(t.App.stageWidth/2,250),this.getMatchInfo(this.chooseTitleId)},i.prototype.switchJBSUI=function(){this.type="common",this.servertype=1,"common"==this.type&&(this.titleImg.texture=RES.getRes("img_img_pyqdz_jinbiaos_jbs"),this.titleImg.x=282.95)},i.prototype.delayTimeRun=function(){var t=this.lineUIArr[this.chooseTitleId];if(t)for(var e=0;e<t.length;e++)if(2==t[e].data.state){var i=1e3*t[e].data.match_start_time+1e3*t[e].data.apply_delay_time-(new Date).getTime(),n=this.dateUtils.getFormatBySecond(i/1e3);t[e].delayTxt.text=""+n}else t[e].delayTxt.text=""},i.prototype.backView=function(){this.updateAllUI()},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel(),t.EventManager.dispatchCmd(t.Events.gotoMatchView,null)},i.prototype.mainAssetName=function(){return"spr_jbs_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.delayTimeRun,this),t.EventManager.removeCmd(t.Events.backGame,this.backView,this),t.EventManager.removeCmd(t.Events.goToJBSMatch,this.switchJBSUI,this)},i}(t.BasePanel);t.JbsView=e,__reflect(e.prototype,"kelvin.texas.JbsView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.waccBtn=this.assetSwf().createButton("btn_wacc_join_btn"),this.jbsBtn=this.assetSwf().createButton("btn_jbs_join_btn"),this.waccBtn.touchScale=1.02,this.jbsBtn.touchScale=1.02,this.waccPeopleTxt=this.waccBtn.$children[0].getChildByName("peopleNumTxt"),this.jbsPeopleTxt=this.jbsBtn.$children[0].getChildByName("peopleNumTxt"),this.waccPeopleTxt.text=""+Math.ceil(1e3*Math.random()),this.jbsPeopleTxt.text=""+Math.ceil(1e3*Math.random()),this.scrollView.container.addChild(this.waccBtn),this.scrollView.container.addChild(this.jbsBtn),this.scrollView.scrollPolicyV="auto",this.waccBtn.x=11,this.waccBtn.y=195,this.jbsBtn.x=11,this.jbsBtn.y=670,this.scrollView.setScrollSize(t.App.stageWidth,this.jbsBtn.y+this.jbsBtn.height),this.jbsBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.on_jbsBtn,this),this.waccBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.on_waccBtn,this)},i.prototype.setPeopleNumTxt=function(t,e){this.waccPeopleTxt.text=""+t,this.jbsPeopleTxt.text=""+e},i.prototype.on_jbsBtn=function(e){t.PanelTween.pushPanel(new t.JbsView("common"))},i.prototype.on_waccBtn=function(e){t.PanelTween.pushPanel(new t.JbsView("wcaa"))},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.jbsBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.on_jbsBtn,this),this.jbsBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.on_waccBtn,this)},i}(t.BasePanel);t.MatchView=e,__reflect(e.prototype,"kelvin.texas.MatchView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.initState(),this.titleTxt.text="【"+this.data.title+"】 "+this.data.content,this.contentTxt.text="","sng"==this.data.type?this.sngImg.visible=!0:"mtt"==this.data.type?this.mttImg.visible=!0:(this.xtImg.visible=!0,this.ckxqBtn.visible=!0),this.timeTxt.text=this.data.time},i.prototype.initState=function(){this.jrpjBtn.visible=!1,this.ckxqBtn.visible=!1,this.sngImg.visible=!1,this.mttImg.visible=!1,this.xtImg.visible=!1},i.prototype.on_jrpjBtn=function(t){},i.prototype.on_ckxqBtn=function(e){lzm.Alert.alert(new t.NewsXqPopup(this.data))},i.prototype.mainAssetName=function(){return"spr_news_line_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.NewsLineUI=e,__reflect(e.prototype,"kelvin.texas.NewsLineUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.scrollView.y=100,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-100),t.RoleApi.getMessage(this.getInfo.bind(this))},i.prototype.getInfo=function(t){if(this.infoArr=[],t.msg)for(var e=0;e<t.msg.length;e++){var i=void 0;"getGold"==t.msg[e].tag?i={type:"xt",title:"系统提示："+t.msg[e].source,content:"金币"+t.msg[e].goldVal+"已返还",time:t.msg[e].gettime}:"getScore"==t.msg[e].tag&&(i={type:"xt",title:"系统提示："+t.msg[e].source,content:"积分"+t.msg[e].score+"已返还",time:t.msg[e].gettime}),i&&this.infoArr.push(i)}this.createUI()},i.prototype.createUI=function(){if(this.uiArr)for(var e=0;e<this.uiArr.length;e++)t.Tool.removeFromParent(this.uiArr[e]);this.uiArr=[];for(var e=0;e<this.infoArr.length;e++){var i=new t.NewsLineUI(this.infoArr[e]);this.scrollView.container.addChild(i),this.uiArr.push(i),i.y=170*e}this.scrollView.setScrollSize(t.App.stageWidth,170*this.infoArr.length),this.scrollView.viewport.scrollV=0},i.prototype.on_clearBtn=function(e){t.RoleApi.clearMessage(this.clearSuccess.bind(this))},i.prototype.clearSuccess=function(){t.ApiState.showText("清除成功"),this.infoArr=[],this.createUI()},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel(),t.EventManager.dispatchCmd(t.Events.gotoMatchView,null)},i.prototype.mainAssetName=function(){return"spr_news_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.NewsView=e,__reflect(e.prototype,"kelvin.texas.NewsView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i.data=e,i.createGameScene(),i}return __extends(e,t),e.prototype.createGameScene=function(){this.contentTxt.text=this.data.content,this.goldTxt.text="",this.contentTxt.verticalAlign="middle"},e.prototype.on_getBtn=function(t){this.dispose()},e.prototype.mainAssetName=function(){return"spr_news_xq_view"},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(t.BasePanel);t.NewsXqPopup=e,__reflect(e.prototype,"kelvin.texas.NewsXqPopup")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,!0)||this;return i.urlArr=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){var e=this;this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-100),this.scrollView.y=100,egret.setTimeout(function(){e.createImg()},this,100)},i.prototype.createImg=function(){return __awaiter(this,void 0,void 0,function(){var e,i,n,a;return __generator(this,function(s){switch(s.label){case 0:e=0,i=0,s.label=1;case 1:return i<this.urlArr.length?(n=new egret.Bitmap,n.x=8,n.width=t.App.stageWidth-16,a=n,[4,t.Tool.getTextureByUrlOrName(this.urlArr[i])]):[3,4];case 2:a.texture=s.sent(),n.y=e,this.scrollView.container.addChild(n),e+=n.height,this.scrollView.setScrollSize(t.App.stageWidth,e),s.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_active_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.NoticeInfo=e,__reflect(e.prototype,"kelvin.texas.NoticeInfo")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!1)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.imgurl=t.AccountData.loginData.alertNotice.titleUrl,console.log(t.AccountData.loginData.alertNotice.titleUrl),this.bgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,0),this.addChild(this.bgSp),this.bgSp.touchEnabled=!0,this.bgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.noticeimg=new egret.Bitmap,this.noticeimg.width=564,this.noticeimg.height=841,this.addChild(this.noticeimg),this.noticeimg.touchEnabled=!0,this.noticeimg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchNotice,this),this.noticeimg.x=t.App.stageWidth/2-this.noticeimg.width/2,this.noticeimg.y=t.App.stageHeight/2-70-this.noticeimg.height/2,this.whiteImg=t.Tool.createBitmapByName("img_img_gg_xz"),this.whiteImg.y=this.noticeimg.y+this.noticeimg.height+10,this.whiteImg.x=this.noticeimg.x+150,this.addChild(this.whiteImg),this.gouImg=t.Tool.createBitmapByName("img_img_gg_xz_dg"),this.gouImg.x=this.whiteImg.x+4,this.gouImg.y=this.whiteImg.y+6,this.addChild(this.gouImg),this.gouImg.visible=!1,this.txt=t.Tool.createTextFiled(this.whiteImg.x+0,this.whiteImg.y,300,40,"今日不在显示此消息",22,16777215,"center"),this.addChild(this.txt),this.txt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.choose,this),this.txt.touchEnabled=!0,this.closeBtn=this.assetSwf().createButton("btn_img_gg_gb"),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.closeBtn.x=this.whiteImg.x+35,this.closeBtn.y=this.whiteImg.y+80,this.addChild(this.closeBtn),this.createImg()},i.prototype.choose=function(){this.gouImg.visible=!this.gouImg.visible},i.prototype.createImg=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(i){switch(i.label){case 0:return e=this.noticeimg,[4,t.Tool.getTextureByUrlOrName(this.imgurl)];case 1:return e.texture=i.sent(),[2]}})})},i.prototype.touchNotice=function(e){t.AccountData.loginData.alertNotice&&t.AccountData.loginData.alertNotice.urls&&t.AccountData.loginData.alertNotice.urls.length>0&&(t.PanelTween.pushPanel(new t.NoticeInfo(t.AccountData.loginData.alertNotice.urls)),this.hide())},i.prototype.hide=function(){if(this.gouImg&&1==this.gouImg.visible){var e=new Date((new Date).toLocaleDateString()).getTime();t.TimeData.noticeTime=e}this.dispose()},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.noticeimg&&this.noticeimg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchNotice,this),this.bgSp&&this.bgSp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.closeBtn&&this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.txt&&this.txt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choose,this)},i}(t.BasePanel);t.NoticePopup=e,__reflect(e.prototype,"kelvin.texas.NoticePopup")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.scrollView.y=100,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-100),this.clearBtn.visible=!1,t.NoticeApi.getNotices(this.getInfo.bind(this))},i.prototype.getInfo=function(t){if(this.infoArr=[],null!=t.notices)for(var e in t.notices){var i={time:t.notices[e].gettime,imgurl:t.notices[e].url,name:"朋友圈德州",content:t.notices[e].text,title:t.notices[e].title};this.infoArr.push(i)}this.createUI()},i.prototype.createUI=function(){this.uiArr=[];for(var e=0,i=0;i<this.infoArr.length;i++){var n=new t.ActiveLineUI(this.infoArr[i]);this.scrollView.container.addChild(n),this.uiArr.push(n),n.y=700*i+e,e+=n.contentH}this.scrollView.setScrollSize(t.App.stageWidth,700*this.infoArr.length+e)},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_gonggao_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.NoticeView=e,__reflect(e.prototype,"kelvin.texas.NoticeView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i.data=e,i.createGameScene(),i}return __extends(e,t),e.prototype.createGameScene=function(){this.startTimeTxt.text=this.data.startTime,this.nameTxt.text=this.data.name,this.typeTxt.text=this.data.type,this.endTimeTxt.text=this.data.endTime,this.descTxt.text=this.data.desc,this.ysyBtn.isScale=!1,this.ygqBtn.isScale=!1,this.wsyBtn.isScale=!1,this.wsyBtn.visible=!1,this.ysyBtn.visible=!1,this.ygqBtn.visible=!1,1==this.data.state?this.wsyBtn.visible=!0:2==this.data.state?this.ysyBtn.visible=!0:3==this.data.state&&(this.ygqBtn.visible=!0),this.createImg()},e.prototype.createImg=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},e.prototype.mainAssetName=function(){return"spr_pack_line_ui"},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(t.BasePanel);t.PackLineUI=e,__reflect(e.prototype,"kelvin.texas.PackLineUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,!0)||this;return i.type=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),1==this.type?(this.historyBtn.visible=!0,this.titleTxt.text="背包"):(this.historyBtn.visible=!1,this.titleTxt.text="背包记录"),this.scrollView.y=100,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-100),this.getInfo(null)},i.prototype.getInfo=function(e){this.infoArr=[];var i=t.MatchData.getUserPropInfo();for(var n in i.data)for(var a in i.data[n]){var s=void 0,o=i.data[n][a];for(var r in i.configs)if(o.cfgId==i.configs[r].cfgId){s=i.configs[r];break}if(s){var h={name:s.name,startTime:t.DateUtils.formatDate(1e3*o.get_time),endTime:t.DateUtils.formatDate(1e3*o.get_time+1e3*s.expirationDate),type:s.describe1,desc:s.describe2,state:-1};if(0==o.type){var l=(new Date).getTime();l<=1e3*o.get_time+1e3*s.expirationDate?h.state=1:h.state=3}else 1==o.type&&(h.state=2);1==this.type?1==h.state&&this.infoArr.push(h):2==this.type&&(2==h.state||3==h.state)&&this.infoArr.push(h)}}this.createUI()},i.prototype.createUI=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(n){for(this.uiArr=[],e=0;e<this.infoArr.length;e++)i=new t.PackLineUI(this.infoArr[e]),this.uiArr.push(i),this.scrollView.container.addChild(i),i.y=240*e+20;return this.scrollView.setScrollSize(this.width,240*this.infoArr.length+10),[2]})})},i.prototype.on_historyBtn=function(e){t.PanelTween.pushPanel(new i(2))},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_pack_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.PackView=e,__reflect(e.prototype,"kelvin.texas.PackView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){var e=[{text:"你在"},{text:t.AccountData.loginData.lastWcaaReward[0],style:{textColor:13945099}},{text:"获得第"},{text:t.AccountData.loginData.lastWcaaReward[1],style:{textColor:13945099}},{text:"名奖金"},{text:t.AccountData.loginData.lastWcaaReward[2],style:{textColor:13945099}},{text:",需要登记领奖信息"}];this.contentTxt.textFlow=e,this.contentTxt.verticalAlign="middle",this.contentTxt.lineSpacing=4},i.prototype.on_goBtn=function(e){this.dispose(),lzm.Alert.alert(new t.GetPrizeView)},i.prototype.mainAssetName=function(){return"spr_getprize_popup_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.GetPrizePopup=e,__reflect(e.prototype,"kelvin.texas.GetPrizePopup")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=!1);var n=e.call(this)||this;return n.callback=t,n.isgame=i,n.createGameScene(),n}return __extends(i,e),i.prototype.createGameScene=function(){if(t.Tool.replaceSwfTxt("nameTxt",this),t.Tool.replaceSwfTxt("idcardTxt",this),t.Tool.replaceSwfTxt("zfbTxt",this),this.nameInputTxt=new t.InputText(this.nameTxt),this.idcardInputTxt=new t.InputText(this.idcardTxt),this.zfbInputTxt=new t.InputText(this.zfbTxt),this.nameTxt.text="请输入姓名",this.idcardTxt.text="请输入身份证号",this.zfbTxt.text="请输入支付宝账号",this.nameInputTxt.setDefaultText("请输入姓名",16777215),this.idcardInputTxt.setDefaultText("请输入身份证号",16777215),this.zfbInputTxt.setDefaultText("请输入支付宝账号",16777215),this.text=this.submitBtn.$children[0].$children[1],1==this.isgame&&(this.closeBtn.visible=!1),t.ExtGameHelper.isSetPrizeInfo()){this.text.text="修改";var e=t.RoleData.getRolePrizeInfo();this.nameTxt.text=e.name,this.idcardTxt.text=e.pid,this.zfbTxt.text=e.aliAccount,this.nameInputTxt.setDefaultText(e.name,16777215),this.idcardInputTxt.setDefaultText(e.pid,16777215),this.zfbInputTxt.setDefaultText(e.aliAccount,16777215)}},i.prototype.on_submitBtn=function(e){var i=t.RoleData.getRolePrizeInfo();return""==this.nameTxt.text||"请输入姓名"==this.nameTxt.text?void t.ApiState.showText("请输入姓名"):""==this.idcardTxt.text||"请输入身份证号"==this.idcardTxt.text?void t.ApiState.showText("请输入身份证号"):""==this.zfbTxt.text||"请输入支付宝账号"==this.zfbTxt.text?void t.ApiState.showText("请输入支付宝账号"):void(i?this.nameTxt.text!=i.name||this.idcardTxt.text!=i.pid||this.zfbTxt.text!=i.aliAccount?t.RoleApi.updateRewardInfo(this.nameTxt.text,this.idcardTxt.text,this.zfbTxt.text,this.subminSuccess.bind(this)):t.ApiState.showText("请修改后再点击按钮"):t.RoleApi.updateRewardInfo(this.nameTxt.text,this.idcardTxt.text,this.zfbTxt.text,this.subminSuccess.bind(this)))},i.prototype.subminSuccess=function(e){t.ApiState.showText("提交成功"),this.dispose()},i.prototype.mainAssetName=function(){return"spr_submit_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.callback&&this.callback()},i}(t.BasePanel);t.GetPrizeView=e,__reflect(e.prototype,"kelvin.texas.GetPrizeView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.$children[0],this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.idTxt.text=t.RoleData.getRole().uid,this.nameTxt.text=t.RoleData.getRole().name,this.createChangeHeadUI(),this.createImgUI(),this.hideChooseHeadUI(),this.updateHeadImg()},i.prototype.createChangeHeadUI=function(){this.headBgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),this.addChild(this.headBgSp),this.headBgSp.touchEnabled=!0,this.headBgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hideChooseHeadUI,this),this.headSp=new egret.Sprite,this.addChild(this.headSp);var e=t.Tool.createBitmapByName("img_img_gersz_tc");this.headSp.width=e.width,this.headSp.height=e.height,this.headSp.addChild(e),this.headSp.x=50,this.headSp.y=(t.App.stageHeight-this.headSp.height)/2,this.scrollview=new eui.Scroller,this.scrollview.scrollPolicyH="off",this.scrollview.scrollPolicyV="auto",this.scrollview.width=this.headSp.width,this.scrollview.height=this.headSp.height-20,this.scrollview.y=10,this.headSp.addChild(this.scrollview),this.scSp=new eui.Group,this.scrollview.viewport=this.scSp,this.scImg=new eui.Image,this.scImg.width=this.scrollview.width,this.scSp.addChild(this.scImg)},i.prototype.showChooseHeadUI=function(){this.headBgSp.visible=!0,this.headSp.visible=!0},i.prototype.hideChooseHeadUI=function(){this.headBgSp.visible=!1,this.headSp.visible=!1},i.prototype.createImgUI=function(){return __awaiter(this,void 0,void 0,function(){var e,i,n,a,s,i;return __generator(this,function(o){switch(o.label){case 0:this.imgArr=[],e=-1,i=0,o.label=1;case 1:return 6>i?(i%3==0&&e++,n=new egret.Bitmap,a="head_"+(i+1)+"_png",s=n,[4,t.Tool.getTextureByUrlOrName(a)]):[3,4];case 2:s.texture=o.sent(),n.name=a,n.x=130*(i-3*e)+130,n.y=170*e+55,n.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touImg,this),n.touchEnabled=!0,this.scSp.addChild(n),this.imgArr.push(n),o.label=3;case 3:return i++,[3,1];case 4:for(this.scImg.height=170*(e+1)+75,this.frame=t.Tool.createBitmapByName("img_img_gersz_xzk"),this.scSp.addChild(this.frame),this.frame.visible=!1,i=0;i<this.imgArr.length;i++)if(this.imgArr[i].name==t.RoleData.getRole().head){this.frame.visible=!0,this.frame.x=this.imgArr[i].x-12,this.frame.y=this.imgArr[i].y-12;break}return this.initImg(),[2]}})})},i.prototype.touImg=function(e){t.RoleData.getRole().head=e.target.name,this.frame.visible=!0,this.frame.x=e.target.x-12,this.frame.y=e.target.y-12,this.updateHeadImg()},i.prototype.initImg=function(){t.RoleData.getRole().head||(t.RoleData.getRole().head="head_1_png"),this.frame.visible=!0,this.frame.x=this.imgArr[0].x-12,this.frame.y=this.imgArr[0].y-12,this.updateHeadImg()},i.prototype.updateHeadImg=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(i){switch(i.label){case 0:return t.RoleData.getRole().head?(this.showHead||(this.showHead=new egret.Bitmap,this.view.addChild(this.showHead),this.showHead.width=187,this.showHead.height=187,t.Tool.center(this.showHead),this.showHead.x=t.App.stageWidth/2,this.showHead.y=250),[4,t.Tool.getTextureByUrlOrName(t.RoleData.getRole().head)]):[2];case 1:return e=i.sent(),this.showHead.texture=e,[2]}})})},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.on_chooseXtBtn=function(t){this.showChooseHeadUI()},i.prototype.on_chooseZdyBtn=function(t){},i.prototype.mainAssetName=function(){return"spr_personal_info_view"},i.prototype.dispose=function(){if(e.prototype.dispose.call(this),this.headBgSp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hideChooseHeadUI,this),this.imgArr)for(var t=0;t<this.imgArr.length;t++)this.imgArr[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touImg,this)},i}(t.BasePanel);t.PersonalInfo=e,__reflect(e.prototype,"kelvin.texas.PersonalInfo")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),this.bgSp.touchEnabled=!0,this.bgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.addChildAt(this.bgSp,0),this.view=this.$children[1],this.bg.touchEnabled=!0,this.changeHeadBtn.isScale=!1,this.nameTxt.text=t.RoleData.getRole().name,this.idTxt.text=t.RoleData.getRole().uid,this.view.visible=!1,this.view.y=(t.App.stageHeight-this.view.height)/2,this.initHead()},i.prototype.initHead=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(n){switch(n.label){case 0:return e=t.RoleData.getRole().head,e||(e="head_1_png"),this.headImg=new egret.Bitmap,[4,t.Tool.getTextureByUrlOrName(e)];case 1:return i=n.sent(),this.headImg.texture=i,this.headImg.width=this.changeHeadBtn.width-20,this.headImg.height=this.changeHeadBtn.height-20,this.headSp=t.Tool.createCircularMask(this.headImg,this.changeHeadBtn.x+10,this.changeHeadBtn.y+10),this.view.addChild(this.headSp),[2]}})})},i.prototype.show=function(){this.view.x=-this.view.width,this.view.visible=!0,egret.Tween.get(this.view).to({x:0},250)},i.prototype.hide=function(){var e=this;egret.Tween.get(this.view).to({x:-this.view.width},250).call(function(){e.dispose(),t.EventManager.dispatchCmd(t.Events.gotoMatchView,null)},this)},i.prototype.on_changeHeadBtn=function(t){},i.prototype.on_zjBtn=function(e){t.PanelTween.pushPanel(new t.RankView)},i.prototype.on_bbBtn=function(e){t.PanelTween.pushPanel(new t.PackView(1))},i.prototype.on_hjxxdjBtn=function(e){lzm.Alert.alert(new t.GetPrizeView)},i.prototype.on_szBtn=function(e){t.PanelTween.pushPanel(new t.SetView)},i.prototype.mainAssetName=function(){return"spr_personal_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.bgSp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},i}(t.BasePanel);t.PersonalView=e,__reflect(e.prototype,"kelvin.texas.PersonalView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.type=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.btnTxt=this.goBtn.skin.getChildByName("btntxt"),1==this.type?(this.promptTxt.text="金币不足，补充金币参与比赛",this.btnTxt.text="确定"):2==this.type&&(this.promptTxt.text="参赛积分不足，请前往平台金标赛参与比赛获得积分",this.btnTxt.text="前往锦标赛")},i.prototype.on_goBtn=function(e){t.ExtGameHelper.extGamePanel?2==this.type?(t.EventManager.dispatchCmd(t.Events.goToJBSMatch,null),t.ExtGameHelper.exitExtGamePanel()):1==this.type&&(t.EventManager.dispatchCmd(t.Events.goToShop,null),t.PanelTween.popPanel(),t.PanelTween.pushPanel(new t.ShopView),t.ExtGameHelper.exitExtGamePanel()):2==this.type?(t.EventManager.dispatchCmd(t.Events.goToJBSMatch,null),t.PanelTween.popPanel()):1==this.type&&(t.EventManager.dispatchCmd(t.Events.goToShop,null),t.PanelTween.pushPanel(new t.ShopView)),this.dispose()},i.prototype.mainAssetName=function(){return"spr_prompt_apply_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.ApplyPrompt=e,__reflect(e.prototype,"kelvin.texas.ApplyPrompt")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.assetSwf().createSprite("spr_rank_list_line_ui"),this.addChild(this.view),this.width=this.view.width,this.height=this.view.height-10,this.headImg=this.view.getChildByName("headImg"),this.nameTxt=this.view.getChildByName("nameTxt"),this.resultTxt=this.view.getChildByName("resultTxt"),this.rankingTxt=this.view.getChildByName("rankingTxt"),this.rankimg3Img=this.view.getChildByName("rankimg3Img"),this.rankimg2Img=this.view.getChildByName("rankimg2Img"),this.rankimg1Img=this.view.getChildByName("ranking1Img"),this.bgImg=this.view.getChildByName("bgImg"),this.line=this.view.getChildByName("line"),this.goldImg=this.view.getChildByName("goldImg"),this.scoreImg=this.view.getChildByName("scoreImg")
},i.prototype.setData=function(t){this.data=t,this.dataChanged(),this.bgImg.visible=!0},i.prototype.dataChanged=function(){this.data&&(this.initState(),this.showUI(),this.showHead())},i.prototype.showUI=function(){this.nameTxt.text=this.data.name,this.resultTxt.text=this.data.result,this.resultTxt.verticalAlign="middle",this.resultTxt.text=""+this.data.reward,1==this.data.rank?this.rankimg1Img.visible=!0:2==this.data.rank?this.rankimg2Img.visible=!0:3==this.data.rank?this.rankimg3Img.visible=!0:this.rankingTxt.text=""+this.data.rank,2==this.data.reward_type?this.goldImg.visible=!0:this.scoreImg.visible=!0},i.prototype.showHead=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(i){switch(i.label){case 0:return null==this.data.headurl&&(this.data.headurl="head_1_png"),this.data.headurl?(e=this.headImg,[4,t.Tool.getTextureByUrlOrName(this.data.headurl)]):[3,2];case 1:e.texture=i.sent(),this.headImg.width=this.headImg.height=80,i.label=2;case 2:return[2]}})})},i.prototype.initState=function(){this.bgImg.visible=!1,this.line.visible=!0,this.headImg.texture=RES.getRes("img_img_zjixiangq_toux"),this.rankimg1Img.visible=!1,this.rankimg2Img.visible=!1,this.rankimg3Img.visible=!1,this.rankingTxt.text="",this.goldImg.visible=!1,this.scoreImg.visible=!1},i.prototype.assetSwf=function(){return t.AssetManager.mainSwf},i}(eui.ItemRenderer);t.RankInfoListLine=e,__reflect(e.prototype,"kelvin.texas.RankInfoListLine")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,!0)||this;return i.data=t,i.switchData(),i.createGameScene(),i}return __extends(i,e),i.prototype.switchData=function(){},i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),t.MatchApi.getMatchZhanji(this.data.zhanjiId,this.getInfo.bind(this))},i.prototype.getInfo=function(e){this.data.title=e.zhanji.match.name,this.data.time=t.DateUtils.timestampToTime(e.zhanji.match.match_start_time),this.data.matchJoinNum=e.zhanji.match.people,this.data.matchJackpot=e.zhanji.match.cur_buy_count,this.data.allPeople=Object.keys(e.roles).length,this.data.matchTime=e.zhanji.endTime-e.zhanji.match.match_start_time;var i=[];for(var n in e.zhanji.logs){var a={rank:Number(n),reward:e.zhanji.logs[n].reward,uid:e.zhanji.logs[n].uid,name:e.roles[e.zhanji.logs[n].uid].name,headurl:e.roles[e.zhanji.logs[n].uid].head,result:"",matchtype:"",reward_type:this.data.reward_type};1==e.zhanji.match.type1?a.matchtype="common":a.matchtype="wcaa",i.push(a)}this.data.list=i,this.titleTxt.text=this.data.title,this.timeTxt.text=this.data.time,this.matchJoinNumTxt.text=this.data.matchJoinNum;var s=e.zhanji.match.reward;s<e.zhanji.match.min_reward&&(s=e.zhanji.match.min_reward),this.matchJackpotTxt.text=s,this.matchWinTxt.text=this.data.matchWin,this.matchLiveTxt.text=this.data.matchLive,this.allPeopleTxt.text="玩家";var o=new t.DateUtils;this.matchTimeTxt.text=o.getFormatBySecond(this.data.matchTime),this.selfData={uid:t.RoleData.getRole().uid,headurl:t.RoleData.getRole().head,rank:this.data.rank,reward:this.data.reward,result:"",name:t.RoleData.getRole().name,matchtype:"",reward_type:this.data.reward_type},1==e.zhanji.match.type1?this.selfData.matchtype="common":this.selfData.matchtype="wcaa",this.selfLine=new t.RankInfoListLine,this.selfLine.setData(this.selfData),this.addChild(this.selfLine),this.selfLine.y=435,this.createList()},i.prototype.createList=function(){this.list=new eui.List,this.list.width=t.App.stageWidth,this.list.itemRenderer=t.RankInfoListLine;for(var e=new eui.ArrayCollection,i=0;i<this.data.list.length;i++)e.addItem(this.data.list[i]);this.list.layout=new eui.VerticalLayout,this.list.dataProvider=e,this.scrollView.y=555,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-435-120),this.scrollView.viewport=this.list},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_rank_info_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.RankInfoView=e,__reflect(e.prototype,"kelvin.texas.RankInfoView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.data=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.rect=t.Tool.createRectSprite(this.width,this.height,0,0,0,0),this.addChildAt(this.rect,0),this.rankTxt=this.jbBtn.skin.getTextField("rankTxt"),this.initState(),this.upDateUI(),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touch,this)},i.prototype.touch=function(e){t.PanelTween.pushPanel(new t.RankInfoView(this.data))},i.prototype.initState=function(){this.mttIcon.visible=!1,this.sngIcon.visible=!1,this.goldImg.visible=!1,this.scoreImg.visible=!1},i.prototype.upDateUI=function(){"sng"==this.data.type?this.sngIcon.visible=!0:"mtt"==this.data.type&&(this.mttIcon.visible=!0),this.timeTxt.text=this.data.time,this.data.buy?(this.buyTxt.text=""+this.data.buy,"wcaa"==this.data.matchtype?this.buyTxt.text=this.buyTxt.text+"(积分)":this.buyTxt.text=this.buyTxt.text+"(金币)"):this.buyTxt.text="0",this.titleTxt.text=this.data.title,this.peopleTxt.text=this.data.matchJackpot,this.rankTxt.text=""+this.data.rank,this.scroeTxt.text=""+this.data.score,0==this.data.score?this.scroeTxt.textColor=16777215:this.data.score<0?this.scroeTxt.textColor=50697:this.scroeTxt.textColor=15043584,2==this.data.reward_type?this.goldImg.visible=!0:this.scoreImg.visible=!0},i.prototype.mainAssetName=function(){return"spr_rank_line_ui"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touch,this)},i}(t.BasePanel);t.RankLine=e,__reflect(e.prototype,"kelvin.texas.RankLine")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.chooseTypeArr=[{name:"sng",type:1},{name:"mtt",type:2}],t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.view=this.$children[1],this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.isdrop_down=!1,this.allBtn.touchEnabled=!0,this.allBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchChoose,this),this.downImg.visible=!1,this.createChooseSp(),this.scrollView.y=165,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-165),t.MatchApi.getRoleZhanJi(this.getInfo.bind(this))},i.prototype.getInfo=function(e){if(this.infoArr=[],e.logs)for(var i=0;i<e.logs.length;i++){var n={type:"sng",time:t.DateUtils.timestampToTime(e.logs[i].startTime),title:e.logs[i].title,buy:e.logs[i].buy,rank:e.logs[i].rank,matchid:e.logs[i].mid,zhanjiId:e.logs[i].zhanjiId,matchWin:e.logs[i].winCount,reward:e.logs[i].reward,matchLive:e.logs[i].totalCount,matchJackpot:e.logs[i].people,score:e.logs[i].reward,reward_type:e.logs[i].rewardType,matchtype:""};1==e.logs[i].type?n.type="sng":2==e.logs[i].type&&(n.type="mtt"),1==e.logs[i].type1?n.matchtype="common":n.matchtype="wcaa",this.infoArr.push(n)}this.updateUI("all")},i.prototype.updateUI=function(e){if(this.uiArr)for(var i=0;i<this.uiArr.length;i++)this.uiArr[i].dispose();this.uiArr=[];var n=[];if("all"==e)for(var i=0;i<this.infoArr.length;i++)n.push(this.infoArr[i]);else for(var i=0;i<this.infoArr.length;i++)this.infoArr[i].type==e&&n.push(this.infoArr[i]);for(var i=0;i<n.length;i++){var a=new t.RankLine(n[i]);this.scrollView.container.addChild(a),this.uiArr.push(a),a.y=165*i}this.scrollView.setScrollSize(t.App.stageWidth,165*this.infoArr.length),this.scrollView.viewport.scrollV=0},i.prototype.createChooseSp=function(){this.chooseUIArr=[],this.chooseSp=new egret.Sprite,this.choosebg=t.Tool.createBitmapByName("img_img_zj_xailk"),this.chooseSp.addChild(this.choosebg);for(var e=70,i=0;i<this.chooseTypeArr.length;i++){var n=new egret.Sprite,a=t.Tool.createRectSprite(this.width,e,0,0,0,0);a.name=String(this.chooseTypeArr[i].name),a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchRect,this),this.chooseUIArr.push(a),n.addChild(a);var s=t.Tool.createBitmapByName("img_img_zj_fjx");n.addChild(s);var o=t.Tool.createTextFiled(30,15,200,30,this.chooseTypeArr[i].name,28,10987431,"left");n.addChild(o),n.y=i*e+e,this.chooseSp.addChild(n)}this.choosebg.scale9Grid=new egret.Rectangle(20,20,this.choosebg.width-20,this.choosebg.height-20),this.choosebg.height=this.chooseTypeArr.length*e+e,this.chooseSp.width=this.choosebg.width,this.chooseSp.height=this.choosebg.height,this.maskSc=new t.ScrollView,this.maskSc.scrollPolicyV="off",this.maskSc.scrollPolicyH="off",this.view.addChildAt(this.maskSc,0),this.maskSc.setShowSize(this.width,e),this.maskSc.container.addChild(this.chooseSp),this.maskSc.y=this.allBtn.y,this.chooseSp.visible=!1},i.prototype.touchRect=function(t){this.updateUI(t.target.name),this.touchChoose(null)},i.prototype.touchChoose=function(t){this.isdrop_down=!this.isdrop_down,this.upImg.visible=!this.isdrop_down,this.downImg.visible=this.isdrop_down,1==this.isdrop_down?this.showChoose():this.hideChoose()},i.prototype.showChoose=function(){this.chooseSp.visible=!0,this.allBtn.alpha=0,egret.Tween.removeTweens(this.maskSc),egret.Tween.get(this.maskSc).to({height:this.chooseSp.height},100)},i.prototype.hideChoose=function(){var t=this,e=70;egret.Tween.removeTweens(this.maskSc),egret.Tween.get(this.maskSc).to({height:e},100).call(function(){t.chooseSp.visible=!1,t.allBtn.alpha=1},this)},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.mainAssetName=function(){return"spr_rank_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.allBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchChoose,this)},i}(t.BasePanel);t.RankView=e,__reflect(e.prototype,"kelvin.texas.RankView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),Object.defineProperty(i,"ins",{get:function(){return i._ins||(i._ins=new i),i._ins},enumerable:!0,configurable:!0}),i.prototype.createGameScene=function(){this.loadImg=t.Tool.createBitmapByName("img_pyqdz_gongyong_jiaz"),this.addChild(this.loadImg),t.Tool.center(this.loadImg),this.loadImg.x=t.App.stageWidth/2,this.loadImg.y=t.App.stageHeight/2,this.loadImg.visible=!1},i.prototype.show=function(e,i){void 0===e&&(e=t.App.stageWidth/2),void 0===i&&(i=t.App.stageHeight/2),egret.Tween.removeTweens(this.loadImg),this.loadImg.x=e,this.loadImg.y=i,this.loadImg.visible=!0,this.loadImg.scaleX=this.loadImg.scaleY=.5,egret.Tween.get(this.loadImg).to({scaleX:1,scaleY:1},100),egret.Tween.get(this.loadImg,{loop:!0}).to({rotation:360},500)},i.prototype.hide=function(){var t=this;egret.Tween.removeTweens(this.loadImg),egret.Tween.get(this.loadImg,{loop:!0}).to({rotation:360},500),egret.Tween.get(this.loadImg).to({scaleX:.5,scaleY:.5},100).call(function(){t.loadImg.visible=!1,egret.Tween.removeTweens(t.loadImg)},this)},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.RefreshUI=e,__reflect(e.prototype,"kelvin.texas.RefreshUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){var e=this;this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.back2Btn.y=t.App.stageHeight-120,this.verTxt.y=t.App.stageHeight-280,this.verBg.y=this.verTxt.y-35,t.NativeBase.registerCmd("onAppUpdate",function(i){t.Log.log("版本号:"+i),e.verTxt.text=i},this),t.NativeTools.appUpdate(),this.initState(),this.upState()},i.prototype.initState=function(){this.mopenBtn.visible=!1,this.mcloseBtn.visible=!1,this.mopenTxt.visible=!1,this.mcloseTxt.visible=!1,this.gopenBtn.visible=!1,this.gcloseBtn.visible=!1,this.gopenTxt.visible=!1,this.gcloseTxt.visible=!1},i.prototype.upState=function(){1==t.VoiceData.musicNum?(this.mopenTxt.visible=!0,this.mcloseBtn.visible=!0):(this.mcloseTxt.visible=!0,this.mopenBtn.visible=!0),1==t.VoiceData.soundNum?(this.gopenTxt.visible=!0,this.gcloseBtn.visible=!0):(this.gcloseTxt.visible=!0,this.gopenBtn.visible=!0)},i.prototype.on_mopenBtn=function(e){t.VoiceData.musicNum=1,this.initState(),this.upState(),t.SoundManager.setMessageState(!1)},i.prototype.on_mcloseBtn=function(e){t.VoiceData.musicNum=0,this.initState(),this.upState(),t.SoundManager.setMessageState(!0)},i.prototype.on_gopenBtn=function(e){t.VoiceData.soundNum=1,this.initState(),this.upState(),t.SoundManager.setSoundMute(!1)},i.prototype.on_gcloseBtn=function(e){t.VoiceData.soundNum=0,this.initState(),this.upState(),t.SoundManager.setSoundMute(!0)},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel()},i.prototype.on_back2Btn=function(e){t.AccountData.isNeedAutomaticLogin="1",t.ExtGameHelper.homePanel.gotoPanel(new t.LoginView)},i.prototype.mainAssetName=function(){return"spr_set_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.SetView=e,__reflect(e.prototype,"kelvin.texas.SetView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i.data=e,i.createGameScene(),i}return __extends(e,t),e.prototype.createGameScene=function(){this.rmbTxt=this.buyBtn.skin.$children[1],this.goldTxt.text=""+this.data.gold,this.rmbTxt.text=""+this.data.rmb+"元"},e.prototype.on_buyBtn=function(t){},e.prototype.mainAssetName=function(){return"spr_shop_min_ui"},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(t.BasePanel);t.ShopMinUI=e,__reflect(e.prototype,"kelvin.texas.ShopMinUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this,!0)||this;return t.createGameScene(),t}return __extends(i,e),i.prototype.createGameScene=function(){this.bg=t.Tool.createBitmapByName("img_pyqdz_beij",!0,0,0,t.App.stageWidth,t.App.stageHeight),this.addChildAt(this.bg,0),this.scrollView.y=120,this.scrollView.setShowSize(t.App.stageWidth,t.App.stageHeight-150),this.getInfo(),this.createUI()},i.prototype.getInfo=function(){this.infoArr=[],this.infoArr=[{gold:1e3,rmb:10},{gold:1e3,rmb:10},{gold:1e3,rmb:10},{gold:1e3,rmb:10},{gold:1e3,rmb:10},{gold:1e3,rmb:10},{gold:1e3,rmb:10},{gold:1e3,rmb:10}]},i.prototype.createUI=function(){this.uiArr=[];for(var e=-1,i=0;i<this.infoArr.length;i++){i%3==0&&e++;var n=new t.ShopMinUI(this.infoArr[i]);this.scrollView.container.addChild(n),this.uiArr.push(n),n.y=400*e,n.x=238*(i-3*e)+20}this.scrollView.setScrollSize(t.App.stageWidth,400*Math.ceil(this.infoArr.length/3))},i.prototype.on_backBtn=function(e){t.PanelTween.popPanel(),t.EventManager.dispatchCmd(t.Events.gotoMatchView,null)},i.prototype.mainAssetName=function(){return"spr_shop_view"},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.BasePanel);t.ShopView=e,__reflect(e.prototype,"kelvin.texas.ShopView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(e){var i=function(){function i(){}return i.show=function(t){i.stateTxt[t]?i.showText(i.stateTxt[t]):i.showText(t)},i.showText=function(i){e.Log.log("ApiStateText:"+i);var n;"string"==typeof i?n=t.texas.Tool.createTextFiled(0,0,800,80,i,30,16777215,"center"):(n=t.texas.Tool.createTextFiled(0,0,800,80,"",30,16777215,"center"),n.textFlow=i),n.verticalAlign="middle",t.texas.Tool.center(n);var a=t.texas.Tool.createBitmapByName("img_youxdat_tistanchuang_png");a.scale9Grid=new egret.Rectangle(a.width/2-5,0,10,0);var s=n.textWidth-100;0>s&&(s=0),a.width=a.width+s;var o=new egret.Sprite;o.width=a.width,o.height=a.height,o.addChild(a),o.addChild(n),n.x=o.width/2,n.y=o.height/2,t.texas.Tool.center(o),o.x=e.App.stageWidth/2-512,o.y=e.App.stageHeight/2,o.alpha=0,e.App.isLandscape&&(o.rotation=e.App.getRotationValue()),e.Starup.stageSp.promptSp.addChild(o),egret.Tween.get(o).to({x:e.App.stageWidth/2,alpha:1},200).wait(1500).call(function(){t.texas.Tool.removeFromParent(o)},this,[o])},i.stateTxt={"-1":"api错误","-2":"方法传递错误","-3":"参数不足","-4":"参数非法","-5":"请先登陆","-6":"用户不存在","-7":"用户名已经存在","-8":"账户已存在","-9":"已被封号","-10":"密码错误","-11":"金币不足","-12":"不是报名时间","-13":"延迟报名结束","-14":"盲注等级过大不能报名了","-15":"已经报名","-16":"门票不足","-17":"报名人数已满","-18":"房间ID错误","-19":"比赛id错误","-20":"奖励圈人数已确定，停止报名","-21":"60秒只能获取一次短信验证码","-22":"验证码错误","-23":"买入次数达到上限"},i}();e.ApiState=i,__reflect(i.prototype,"kelvin.texas.ApiState")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(e,i,n,a){void 0===i&&(i=null),void 0===n&&(n=null),void 0===a&&(a="提示");var s=t.call(this)||this;return s.contentStr=e,s.titleStr=a,s.fail=n,s.success=i,s.createGameScene(),s}return __extends(e,t),e.prototype.createGameScene=function(){null==this.fail&&null==this.success?(this.sureBtn.visible=!1,this.cancelBtn.visible=!1):null==this.fail?(this.sureBtn.x=230,this.cancelBtn.visible=!1):null==this.success&&(this.cancelBtn.x=230,this.sureBtn.visible=!1),this.contentText.verticalAlign="middle",this.contentText.wordWrap=!0,this.addChild(this.contentText),this.contentText.lineSpacing=10,"string"==typeof this.contentStr?this.contentText.text=this.contentStr:this.contentText.textFlow=this.contentStr,"string"==typeof this.titleStr?this.titleTxt.text=this.titleStr:this.titleTxt.textFlow=this.titleStr},e.prototype.on_sureBtn=function(t){this.success&&this.success(),this.dispose()},e.prototype.on_cancelBtn=function(t){this.fail&&this.fail(),this.dispose()},e.prototype.mainAssetName=function(){return"spr_gongyongtanchuang_scene"},e}(t.BasePanel);t.CommonPopup=e,__reflect(e.prototype,"kelvin.texas.CommonPopup")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(e,i){void 0===i&&(i=!0);var n=t.call(this)||this;return n._isClear=!0,n._ispassword=!1,n.issingle=i,n.inputText=e,n.inputText.verticalAlign="top",n.inputText.multiline=!0,n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.dispose,n),n.createGameScene(),n}return __extends(e,t),e.prototype.createGameScene=function(){this.width=this.inputText.width,this.height=this.inputText.height,this.x=this.inputText.x,this.y=this.inputText.y,this.inputText.x=0,this.inputText.y=0;var t=this.inputText.parent;this.addChild(this.inputText),t&&t.addChild(this),this.inputText.type="input",this.addEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.addEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this),this.inColor=this.inputText.textColor,this.outColor=this.inputText.textColor,1==this.issingle},e.prototype.addSingle=function(){this.changesingle=!1;document.addEventListener("keydown",function(t){"Enter"==t.key&&t.preventDefault()})},e.prototype.focusIn=function(){this.inputText.textColor=this.inColor,this.changesingle=!0,this.inCallBack&&(this.inself?this.inCallBack(this.inself):this.inCallBack()),"number"==typeof this.isClear&&this.isClear>=1&&(this.inputText.text="",this.isClear--),1==this.isClear&&(this.inputText.text="")},e.prototype.focusOut=function(){this.changesingle=!1,this.inputText.textColor=this.outColor,""==this.inputText.text&&this.defaultStr&&((this.frequency>=1||this.frequency<0)&&(this.inputText.text=this.defaultStr),this.frequency>=1&&this.frequency--),this.outCallBack&&(this.outself?this.outCallBack(this.outself):this.outCallBack())},Object.defineProperty(e.prototype,"isClear",{get:function(){return this._isClear},set:function(t){this._isClear=t},enumerable:!0,configurable:!0}),e.prototype.setInPutColor=function(t){this.inColor=t},e.prototype.setOutPutColor=function(t){this.outColor=t},e.prototype.setDefaultText=function(t,e){void 0===e&&(e=-1),this.defaultStr=t,this.frequency=e},e.prototype.setInCallBack=function(t,e){this.inCallBack=t,this.inself=e},e.prototype.setOutCallBack=function(t,e){this.outCallBack=t,this.outself=e},Object.defineProperty(e.prototype,"ispassword",{get:function(){return this._ispassword},set:function(t){this._ispassword=t,1==t?(this.inputText.displayAsPassword=!0,this.inputText.displayAsPassword=!0):(this.inputText.displayAsPassword=!1,this.inputText.displayAsPassword=!1)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.dispose,this),this.removeEventListener(egret.FocusEvent.FOCUS_IN,this.focusIn,this),this.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.focusOut,this)},e}(egret.DisplayObjectContainer);t.InputText=e,__reflect(e.prototype,"kelvin.texas.InputText")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.gameloadui=new t.LoadGameUI,i.netLoad=new t.NetLoadUI,i.loadBg=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),i.loadBg.touchEnabled=!0,i}return __extends(i,e),Object.defineProperty(i,"ins",{get:function(){return i._instance||(i._instance=new i),i._instance},enumerable:!0,configurable:!0}),i.prototype.show=function(e){t.Starup.stageSp.addChild(this.loadBg),1==e?this.gameloadui.show():2==e&&this.netLoad.show()},i.prototype.showText=function(t){},i.prototype.hide=function(){t.Tool.removeFromParent(this.loadBg),this.gameloadui.hide(),this.netLoad.hide()},i.prototype.setProgress=function(t){this.gameloadui.setProgress(t)},i.prototype.touchBtn=function(t){},i}(egret.Sprite);t.LoadingUI=e,__reflect(e.prototype,"kelvin.texas.LoadingUI")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(e,i){void 0===i&&(i=!1);var n=t.call(this)||this;return n.image=new egret.Bitmap,n.setNativSize=i,n.addChild(n.image),n.reload(e),n}return __extends(e,t),e.prototype.reload=function(t){null!=t&&""!=t&&(null==this.loader&&(this.loader=new egret.ImageLoader,this.loader.addEventListener(egret.Event.COMPLETE,this.loadComplete,this)),this.loader.load(t))},e.prototype.loadComplete=function(t){null!=this.image.texture&&this.image.texture.dispose();var e=this.loader.data,i=new egret.Texture;i._setBitmapData(e),this.image.texture=i,this.setNativSize&&(this.image.width=this.image.texture.textureWidth,this.image.height=this.image.texture.textureHeight)},e.prototype.dispose=function(){null!=this.loader&&this.loader.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),null!=this.image.texture&&this.image.texture!=RES.getRes("defUser")&&(this.image.texture.dispose(),this.image.texture=null)},e.prototype.$setWidth=function(t){return this.image.width=t,!0},e.prototype.$getWidth=function(){return this.image.width},e.prototype.$setHeight=function(t){return this.image.height=t,!0},e.prototype.$getHeight=function(){return this.image.height},e}(egret.DisplayObjectContainer);t.NetImage=e,__reflect(e.prototype,"kelvin.texas.NetImage")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.show=function(){lzm.Alert.alert(new t.CommonPopup("网络断开，3秒后将刷新页面重新连接",function(){window.location.reload()})),egret.setTimeout(function(){window.location.reload()},this,3e3)},i.prototype.onOkBtn=function(t){},i}(egret.DisplayObjectContainer);t.NetWorkError=e,__reflect(e.prototype,"kelvin.texas.NetWorkError")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.show=function(e){void 0===e&&(e=!1),t.Log.log("NetworkLoading =========== show");var i=0;return i},e.hideBackGround=function(){},e.realyShow=function(){},e.hide=function(){t.Log.log("NetworkLoading =========== hide"),e.showCount--},e}();t.NetworkLoading=e,__reflect(e.prototype,"kelvin.texas.NetworkLoading")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.view=t,i.createGameScene(),i}return __extends(i,e),i.prototype.createGameScene=function(){this.bgSp=t.Tool.createRectSprite(t.App.stageWidth,t.App.stageHeight,0,0,0,.7),this.addChildAt(this.bgSp,0),this.bgSp.touchEnabled=!0,this.bgSp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.addChild(this.view)},i.prototype.show=function(e,i,n){void 0===n&&(n=.7),this.bgSp.alpha=n,this.animatypes=e,this.animatypee=i,1==this.animatypes?(this.view.anchorOffsetY=this.view.height,this.view.y=t.App.stageHeight,this.view.x=-this.view.width,this.view.scaleX=this.view.scaleY=t.ExtGameHelper.getGameScalex(),egret.Tween.get(this.view).to({x:0},250,egret.Ease.quartOut).call(function(){},this)):2==this.animatypes?(this.view.anchorOffsetX=this.view.width,this.view.anchorOffsetY=this.view.height,this.view.y=t.App.stageHeight,this.view.x=t.App.stageWidth+this.view.width,this.view.scaleX=this.view.scaleY=t.ExtGameHelper.getGameScalex(),egret.Tween.get(this.view).to({x:t.App.stageWidth},250,egret.Ease.quartOut).call(function(){},this)):3==this.animatypes&&(this.view.x=0,this.view.y=-this.view.height,egret.Tween.get(this.view).to({y:0},250,egret.Ease.quartOut).call(function(){},this))},i.prototype.hide=function(){var e=this;1==this.animatypee?(egret.Tween.removeTweens(this.view),egret.Tween.get(this.view).to({x:-this.view.width},250,egret.Ease.quartOut).call(function(){e.dispose()},this)):2==this.animatypee?(egret.Tween.removeTweens(this.view),egret.Tween.get(this.view).to({x:t.App.stageWidth+this.view.width},250,egret.Ease.quartOut).call(function(){e.dispose()},this)):3==this.animatypee&&(egret.Tween.removeTweens(this.view),egret.Tween.get(this.view).to({y:-this.view.height},250,egret.Ease.quartOut).call(function(){e.dispose()},this))},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.view.dispose(),this.bgSp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},i}(t.BasePanel);t.PopupContainer=e,__reflect(e.prototype,"kelvin.texas.PopupContainer")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.scrollSize=new eui.Image,e.scrollSize.visible=!1,e.container=new eui.Group,e.container.addChild(e.scrollSize),e.viewport=e.container,e}return __extends(e,t),e.prototype.setShowSize=function(t,e){this.width=t,this.height=e},e.prototype.setScrollSize=function(t,e){this.scrollSize.width=t,this.scrollSize.height=e},e.prototype.removeAllChild=function(){this.container.removeChildren(),this.container.addChild(this.scrollSize)},e.prototype.reStartAnimation=function(){var t=this.$Scroller;t[8].started=!0,t[8].velocity=0,t[8].previousTime=0,t[8].previousVelocity=[],t[9].started=!0,t[9].velocity=0,t[9].previousTime=0,t[9].previousVelocity=[],this.onTouchEnd(null)},e}(eui.Scroller);t.ScrollView=e,__reflect(e.prototype,"kelvin.texas.ScrollView")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.isContained=function(t,e){if(!(t instanceof Array&&e instanceof Array))return!1;if(t.length<e.length)return!1;for(var i=t.toString(),n=0,a=e.length;a>n;n++)if(-1==i.indexOf(e[n]))return!1;return!0},t.AscendingArray=function(t,e){function i(t){return function(e,i){var n=e[t],a=i[t];return n-a}}e.sort(i(t))},t.sortGameData=function(e){for(var i=[],n=[],a=0;a<e.length;a++)1==e[a].signed||3==e[a].signed?i.push(e[a]):n.push(e[a]);t.AscendingArray("start_time",i),t.AscendingArray("start_time",n);for(var s=[],a=0;a<i.length;a++)s.push(i[a]);for(var a=0;a<n.length;a++)s.push(n[a]);return s},t}();t.ArrayUtil=e,__reflect(e.prototype,"kelvin.texas.ArrayUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.replaceTextfield=function(t,e){var i=new egret.BitmapText,n=t;if(i.font=e,i.textAlign=n.textAlign,i.text=n.text,i.name=n.name,i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height,i.anchorOffsetX=n.anchorOffsetX,i.anchorOffsetY=n.anchorOffsetY,null!=n.parent){var a=n.parent.getChildIndex(n);n.parent.addChildAt(i,a),n.parent.removeChild(n)}return i},t}();t.BmTextUtil=e,__reflect(e.prototype,"kelvin.texas.BmTextUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.copy=function(e){if(t.App.isWeiDuan())t.NativeTools.copy(e);else{var i=document.createElement("input");i.value=e,document.body.appendChild(i),i.select(),i.setSelectionRange(0,i.value.length),document.execCommand("Copy"),document.body.removeChild(i)}},e}();t.ClipBoard=e,__reflect(e.prototype,"kelvin.texas.ClipBoard")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.hitTest=function(t,e){var i=t.getBounds(),n=e.getBounds();return i.x=t.parent.localToGlobal(t.x,t.y).x,i.y=t.parent.localToGlobal(t.x,t.y).y,n.x=e.parent.localToGlobal(e.x,e.y).x,n.y=e.parent.localToGlobal(e.x,e.y).y,i.intersects(n)},e.hitTestP=function(t,e){var i,n;return i=e.x+e.width/2,n=e.y+e.height-e.width/2,t.hitTestPoint(i,n)?!0:!1},e.sreatPoints=function(t){for(var e=[],i=40,n=40,a=t.height/i,s=t.width/n,o=0;a>=o;o++)for(var r=0;s>=r;r++){var h=new egret.Point(t.x+r*n,t.y+o*i);e.push(h)}return e},e.getObjPoint=function(e,i){var n=new egret.Sprite;n.addChild(e),t.Tool.center(n,!0),n.x=n.width/2,n.y=n.height/2;var a=new egret.Shape;a.graphics.beginFill(16777215,0),a.graphics.drawRect(0,0,20,20),a.graphics.endFill(),a.x=n.width/2,a.y=n.height/2;var s=new egret.Point;return s=n.localToGlobal(a.x,a.y),s.x>i.x&&s.x<i.x+i.width&&s.y>i.y&&s.y<i.y+i.height?!0:!1},e}();t.CollisionUtils=e,__reflect(e.prototype,"kelvin.texas.CollisionUtils")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.setGray=function(t){var e=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],i=new egret.ColorMatrixFilter(e);t.filters=[i]},t.setLittleBlack=function(t){var e=[.6,0,0,0,0,0,.6,0,0,0,0,0,.6,0,0,0,0,0,1,0],i=new egret.ColorMatrixFilter(e);t.filters=[i]},t.clearColor=function(t){t.filters=null},t}();t.ColorUtil=e,__reflect(e.prototype,"kelvin.texas.ColorUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.getFormatBySecond=function(t,e){void 0===e&&(e=1);var i="";switch(e){case 1:i=this.getFormatBySecond1(t);break;case 2:i=this.getFormatBySecond2(t);break;case 3:i=this.getFormatBySecond3(t);break;case 4:i=this.getFormatBySecond4(t);break;case 5:i=this.getFormatBySecond5(t);break;case 6:i=this.getFormatBySecond6(t)}return i},t.prototype.getFormatBySecond1=function(t){void 0===t&&(t=0);var e,i=Math.floor(t/3600);e=0==i?"00":10>i?"0"+i:""+i;var n,a,s=Math.floor((t-3600*i)/60),o=Math.floor((t-3600*i)%60);return n=0==s?"00":10>s?"0"+s:""+s,a=0==o?"00":10>o?"0"+o:""+o,e+":"+n+":"+a},t.prototype.getFormatBySecond3=function(t){void 0===t&&(t=0);var e,i,n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),s=Math.floor((t-3600*n)%60);return e=0==a?"00":10>a?"0"+a:""+a,i=0==s?"00":10>s?"0"+s:""+s,e+":"+i},t.prototype.getFormatBySecond2=function(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),s=e.getHours(),o=e.getMinutes(),r=e.getSeconds();return i+"-"+n+"-"+a+" "+s+":"+o+":"+r},t.prototype.getFormatBySecond4=function(t){var e=Math.floor(t/3600);return e>0?e>24?Math.floor(e/24)+"天前":e+"小时前":Math.floor(t/60)+"分钟前"},t.prototype.getFormatBySecond6=function(t){void 0===t&&(t=0);var e,i=Math.floor(t/3600);e=0==i?"":i+"小时";var n,a=Math.floor((t-3600*i)/60);Math.floor((t-3600*i)%60);return n=a+"分钟",e+n
},t.prototype.getFormatBySecond5=function(t){var e=86400,i=3600,n=60,a=Math.floor(t/e),s=Math.floor(t%e/i),o=Math.floor((t-s*i)/n),r=Math.floor((t-s*i)%n),h="",l="",c="",p="";return t>0?0==a?(h="",0==s?(l="",0==o?(c="",p=0==r?"":10>r?"0"+r+"秒":""+r+"秒"):(c=""+o+"分",p=0==r?"":10>r?"0"+r+"秒":""+r+"秒",c+p)):(l=s+"小时",0==o?(c="",p=0==r?"":10>r?"0"+r+"秒":""+r+"秒"):(c=10>o?"0"+o+"分":""+o+"分",l+c))):(h=a+"天",l=0==s?"":10>s?"0"+s+"小时":""+s+"小时",h+l):""},t.fmtDate=function(t){var e=new Date(t),i=e.getFullYear(),n="0"+(e.getMonth()+1),a="0"+e.getDate();return i+"-"+n.substring(n.length-2,n.length)+"-"+a.substring(a.length-2,a.length)},t.formatDate=function(t){var e=new Date(t),i=""+(e.getMonth()+1),n=""+e.getDate(),a=e.getFullYear();return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),[a,i,n].join("-")},t.timestampToTime=function(t){var e=new Date(1e3*t),i=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",a=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",s=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",o=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return i+n+a+s+o+r},t}();t.DateUtils=e,__reflect(e.prototype,"kelvin.texas.DateUtils")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.clearCmd=function(){t._commands={},t._commandsThisObjects={}},t.registerCmd=function(e,i,n,a){void 0===a&&(a=!1);var s=t._commands[e];null==s&&(s=[]),a?s.unshift([i,n]):s.push([i,n]),t._commands[e]=s},t.removeCmd=function(e,i,n){var a=t._commands[e];null==a&&(a=[]);for(var s=-1,o=a.length,r=0;o>r;r++)a[r][0]==i&&a[r][1]==n&&(s=r);-1!=s&&a.splice(s,1),t._commands[e]=a},t.dispatchCmd=function(e,i){var n=t._commands[e];null==n&&(n=[]);for(var a,s,o=0;o<n.length;o++)a=n[o][1],s=n[o][0],s.apply(a,[i])},t._commands={},t._commandsThisObjects={},t}();t.EventManager=e,__reflect(e.prototype,"kelvin.texas.EventManager")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.init=function(i){return null==e.fingerprint2?void(null!=i&&i()):(t.NetworkLoading.show(),null!=e.fingerprintData?(t.NetworkLoading.hide(),void(null!=i&&i())):void e.fingerprint2.get(function(n,a){t.NetworkLoading.hide(),e.fingerprintData=n,null!=i&&i()}))},e.getId=function(){if(null==e.fingerprintData)return null;if(t.App.isAndroid())return(new md5).hex_md5(e.getBuild());for(var i=e.fingerprintData.length,n=0;i>n;n++){var a=e.fingerprintData[n];if("canvas"==a.key)return(new md5).hex_md5(a.value[1])}},e.getBuild=function(){if(null==e.fingerprintData)return null;for(var t=e.fingerprintData.length,i=0;t>i;i++){var n=e.fingerprintData[i];if("userAgent"==n.key){var a=n.value.toString().split(")");return a=a[0],a=a.split(";"),a=a[a.length-1]}}return null},e.getAvailableScreenResolution=function(){return window.screen.availWidth+"_"+window.screen.availHeight},e}();t.Fingerprint2Utils=e,__reflect(e.prototype,"kelvin.texas.Fingerprint2Utils")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.initVariables=function(i,n,a,s,o){void 0===a&&(a=!1),void 0===s&&(s=null),void 0===o&&(o=null),null==s&&(s=[]),null==o&&(o=[]);for(var r,h,l,c=n.$children.length,p=0;c>p;p++){h=n.$children[p],r=h.name;var u=egret.getQualifiedClassName(h);null!=r&&""!=r&&(null!=i[r]&&t.Log.log("变量名字定义重复:"+r),i[r]=h),"starlingswf.SwfButton"==u&&(l="on_"+r,i[l]&&(h.addEventListener(starlingswf.SwfButton.onClick,i[l],i),s.push(h),o.push(r))),a&&"starlingswf.SwfSprite"==u&&e.initVariables(i,h,a,s,o)}i._hasEventBtns_=s,i._hasEventBtnNames_=o},e.disposeVariables=function(t){var e=t._hasEventBtns_,i=t._hasEventBtnNames_;if(null!=e&&null!=i)for(var n=e.length,a=0;n>a;a++)e[a].removeEventListener(starlingswf.SwfButton.onClick,t[i[a]],t)},e.initVariablesWithType=function(t,e,i){for(var n,a,s=e.$children.length,o=0;s>o;o++)a=e.$children[o],n=a.name,null!=n&&""!=n&&a instanceof i&&(t[n]=a)},e}();t.InterfaceVariablesUtil=e,__reflect(e.prototype,"kelvin.texas.InterfaceVariablesUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.layout_up=function(t){},e.layout_down=function(i){i.y=t.App.stageHeight-(t.App.designHeight-e.getLayoutY(i))},e.layout_left=function(t){},e.layout_left_up=function(t){e.layout_left(t),e.layout_up(t)},e.layout_left_down=function(t){e.layout_left(t),e.layout_down(t)},e.layout_right=function(i){i.x=t.App.stageWidth-(t.App.designWidth-e.getLayoutX(i))},e.layout_right_up=function(t){e.layout_right(t),e.layout_up(t)},e.layout_right_down=function(t){e.layout_right(t),e.layout_down(t)},e.layout_center_x=function(e){e.x=(t.App.stageWidth-e.width)/2},e.layout_center_y=function(e){e.y=(t.App.stageHeight-e.height)/2},e.layout_center_xy=function(t){e.layout_center_x(t),e.layout_center_y(t)},e.layout_center_up=function(t){e.layout_center_x(t),e.layout_up(t)},e.layout_center_down=function(t){e.layout_center_x(t),e.layout_down(t)},e.layout_fill=function(e){e.width=t.App.stageWidth,e.height=t.App.stageHeight},e.getLayoutX=function(t){return t._layout_x_?t._layout_x_:(t._layout_x_=t.x,t.x)},e.getLayoutY=function(t){return t._layout_y_?t._layout_y_:(t._layout_y_=t.y,t.y)},e.layout_scale=function(e){var i=t.App.designWidth/t.App.designHeight,n=t.App.stageWidth/t.App.stageHeight,a=i/n;.8>a&&(a=.8),a>.9?e.scaleX=e.scaleY=a:e.scaleX=e.scaleY=a},e}();t.LayoutUtil=e,__reflect(e.prototype,"kelvin.texas.LayoutUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.log=function(t){this.enabled&&egret.log(t)},t.prototype.tracktrace=function(t){void 0===t&&(t=10);var e=arguments.callee.caller,i=0;for(t=t||10,console.log("***----------------------------------------  ** "+(i+1));e&&t>i;)console.log(e.toString()),e=e.caller,i++,console.log("***---------------------------------------- ** "+(i+1))},t.enabled=!0,t}();t.Log=e,__reflect(e.prototype,"kelvin.texas.Log")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.login=function(e,i,n,a,s){t.UserApi.login(e,i,function(e){t.App.heart(),n.gotoPanel(new t.MainPanel),lzm.Alert.closeAllAlert(),t.AccountData.isNeedAutomaticLogin="2",a&&a()},s)},e}();t.LoginUtil=e,__reflect(e.prototype,"kelvin.texas.LoginUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var md5=function(){function t(){this.hexcase=0,this.b64pad=""}return t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.any_hmac_md5=function(t,e,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),i)},t.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.rstr_hmac_md5=function(t,e){var i=this.rstr2binl(t);i.length>16&&(i=this.binl_md5(i,8*t.length));for(var n=Array(16),a=Array(16),s=0;16>s;s++)n[s]=909522486^i[s],a[s]=1549556828^i[s];var o=this.binl_md5(n.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(a.concat(o),640))},t.prototype.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",a="",s=0;s<t.length;s++)i=t.charCodeAt(s),a+=n.charAt(i>>>4&15)+n.charAt(15&i);return a},t.prototype.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",a=t.length,s=0;a>s;s+=3)for(var o=t.charCodeAt(s)<<16|(a>s+1?t.charCodeAt(s+1)<<8:0)|(a>s+2?t.charCodeAt(s+2):0),r=0;4>r;r++)n+=8*s+6*r>8*t.length?this.b64pad:i.charAt(o>>>6*(3-r)&63);return n},t.prototype.rstr2any=function(t,e){var i,n,a,s,o,r=e.length,h=Array(Math.ceil(t.length/2));for(i=0;i<h.length;i++)h[i]=t.charCodeAt(2*i)<<8|t.charCodeAt(2*i+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),c=Array(l);for(n=0;l>n;n++){for(o=Array(),s=0,i=0;i<h.length;i++)s=(s<<16)+h[i],a=Math.floor(s/r),s-=a*r,(o.length>0||a>0)&&(o[o.length]=a);c[n]=s,h=o}var p="";for(i=c.length-1;i>=0;i--)p+=e.charAt(c[i]);return p},t.prototype.str2rstr_utf8=function(t){for(var e,i,n="",a=-1;++a<t.length;)e=t.charCodeAt(a),i=a+1<t.length?t.charCodeAt(a+1):0,e>=55296&&56319>=e&&i>=56320&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),a++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n},t.prototype.str2rstr_utf16le=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i),t.charCodeAt(i)>>>8&255);return e},t.prototype.str2rstr_utf16be=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)>>>8&255,255&t.charCodeAt(i));return e},t.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(var i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e},t.prototype.binl2rstr=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},t.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,a=-1732584194,s=271733878,o=0;o<t.length;o+=16){var r=i,h=n,l=a,c=s;i=this.md5_ff(i,n,a,s,t[o+0],7,-680876936),s=this.md5_ff(s,i,n,a,t[o+1],12,-389564586),a=this.md5_ff(a,s,i,n,t[o+2],17,606105819),n=this.md5_ff(n,a,s,i,t[o+3],22,-1044525330),i=this.md5_ff(i,n,a,s,t[o+4],7,-176418897),s=this.md5_ff(s,i,n,a,t[o+5],12,1200080426),a=this.md5_ff(a,s,i,n,t[o+6],17,-1473231341),n=this.md5_ff(n,a,s,i,t[o+7],22,-45705983),i=this.md5_ff(i,n,a,s,t[o+8],7,1770035416),s=this.md5_ff(s,i,n,a,t[o+9],12,-1958414417),a=this.md5_ff(a,s,i,n,t[o+10],17,-42063),n=this.md5_ff(n,a,s,i,t[o+11],22,-1990404162),i=this.md5_ff(i,n,a,s,t[o+12],7,1804603682),s=this.md5_ff(s,i,n,a,t[o+13],12,-40341101),a=this.md5_ff(a,s,i,n,t[o+14],17,-1502002290),n=this.md5_ff(n,a,s,i,t[o+15],22,1236535329),i=this.md5_gg(i,n,a,s,t[o+1],5,-165796510),s=this.md5_gg(s,i,n,a,t[o+6],9,-1069501632),a=this.md5_gg(a,s,i,n,t[o+11],14,643717713),n=this.md5_gg(n,a,s,i,t[o+0],20,-373897302),i=this.md5_gg(i,n,a,s,t[o+5],5,-701558691),s=this.md5_gg(s,i,n,a,t[o+10],9,38016083),a=this.md5_gg(a,s,i,n,t[o+15],14,-660478335),n=this.md5_gg(n,a,s,i,t[o+4],20,-405537848),i=this.md5_gg(i,n,a,s,t[o+9],5,568446438),s=this.md5_gg(s,i,n,a,t[o+14],9,-1019803690),a=this.md5_gg(a,s,i,n,t[o+3],14,-187363961),n=this.md5_gg(n,a,s,i,t[o+8],20,1163531501),i=this.md5_gg(i,n,a,s,t[o+13],5,-1444681467),s=this.md5_gg(s,i,n,a,t[o+2],9,-51403784),a=this.md5_gg(a,s,i,n,t[o+7],14,1735328473),n=this.md5_gg(n,a,s,i,t[o+12],20,-1926607734),i=this.md5_hh(i,n,a,s,t[o+5],4,-378558),s=this.md5_hh(s,i,n,a,t[o+8],11,-2022574463),a=this.md5_hh(a,s,i,n,t[o+11],16,1839030562),n=this.md5_hh(n,a,s,i,t[o+14],23,-35309556),i=this.md5_hh(i,n,a,s,t[o+1],4,-1530992060),s=this.md5_hh(s,i,n,a,t[o+4],11,1272893353),a=this.md5_hh(a,s,i,n,t[o+7],16,-155497632),n=this.md5_hh(n,a,s,i,t[o+10],23,-1094730640),i=this.md5_hh(i,n,a,s,t[o+13],4,681279174),s=this.md5_hh(s,i,n,a,t[o+0],11,-358537222),a=this.md5_hh(a,s,i,n,t[o+3],16,-722521979),n=this.md5_hh(n,a,s,i,t[o+6],23,76029189),i=this.md5_hh(i,n,a,s,t[o+9],4,-640364487),s=this.md5_hh(s,i,n,a,t[o+12],11,-421815835),a=this.md5_hh(a,s,i,n,t[o+15],16,530742520),n=this.md5_hh(n,a,s,i,t[o+2],23,-995338651),i=this.md5_ii(i,n,a,s,t[o+0],6,-198630844),s=this.md5_ii(s,i,n,a,t[o+7],10,1126891415),a=this.md5_ii(a,s,i,n,t[o+14],15,-1416354905),n=this.md5_ii(n,a,s,i,t[o+5],21,-57434055),i=this.md5_ii(i,n,a,s,t[o+12],6,1700485571),s=this.md5_ii(s,i,n,a,t[o+3],10,-1894986606),a=this.md5_ii(a,s,i,n,t[o+10],15,-1051523),n=this.md5_ii(n,a,s,i,t[o+1],21,-2054922799),i=this.md5_ii(i,n,a,s,t[o+8],6,1873313359),s=this.md5_ii(s,i,n,a,t[o+15],10,-30611744),a=this.md5_ii(a,s,i,n,t[o+6],15,-1560198380),n=this.md5_ii(n,a,s,i,t[o+13],21,1309151649),i=this.md5_ii(i,n,a,s,t[o+4],6,-145523070),s=this.md5_ii(s,i,n,a,t[o+11],10,-1120210379),a=this.md5_ii(a,s,i,n,t[o+2],15,718787259),n=this.md5_ii(n,a,s,i,t[o+9],21,-343485551),i=this.safe_add(i,r),n=this.safe_add(n,h),a=this.safe_add(a,l),s=this.safe_add(s,c)}return[i,n,a,s]},t.prototype.md5_cmn=function(t,e,i,n,a,s){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(n,s)),a),i)},t.prototype.md5_ff=function(t,e,i,n,a,s,o){return this.md5_cmn(e&i|~e&n,t,e,a,s,o)},t.prototype.md5_gg=function(t,e,i,n,a,s,o){return this.md5_cmn(e&n|i&~n,t,e,a,s,o)},t.prototype.md5_hh=function(t,e,i,n,a,s,o){return this.md5_cmn(e^i^n,t,e,a,s,o)},t.prototype.md5_ii=function(t,e,i,n,a,s,o){return this.md5_cmn(i^(e|~n),t,e,a,s,o)},t.prototype.safe_add=function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},t.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();__reflect(md5.prototype,"md5");var kelvin;!function(t){var e;!function(t){var e=function(){function e(t){var e=document.getElementById("gameDiv");this.htmlCode=document.createElement("img"),this.htmlCode.src=t,this.htmlCode.style.position="absolute",this.htmlCode.style.display="none",e.appendChild(this.htmlCode),this.shape=new egret.Shape,this.shape.touchEnabled=!0,this.shape.addEventListener(egret.TouchEvent.TOUCH_TAP,this.on_Shape,this)}return e.prototype.on_Shape=function(t){this.destroy()},e.prototype.showHtmlCode=function(){this.htmlCode&&(this.htmlCode.style.display="inline",this.shape.graphics.clear(),this.shape.graphics.beginFill(0,.7),this.shape.graphics.drawRect(0,0,t.App.stage.stageWidth,t.App.stage.stageHeight),this.shape.graphics.endFill(),t.App.stage.addChild(this.shape))},e.prototype.hideHtmlCode=function(){this.htmlCode&&(this.htmlCode.style.display="none",t.App.stage.removeChild(this.shape))},e.prototype.setPosition=function(e,i,n,a){if(null!=this.htmlCode)if(document.body.clientWidth<document.body.clientHeight){var s=document.body.clientWidth/t.App.stage.stageWidth,o=document.body.clientHeight/t.App.stage.stageHeight;this.htmlCode.style.width=n*s+"px",this.htmlCode.style.height=a*o+"px",this.htmlCode.style.left=e*s+"px",this.htmlCode.style.top=i*o+"px"}else{var s=document.body.clientWidth/t.App.stage.stageHeight,o=document.body.clientHeight/t.App.stage.stageWidth;this.htmlCode.style.width=a*s+"px",this.htmlCode.style.height=n*o+"px",this.htmlCode.style.top=(t.App.stage.stageWidth-e-n)*o+"px",this.htmlCode.style.left=i*s+"px"}},e.prototype.destroy=function(){this.htmlCode&&(this.htmlCode.parentNode.removeChild(this.htmlCode),this.htmlCode=null,this.shape.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.on_Shape,this),this.shape.parent&&t.App.stage.removeChild(this.shape))},e}();t.QRCode=e,__reflect(e.prototype,"kelvin.texas.QRCode")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.getRandomIntBetween=function(t,e,i){return void 0===i&&(i=!0),i?parseInt((t+(e-t)*Math.random()).toString()):t+(e-t)*Math.random()},t.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var i=e-t;return t+Math.random()*i},t.limitInteger=function(t,e){return Math.round(this.limit(t,e))},t.prototype.randomArray=function(t){var e=Math.floor(Math.random()*t.length);return t[e]},t.getArray=function(e,i,n){for(var a=new Array;a.length<e;){var s=t.getRandom(i,n);1!=t.search(a,s)&&a.push(s)}return a},t.getRandom=function(t,e){return Math.round(Math.random()*(t-e))+e},t.search=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0},t.guid=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},t}();t.RandomUtils=e,__reflect(e.prototype,"kelvin.texas.RandomUtils")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function e(){}return e.shareImgAndCode=function(e,i){void 0===i&&(i="session"),t.AppWx.shareWxImage(e,i)},e.getShareCode=function(e,i,n,a){void 0===n&&(n=0),void 0===a&&(a=0);var s=t.AppConfig.downUrl+"?recommend=",o=qr.QRCode.create(s,e,i,qr.QRErrorCorrectLevel.M,8,0);return o.x=n,o.y=a,o},e}();t.ShareUtils=e,__reflect(e.prototype,"kelvin.texas.ShareUtils")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.number_chinese=function(t){var e=String(t),i="",n="仟佰拾亿仟佰拾万仟佰拾元角分";e+="00";var a=e.indexOf(".");a>=0&&(e=e.substring(0,a)+e.substr(a+1,2)),n=n.substr(n.length-e.length);for(var s=0;s<e.length;s++)i+="零壹贰叁肆伍陆柒捌玖".substr(Number(e.substr(s,1)),1)+n.substr(s,1);var o=i.replace(/零角零分$/,"整").replace(/零[仟佰拾]/g,"零").replace(/零{2,}/g,"零").replace(/零([亿|万])/g,"$1").replace(/零+元/,"元").replace(/亿零{0,3}万/,"亿").replace(/^元/,"零元");return o.replace("整","").replace("元","")},t.cutOutName=function(t,e,i){void 0===e&&(e=6),void 0===i&&(i="");for(var n=new RegExp("^[a-zA-Z0-9]+$"),a=String(t),s=a.split(""),o=0,r=0,h=0,l=0;l<s.length;l++)n.test(s[l])?(o+=1,2*e>=o&&h++):(o+=2,2*e>=o&&r++);var c=Math.floor(r+h);return a=a.slice(0,c)+i},t.getNumByStr=function(t){return t.replace(/[^\x00-\xff]/g,"**").length},t.judgeOnlyContainEAndC=function(t){for(var e=!0,i=t.split(""),n=0;n<i.length;n++)if(!(/^[\u4e00-\u9fa5]/.test(i[n])||/^[a-zA-Z]/.test(i[n])||/\d+/.test(i[n])))return e=!1;return e},t.isPhoneNumber=function(t){var e=/^1[3456789]\d{9}$/;return e.test(t)},t.isHaveIllegal=function(t){var e=new RegExp("[^a-zA-Z0-9_一-龥]","i");return e.test(t)},t.isPositiveInteger=function(t){return/(^[1-9]\d*$)/.test(t)},t}();t.StrUtil=e,__reflect(e.prototype,"kelvin.texas.StrUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(e){var i=function(){function i(){}return i.createBitmapByName=function(t,e,i,n,a,s){if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=0),null==t)return new egret.Bitmap;try{var o=new egret.Bitmap,r=RES.getRes(t);return null==r&&RES.getResAsync(t,function(t){o.texture=t},this),o.texture=r,o.name=t,o.touchEnabled=e,o.x=i,o.y=n,a&&(o.width=a),s&&(o.height=s),o}catch(h){var l=new egret.Bitmap;return egret.warn("图片加载出错",h,t),l}},i.createBitmapBySheet=function(t,e){var i=new egret.Bitmap,n=t.getTexture(e);return i.texture=n,i},i.createBitmapByUrl=function(t,e,i){var n=t;RES.getResByUrl(n,function(t){var i=t;e.texture=i},i,RES.ResourceItem.TYPE_IMAGE)},i.getTextureByUrl=function(t){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(i){return[2,new Promise(function(i,n){var a=new egret.ImageLoader;a.addEventListener(egret.Event.COMPLETE,function(){var t=a.data,e=new egret.Texture;e._setBitmapData(t),i(e)},e),a.load(t)})]})})},i.getTxtByUrl=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,new Promise(function(e,i){RES.getResByUrl(t,function(t){var i=t;e(i)},self,RES.ResourceItem.TYPE_JSON)})]})})},i.getTextureByName=function(t){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(i){return[2,new Promise(function(i,n){var a=RES.getRes(t);null==a?RES.getResAsync(t,function(t){a=t,i(a)},e):i(a)})]})})},i.getTextureByUrlOrName=function(t){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(n){try{return[2,new Promise(function(n,a){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(a){switch(a.label){case 0:return-1==t.indexOf("http")?[3,2]:(t=t.replace("\r",""),[4,i.getTextureByUrl(t)]);case 1:return e=a.sent(),[3,4];case 2:return[4,i.getTextureByName(t)];case 3:e=a.sent(),a.label=4;case 4:return n(e),[2]}})})})]}catch(a){return console.log("加载图片出错"),[2,new Promise(function(t,i){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){return t(null),[2]})})})]}return[2]})})},i.createBitmapText=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var n=RES.getRes(t),a=new egret.BitmapText;return a.font=n,a.x=e,a.y=i,a.textAlign="center",a},i.createMovieClip=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=""),""==e&&(e=t),""==i&&(i=t);var n=RES.getRes(e+"_json"),a=RES.getRes(i+"_png"),s=new egret.MovieClipDataFactory(n,a),o=s.generateMovieClipData(t),r=new egret.MovieClip(o);return r},i.createRectSprite=function(t,e,i,n,a,s){void 0===i&&(i=null),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=1);var o=new egret.Sprite;return null==i?o.graphics.beginFill(0,0):o.graphics.beginFill(i,1),o.graphics.drawRect(0,0,t,e),o.graphics.endFill(),o.x=n,o.y=a,o.width=t,o.height=e,o.alpha=s,o},i.createSprite=function(t,e,n,a,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=!1);var o=new egret.Sprite;return o.width=n,o.height=a,s&&i.center(o),o.x=t,o.y=e,o},i.createTextFiled=function(t,e,i,n,a,s,o,r,h,l){void 0===a&&(a=""),void 0===s&&(s=35),void 0===o&&(o=0),void 0===r&&(r="left"),void 0===h&&(h="middle"),void 0===l&&(l=!1);var c=new egret.TextField;return c.fontFamily="SimHei",c.x=t,c.y=e,i>0&&(c.width=i),n>0&&(c.height=n),c.text=a,c.size=s,c.textColor=o,c.bold=l,c.textAlign=r,c.verticalAlign=h,c},i.setInputTextFiled=function(t,e,i,n,a){void 0===i&&(i=16777215),void 0===n&&(n=11184810),void 0===a&&(a=!0),t.type="input",a?t.addEventListener(egret.FocusEvent.FOCUS_IN,function(){t.text="",t.textColor=i},this):t.once(egret.FocusEvent.FOCUS_IN,function(){t.text="",t.textColor=i},this),t.addEventListener(egret.FocusEvent.FOCUS_OUT,function(){""==t.text&&(t.text=e),t.textColor=n},this)},i.createCircularMask=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var n,a=new egret.Sprite;n=t.width>t.height?t.height:t.width;var s=new egret.Sprite;return s.graphics.beginFill(0),s.graphics.drawCircle(t.width/2+t.x,t.height/2+t.y,n/2),s.graphics.endFill(),t.mask=s,a.addChild(t),a.addChild(s),a.x=e,a.y=i,a},i.createRectMask=function(t,e,i){var n=new egret.Sprite,a=new egret.Sprite;return a.graphics.beginFill(0),a.graphics.drawRoundRect(0,0,t.width,t.height,e,i),a.graphics.endFill(),t.mask=a,n.addChild(t),n.addChild(a),n.x=t.x,n.y=t.y,t.x=0,t.y=0,n},i.createRectUpOrDownMask=function(t,e,i,n){void 0===n&&(n=!0);var a=new egret.Sprite,s=new egret.Sprite;s.graphics.beginFill(0),s.graphics.drawRoundRect(0,0,t.width,t.height,e,i),s.graphics.endFill();var o=new egret.Sprite;return o.graphics.beginFill(0),o.graphics.drawRect(0,0,t.width,i),o.graphics.endFill(),s.addChild(o),1==n&&(o.y=t.height-i),t.mask=s,a.addChild(t),a.addChild(s),a.x=t.x,a.y=t.y,t.x=0,t.y=0,a},i.scaleBg=function(t,e){void 0===e&&(e="center");var i=1;i="width"==e?egret.MainContext.instance.stage.stageWidth/t.width:"height"==e?egret.MainContext.instance.stage.height/t.height:egret.MainContext.instance.stage.scaleMode==egret.StageScaleMode.FIXED_HEIGHT?egret.MainContext.instance.stage.stageWidth/t.width:egret.MainContext.instance.stage.height/t.height,t.scaleX=t.scaleY=i},i.center=function(t,e){if(void 0===e&&(e=!1),t.anchorOffsetX!=t.width>>1){if(t.anchorOffsetX=t.width>>1,t.anchorOffsetY=t.height>>1,e)return;t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY}},i.centerWidth=function(t,e){if(void 0===e&&(e=!1),t.anchorOffsetX!=t.width>>1){if(t.anchorOffsetX=t.width>>1,e)return;t.x+=t.anchorOffsetX}},i.centerHeight=function(t,e){if(void 0===e&&(e=!1),t.anchorOffsetY!=t.height>>1){if(t.anchorOffsetY=t.height>>1,e)return;t.y+=t.anchorOffsetY}},i.removeFromParent=function(t){t&&t.parent&&t.parent.contains(t)&&t.parent.removeChild(t)},i.lock=function(){egret.MainContext.instance.stage.touchEnabled=egret.MainContext.instance.stage.touchChildren=!1},i.unlock=function(){egret.MainContext.instance.stage.touchEnabled=egret.MainContext.instance.stage.touchChildren=!0},i.checkImage=function(t){t.x<egret.MainContext.instance.stage.stageWidth-t.width?t.x=egret.MainContext.instance.stage.stageWidth-t.width:t.x>0&&(t.x=0),t.y<egret.MainContext.instance.stage.stageHeight-t.height?t.y=egret.MainContext.instance.stage.stageHeight-t.height:t.y>0&&(t.y=0)},i.frameRate=function(t){return t/egret.MainContext.instance.stage.frameRate},i.getTexture=function(t){var e=new Image;e.src=t;var i=new egret.Texture,n=new egret.BitmapData(e);return i._setBitmapData(n),i},i.ButtonNarrow=function(t,e){t.anchorOffsetX==t.width/2?i.center(t,!0):i.center(t),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){t.scaleX=t.scaleY=1.1},e),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,function(){t.scaleX=t.scaleY=1},e),t.addEventListener(egret.TouchEvent.TOUCH_END,function(){t.scaleX=t.scaleY=1},e)},i.trace=function(t){var i=arguments.callee.caller,n=0;for(t=t||10,e.Log.log("***----------------------------------------  ** "+(n+1));i&&t>n;)e.Log.log(i.toString()),i=i.caller,n++,e.Log.log("***---------------------------------------- ** "+(n+1))},i.replaceSwfTxt=function(e,i){var n=i[e];i[e]=t.texas.Tool.createTextFiled(n.x,n.y,n.width,n.height,n.text,n.size,n.textColor,n.textAlign),i[e].verticalAlign=n.verticalAlign,i[e].multiline=n.multiline,i[e].text=n.text;var a=n.parent.getChildIndex(i[e]);n.parent.addChildAt(i[e],a),t.texas.Tool.removeFromParent(n)},i}();e.Tool=i,__reflect(i.prototype,"kelvin.texas.Tool")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.getQueue=function(e){null==t._queueMap&&(t._queueMap={},t._currentTween={},t._currentTimeout={});var i=t._queueMap[e];return null==i&&(i=[],t._queueMap[e]=i),i},t.get=function(e,i,n,a,s,o,r,h,l){void 0===a&&(a=null),void 0===s&&(s=0),void 0===o&&(o=null),void 0===r&&(r=null),void 0===h&&(h=null),void 0===l&&(l=null),null==l&&(l="__def__");var c=t.getQueue(l);c.push([e,i,n,a,s,o,r,h]),1==c.length&&(t._currentTween[l]=egret.Tween.get(e).to(i,n,a).call(t.callBack,t,[c,l]))},t.addWait=function(e,i,n,a,s){void 0===i&&(i=null),void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=null),null==s&&(s="__def__");var o=t.getQueue(s);o.push([e,i,n,a]),1==o.length&&t.callBack(o,s)},t.getWithKey=function(e,i,n,a,s,o,r,h,l){void 0===s&&(s=null),void 0===o&&(o=0),void 0===r&&(r=null),void 0===h&&(h=null),void 0===l&&(l=null),t.get(i,n,a,s,o,r,h,l,e)},t.addWaitWithKey=function(e,i,n,a,s){void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=null),t.addWait(i,n,a,s,e)},t.getWithNoQueue=function(e,i,n,a,s,o,r,h){void 0===a&&(a=null),void 0===s&&(s=0),void 0===o&&(o=null),void 0===r&&(r=null),void 0===h&&(h=null),t.get(e,i,n,a,s,o,r,h,(9999999*Math.random()).toString())},t.callBack=function(e,i){if(0!=e.length){var n,a,s,o,r=e[0];4==r.length?(n=r[0],a=r[1],s=r[2],o=r[3]):(n=r[4],a=r[5],s=r[6],o=r[7]),n>0?t._currentTimeout[i]=egret.setTimeout(function(){t.callBack2(a,s,o,e,i)},t,n):t.callBack2(a,s,o,e,i)}},t.callBack2=function(e,i,n,a,s){null!=e&&(null==i?e(n):e.apply(i,[n])),t._currentTween[s]=null,t._currentTimeout[s]=null,a.shift(),a.length>0&&(4==a[0].length?t.callBack(a,s):t._currentTween[s]=egret.Tween.get(a[0][0]).to(a[0][1],a[0][2],a[0][3]).call(t.callBack,t,[a,s]))},t.clearQueue=function(e){if(void 0===e&&(e="__def__"),null!=t._queueMap){var i=t._queueMap[e];null!=i&&i.splice(0,i.length),t._currentTween[e]&&egret.Tween.removeTweens(t._currentTween[e]),t._currentTimeout[e]&&egret.clearTimeout(t._currentTimeout[e])}},t.clearAllQueue=function(){if(null!=t._queueMap)for(var e in t._queueMap){var i=t._queueMap[e];i.splice(0,i.length),t._currentTween[e]&&egret.Tween.removeTweens(t._currentTween[e]),t._currentTimeout[e]&&egret.clearTimeout(t._currentTimeout[e])}},t}();t.TweenQueue=e,__reflect(e.prototype,"kelvin.texas.TweenQueue")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var kelvin;!function(t){var e;!function(t){var e=function(){function t(){}return t.getUrlArgStr=function(){var t=location.search.substr(1),e=t.split("&"),i="";if(e)for(var n=0;n<e.length;n++)i+=e[n].substring(0,e[n].indexOf("="))+"="+e[n].substring(e[n].indexOf("=")+1)+"&";return i=i.slice(0,i.length-1)},t}();t.UrlUtil=e,__reflect(e.prototype,"kelvin.texas.UrlUtil")}(e=t.texas||(t.texas={}))}(kelvin||(kelvin={}));var qr;!function(t){var e=function(){function e(e){this.mode=t.QRMode.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var i=0,n=this.data.length;n>i;i++){var a=[],s=this.data.charCodeAt(i);s>65536?(a[0]=240|(1835008&s)>>>18,a[1]=128|(258048&s)>>>12,a[2]=128|(4032&s)>>>6,a[3]=128|63&s):s>2048?(a[0]=224|(61440&s)>>>12,a[1]=128|(4032&s)>>>6,a[2]=128|63&s):s>128?(a[0]=192|(1984&s)>>>6,a[1]=128|63&s):a[0]=s,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}return e.prototype.getLength=function(t){return this.parsedData.length},e.prototype.write=function(t){for(var e=0,i=this.parsedData.length;i>e;e++)t.put(this.parsedData[e],8)},e}();t.QR8bitByte=e,__reflect(e.prototype,"qr.QR8bitByte")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){this.buffer=[],this.length=0}return t.prototype.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},t.prototype.put=function(t,e){for(var i=0;e>i;i++)this.putBit(1==(t>>>e-i-1&1))},t.prototype.getLengthInBits=function(){return this.length},t.prototype.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}();t.QRBitBuffer=e,__reflect(e.prototype,"qr.QRBitBuffer")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(){}return e.create=function(i,n,a,s,o,r){void 0===n&&(n=200),void 0===a&&(a=200),void 0===s&&(s=t.QRErrorCorrectLevel.L),void 0===o&&(o=20),void 0===r&&(r=0);var h={color:r,width:n,height:a,correctLevel:s,typeNumer:o},l=new t.QRCodeModel(h.typeNumer,h.correctLevel);return l.addData(i),l.make(),e.draw(l,h)},e.draw=function(t,e){var i=new egret.Sprite,e=e,n=t.getModuleCount(),a=e.width/n,s=e.height/n,o=10;i.graphics.moveTo(-o,-o),i.graphics.beginFill(16777215),i.graphics.drawRect(-o,-o,e.width+2*o,e.height+2*o),i.graphics.endFill();for(var r=0;n>r;r++)for(var h=0;n>h;h++){var l=t.isDark(r,h);l&&(i.graphics.moveTo(h*a,r*s),i.graphics.beginFill(e.color),i.graphics.drawRect(h*a,r*s,a,s),i.graphics.endFill())}return i},e}();t.QRCode=e,__reflect(e.prototype,"qr.QRCode")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}return e.prototype.addData=function(e){var i=new t.QR8bitByte(e);this.dataList.push(i),this.dataCache=null},e.prototype.isDark=function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},e.prototype.getModuleCount=function(){return this.moduleCount},e.prototype.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},e.prototype.makeImpl=function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)
},e.prototype.setupPositionProbePattern=function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?this.modules[t+i][e+n]=!0:this.modules[t+i][e+n]=!1)},e.prototype.getBestMaskPattern=function(){for(var e=0,i=0,n=0;8>n;n++){this.makeImpl(!0,n);var a=t.QRUtil.getLostPoint(this);(0==n||e>a)&&(e=a,i=n)}return i},e.prototype.createMovieClip=function(t,e,i){var n=t.createEmptyMovieClip(e,i),a=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*a,r=0;r<this.modules[s].length;r++){var h=r*a,l=this.modules[s][r];l&&(n.beginFill(0,100),n.moveTo(h,o),n.lineTo(h+a,o),n.lineTo(h+a,o+a),n.lineTo(h,o+a),n.endFill())}return n},e.prototype.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},e.prototype.setupPositionAdjustPattern=function(){for(var e=t.QRUtil.getPatternPosition(this.typeNumber),i=0;i<e.length;i++)for(var n=0;n<e.length;n++){var a=e[i],s=e[n];if(null==this.modules[a][s])for(var o=-2;2>=o;o++)for(var r=-2;2>=r;r++)-2==o||2==o||-2==r||2==r||0==o&&0==r?this.modules[a+o][s+r]=!0:this.modules[a+o][s+r]=!1}},e.prototype.setupTypeNumber=function(e){for(var i=t.QRUtil.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var a=!e&&1==(i>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(var n=0;18>n;n++){var a=!e&&1==(i>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=a}},e.prototype.setupTypeInfo=function(e,i){for(var n=this.errorCorrectLevel<<3|i,a=t.QRUtil.getBCHTypeInfo(n),s=0;15>s;s++){var o=!e&&1==(a>>s&1);6>s?this.modules[s][8]=o:8>s?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o}for(var s=0;15>s;s++){var o=!e&&1==(a>>s&1);8>s?this.modules[8][this.moduleCount-s-1]=o:9>s?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!e},e.prototype.mapData=function(e,i){for(var n=-1,a=this.moduleCount-1,s=7,o=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var h=0;2>h;h++)if(null==this.modules[a][r-h]){var l=!1;o<e.length&&(l=1==(e[o]>>>s&1));var c=t.QRUtil.getMask(i,a,r-h);c&&(l=!l),this.modules[a][r-h]=l,s--,-1==s&&(o++,s=7)}if(a+=n,0>a||this.moduleCount<=a){a-=n,n=-n;break}}},e.createData=function(i,n,a){for(var s=t.QRRSBlock.getRSBlocks(i,n),o=new t.QRBitBuffer,r=0;r<a.length;r++){var h=a[r];o.put(h.mode,4),o.put(h.getLength(),t.QRUtil.getLengthInBits(h.mode,i)),h.write(o)}for(var l=0,r=0;r<s.length;r++)l+=s[r].dataCount;if(o.getLengthInBits()>8*l)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*l+")");for(o.getLengthInBits()+4<=8*l&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*l)&&(o.put(e.PAD0,8),!(o.getLengthInBits()>=8*l));)o.put(e.PAD1,8);return e.createBytes(o,s)},e.createBytes=function(e,i){for(var n=0,a=0,s=0,o=new Array(i.length),r=new Array(i.length),h=0;h<i.length;h++){var l=i[h].dataCount,c=i[h].totalCount-l;a=Math.max(a,l),s=Math.max(s,c),o[h]=new Array(l);for(var p=0;p<o[h].length;p++)o[h][p]=255&e.buffer[p+n];n+=l;var u=t.QRUtil.getErrorCorrectPolynomial(c),d=new t.QRPolynomial(o[h],u.getLength()-1),g=d.mod(u);r[h]=new Array(u.getLength()-1);for(var p=0;p<r[h].length;p++){var m=p+g.getLength()-r[h].length;r[h][p]=m>=0?g.get(m):0}}for(var f=0,p=0;p<i.length;p++)f+=i[p].totalCount;for(var v=new Array(f),_=0,p=0;a>p;p++)for(var h=0;h<i.length;h++)p<o[h].length&&(v[_++]=o[h][p]);for(var p=0;s>p;p++)for(var h=0;h<i.length;h++)p<r[h].length&&(v[_++]=r[h][p]);return v},e.PAD0=236,e.PAD1=17,e}();t.QRCodeModel=e,__reflect(e.prototype,"qr.QRCodeModel")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.L=1,t.M=0,t.Q=3,t.H=2,t}();t.QRErrorCorrectLevel=e,__reflect(e.prototype,"qr.QRErrorCorrectLevel")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.PATTERN000=0,t.PATTERN001=1,t.PATTERN010=2,t.PATTERN011=3,t.PATTERN100=4,t.PATTERN101=5,t.PATTERN110=6,t.PATTERN111=7,t}();t.QRMaskPattern=e,__reflect(e.prototype,"qr.QRMaskPattern")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.glog=function(e){return t.isInit||t.init(),1>e&&console.log("错误:n="+e),t.LOG_TABLE[e]},t.gexp=function(e){for(t.isInit||t.init();0>e;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},t.init=function(){t.isInit=!0;for(var e=0;8>e;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;256>e;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;255>e;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e},t.EXP_TABLE=new Array(256),t.LOG_TABLE=new Array(256),t}();t.QRMath=e,__reflect(e.prototype,"qr.QRMath")}(qr||(qr={}));var qr;!function(t){var e=function(){function t(){}return t.MODE_NUMBER=1,t.MODE_ALPHA_NUM=2,t.MODE_8BIT_BYTE=4,t.MODE_KANJI=8,t}();t.QRMode=e,__reflect(e.prototype,"qr.QRMode")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}return e.prototype.get=function(t){return this.num[t]},e.prototype.getLength=function(){return this.num.length},e.prototype.multiply=function(i){for(var n=new Array(this.getLength()+i.getLength()-1),a=0;a<this.getLength();a++)for(var s=0;s<i.getLength();s++)n[a+s]^=t.QRMath.gexp(t.QRMath.glog(this.get(a))+t.QRMath.glog(i.get(s)));return new e(n,0)},e.prototype.mod=function(i){if(this.getLength()-i.getLength()<0)return this;for(var n=t.QRMath.glog(this.get(0))-t.QRMath.glog(i.get(0)),a=new Array(this.getLength()),s=0;s<this.getLength();s++)a[s]=this.get(s);for(var s=0;s<i.getLength();s++)a[s]^=t.QRMath.gexp(t.QRMath.glog(i.get(s))+n);return new e(a,0).mod(i)},e}();t.QRPolynomial=e,__reflect(e.prototype,"qr.QRPolynomial")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(t,e){this.totalCount=t,this.dataCount=e}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,i){var n=e.getRsBlockTable(t,i);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+i);for(var a=n.length/3,s=[],o=0;a>o;o++)for(var r=n[3*o+0],h=n[3*o+1],l=n[3*o+2],c=0;r>c;c++)s.push(new e(h,l));return s},e.getRsBlockTable=function(i,n){switch(n){case t.QRErrorCorrectLevel.L:return e.RS_BLOCK_TABLE[4*(i-1)+0];case t.QRErrorCorrectLevel.M:return e.RS_BLOCK_TABLE[4*(i-1)+1];case t.QRErrorCorrectLevel.Q:return e.RS_BLOCK_TABLE[4*(i-1)+2];case t.QRErrorCorrectLevel.H:return e.RS_BLOCK_TABLE[4*(i-1)+3];default:return}},e}();t.QRRSBlock=e,__reflect(e.prototype,"qr.QRRSBlock")}(qr||(qr={}));var qr;!function(t){var e=function(){function e(){}return e.getBCHTypeInfo=function(t){for(var i=t<<10;e.getBCHDigit(i)-e.getBCHDigit(e.G15)>=0;)i^=e.G15<<e.getBCHDigit(i)-e.getBCHDigit(e.G15);return(t<<10|i)^e.G15_MASK},e.getBCHTypeNumber=function(t){for(var i=t<<12;e.getBCHDigit(i)-e.getBCHDigit(e.G18)>=0;)i^=e.G18<<e.getBCHDigit(i)-e.getBCHDigit(e.G18);return t<<12|i},e.getBCHDigit=function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},e.getPatternPosition=function(t){return e.PATTERN_POSITION_TABLE[t-1]},e.getMask=function(e,i,n){switch(e){case t.QRMaskPattern.PATTERN000:return(i+n)%2==0;case t.QRMaskPattern.PATTERN001:return i%2==0;case t.QRMaskPattern.PATTERN010:return n%3==0;case t.QRMaskPattern.PATTERN011:return(i+n)%3==0;case t.QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case t.QRMaskPattern.PATTERN101:return i*n%2+i*n%3==0;case t.QRMaskPattern.PATTERN110:return(i*n%2+i*n%3)%2==0;case t.QRMaskPattern.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},e.getErrorCorrectPolynomial=function(e){for(var i=new t.QRPolynomial([1],0),n=0;e>n;n++)i=i.multiply(new t.QRPolynomial([1,t.QRMath.gexp(n)],0));return i},e.getLengthInBits=function(e,i){if(i>=1&&10>i)switch(e){case t.QRMode.MODE_NUMBER:return 10;case t.QRMode.MODE_ALPHA_NUM:return 9;case t.QRMode.MODE_8BIT_BYTE:return 8;case t.QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(27>i)switch(e){case t.QRMode.MODE_NUMBER:return 12;case t.QRMode.MODE_ALPHA_NUM:return 11;case t.QRMode.MODE_8BIT_BYTE:return 16;case t.QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(41>i))throw new Error("type:"+i);switch(e){case t.QRMode.MODE_NUMBER:return 14;case t.QRMode.MODE_ALPHA_NUM:return 13;case t.QRMode.MODE_8BIT_BYTE:return 16;case t.QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},e.getLostPoint=function(t){for(var e=t.getModuleCount(),i=0,n=0;e>n;n++)for(var a=0;e>a;a++){for(var s=0,o=t.isDark(n,a),r=-1;1>=r;r++)if(!(0>n+r||n+r>=e))for(var h=-1;1>=h;h++)0>a+h||a+h>=e||(0!=r||0!=h)&&o==t.isDark(n+r,a+h)&&s++;s>5&&(i+=3+s-5)}for(var n=0;e-1>n;n++)for(var a=0;e-1>a;a++){var l=0;t.isDark(n,a)&&l++,t.isDark(n+1,a)&&l++,t.isDark(n,a+1)&&l++,t.isDark(n+1,a+1)&&l++,(0==l||4==l)&&(i+=3)}for(var n=0;e>n;n++)for(var a=0;e-6>a;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(i+=40);for(var a=0;e>a;a++)for(var n=0;e-6>n;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(i+=40);for(var c=0,a=0;e>a;a++)for(var n=0;e>n;n++)t.isDark(n,a)&&c++;var p=Math.abs(100*c/e/e-50)/5;return i+=10*p},e.prototype.static_isSupportCanvas=function(){return"undefined"!=typeof CanvasRenderingContext2D},e._getTypeNumber=function(i,n){for(var a=1,s=e._getUTF8Length(i),o=0,r=e.QRCodeLimitLength.length;r>=o;o++){var h=0;switch(n){case t.QRErrorCorrectLevel.L:h=e.QRCodeLimitLength[o][0];break;case t.QRErrorCorrectLevel.M:h=e.QRCodeLimitLength[o][1];break;case t.QRErrorCorrectLevel.Q:h=e.QRCodeLimitLength[o][2];break;case t.QRErrorCorrectLevel.H:h=e.QRCodeLimitLength[o][3]}if(h>=s)break;a++}if(a>e.QRCodeLimitLength.length)throw new Error("Too long data");return a},e._getUTF8Length=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)},e.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e.G15=1335,e.G18=7973,e.G15_MASK=21522,e.QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],e}();t.QRUtil=e,__reflect(e.prototype,"qr.QRUtil")}(qr||(qr={}));var xLoader=function(){function t(){}return t.init=function(){t.isInit||(t.isInit=!0,RES.setMaxLoadingThread(8),RES.setMaxRetryTimes(3),t.loadQueue=[],t.currentLoading=null,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,t.onConfigComplete,t),RES.addEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,t.onConfigError,t),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,t.onGroupProgress,t),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.onGroupComplete,t),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,t.onGroupError,t))},t.onConfigComplete=function(e){var i=t.currentLoading[3],n=t.currentLoading[5];n&&i&&i.apply(n,[["loadConfigComplete",e]]),t.loadNext()},t.onConfigError=function(e){var i=t.currentLoading[4],n=t.currentLoading[5];n&&i&&i.apply(n,[["loadConfigError",e]])},t.onGroupProgress=function(e){if("RES__CONFIG"!=e.groupName){var i=t.currentLoading[2],n=t.currentLoading[5];n&&i&&i.apply(n,[["onResourceProgress",e]])}},t.onGroupComplete=function(e){var i=t.currentLoading[3],n=t.currentLoading[5];n&&i&&i.apply(n,[["onResourceLoadComplete",e]]),t.loadNext()},t.onGroupError=function(e){var i=t.currentLoading[4],n=t.currentLoading[5];n&&i&&i.apply(n,[["onResourceLoadError",e]])},t.loadNext=function(){if(t.currentLoading=null,0!=t.loadQueue.length){t.currentLoading=t.loadQueue.shift();var e=t.currentLoading[0];"config"==e?RES.loadConfig(t.currentLoading[1],t.currentLoading[2]):"group"==e&&RES.loadGroup(t.currentLoading[1])}},t.loadConfig=function(e,i,n,a,s){void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=null),null!=t.currentLoading?t.loadQueue.push(["config",e,i,a,s,n]):(t.currentLoading=["config",e,i,a,s,n],lzm.HttpClient.send(e,{},function(e){var n=JSON.parse(e);RES.parseConfig(n,i),t.onConfigComplete(n)}))},t.loadGroup=function(e,i,n,a,s){void 0===i&&(i=null),void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=null),null!=t.currentLoading?t.loadQueue.push(["group",e,n,a,s,i]):(t.currentLoading=["group",e,n,a,s,i],RES.loadGroup(e))},t}();__reflect(xLoader.prototype,"xLoader");